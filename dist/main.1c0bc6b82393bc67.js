"use strict";(self.webpackChunkrpg_angular_v2=self.webpackChunkrpg_angular_v2||[]).push([[179],{776:()=>{function We(n){return"function"==typeof n}function fc(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const kf=fc(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function sl(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class ur{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(We(r))try{r()}catch(s){e=s instanceof kf?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{i1(s)}catch(o){e=e??[],o instanceof kf?e=[...e,...o.errors]:e.push(o)}}if(e)throw new kf(e)}}add(e){var t;if(e&&e!==this)if(this.closed)i1(e);else{if(e instanceof ur){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&sl(t,e)}remove(e){const{_finalizers:t}=this;t&&sl(t,e),e instanceof ur&&e._removeParent(this)}}ur.EMPTY=(()=>{const n=new ur;return n.closed=!0,n})();const n1=ur.EMPTY;function r1(n){return n instanceof ur||n&&"closed"in n&&We(n.remove)&&We(n.add)&&We(n.unsubscribe)}function i1(n){We(n)?n():n.unsubscribe()}const So={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Nf={setTimeout(n,e,...t){const{delegate:r}=Nf;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Nf;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function s1(n){Nf.setTimeout(()=>{const{onUnhandledError:e}=So;if(!e)throw n;e(n)})}function By(){}const Bz=Uy("C",void 0,void 0);function Uy(n,e,t){return{kind:n,value:e,error:t}}let Ao=null;function Pf(n){if(So.useDeprecatedSynchronousErrorHandling){const e=!Ao;if(e&&(Ao={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Ao;if(Ao=null,t)throw r}}else n()}class $y extends ur{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,r1(e)&&e.add(this)):this.destination=Wz}static create(e,t,r){return new Rf(e,t,r)}next(e){this.isStopped?Hy(function $z(n){return Uy("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Hy(function Uz(n){return Uy("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Hy(Bz,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Hz=Function.prototype.bind;function jy(n,e){return Hz.call(n,e)}class Gz{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Of(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Of(r)}else Of(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Of(t)}}}class Rf extends $y{constructor(e,t,r){let i;if(super(),We(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&So.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&jy(e.next,s),error:e.error&&jy(e.error,s),complete:e.complete&&jy(e.complete,s)}):i=e}this.destination=new Gz(i)}}function Of(n){So.useDeprecatedSynchronousErrorHandling?function jz(n){So.useDeprecatedSynchronousErrorHandling&&Ao&&(Ao.errorThrown=!0,Ao.error=n)}(n):s1(n)}function Hy(n,e){const{onStoppedNotification:t}=So;t&&Nf.setTimeout(()=>t(n,e))}const Wz={closed:!0,next:By,error:function qz(n){throw n},complete:By},Gy="function"==typeof Symbol&&Symbol.observable||"@@observable";function xo(n){return n}let at=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function Kz(n){return n&&n instanceof $y||function zz(n){return n&&We(n.next)&&We(n.error)&&We(n.complete)}(n)&&r1(n)}(t)?t:new Rf(t,r,i);return Pf(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=a1(r))((i,s)=>{const o=new Rf({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Gy](){return this}pipe(...t){return function o1(n){return 0===n.length?xo:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=a1(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function a1(n){var e;return null!==(e=n??So.Promise)&&void 0!==e?e:Promise}const Qz=fc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let et=(()=>{class n extends at{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new l1(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Qz}next(t){Pf(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Pf(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Pf(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?n1:(this.currentObservers=null,s.push(t),new ur(()=>{this.currentObservers=null,sl(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new at;return t.source=this,t}}return n.create=(e,t)=>new l1(e,t),n})();class l1 extends et{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:n1}}function u1(n){return We(n?.lift)}function Lt(n){return e=>{if(u1(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Dt(n,e,t,r,i){return new Yz(n,e,t,r,i)}class Yz extends $y{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ue(n,e){return Lt((t,r)=>{let i=0;t.subscribe(Dt(r,s=>{r.next(n.call(e,s,i++))}))})}function d1(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Mo(n){return this instanceof Mo?(this.v=n,this):new Mo(n)}function Zz(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Mo?Promise.resolve(h.value.v).then(u,c):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function u(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function e4(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function f1(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}const p1=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function g1(n){return We(n?.then)}function m1(n){return We(n[Gy])}function _1(n){return Symbol.asyncIterator&&We(n?.[Symbol.asyncIterator])}function y1(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const v1=function n4(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function w1(n){return We(n?.[v1])}function E1(n){return Zz(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Mo(t.read());if(i)return yield Mo(void 0);yield yield Mo(r)}}finally{t.releaseLock()}})}function b1(n){return We(n?.getReader)}function zr(n){if(n instanceof at)return n;if(null!=n){if(m1(n))return function r4(n){return new at(e=>{const t=n[Gy]();if(We(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(p1(n))return function i4(n){return new at(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(g1(n))return function s4(n){return new at(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s1)})}(n);if(_1(n))return C1(n);if(w1(n))return function o4(n){return new at(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(b1(n))return function a4(n){return C1(E1(n))}(n)}throw y1(n)}function C1(n){return new at(e=>{(function l4(n,e){var t,r,i,s;return function Jz(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=e4(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ji(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function ln(n,e,t=1/0){return We(e)?ln((r,i)=>Ue((s,o)=>e(r,s,i,o))(zr(n(r,i))),t):("number"==typeof e&&(t=e),Lt((r,i)=>function u4(n,e,t,r,i,s,o,a){const l=[];let u=0,c=0,d=!1;const h=()=>{d&&!l.length&&!u&&e.complete()},f=g=>u<r?p(g):l.push(g),p=g=>{s&&e.next(g),u++;let m=!1;zr(t(g,c++)).subscribe(Dt(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;l.length&&u<r;){const v=l.shift();o?ji(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return n.subscribe(Dt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function ol(n=1/0){return ln(xo,n)}const Hi=new at(n=>n.complete());function Wy(n){return n[n.length-1]}function T1(n){return We(Wy(n))?n.pop():void 0}function pc(n){return function d4(n){return n&&We(n.schedule)}(Wy(n))?n.pop():void 0}function Ff(n,e=0){return Lt((t,r)=>{t.subscribe(Dt(r,i=>ji(r,n,()=>r.next(i),e),()=>ji(r,n,()=>r.complete(),e),i=>ji(r,n,()=>r.error(i),e)))})}function Lf(n,e=0){return Lt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function I1(n,e){if(!n)throw new Error("Iterable cannot be null");return new at(t=>{ji(t,e,()=>{const r=n[Symbol.asyncIterator]();ji(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Vt(n,e){return e?function y4(n,e){if(null!=n){if(m1(n))return function f4(n,e){return zr(n).pipe(Lf(e),Ff(e))}(n,e);if(p1(n))return function g4(n,e){return new at(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(g1(n))return function p4(n,e){return zr(n).pipe(Lf(e),Ff(e))}(n,e);if(_1(n))return I1(n,e);if(w1(n))return function m4(n,e){return new at(t=>{let r;return ji(t,e,()=>{r=n[v1](),ji(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>We(r?.return)&&r.return()})}(n,e);if(b1(n))return function _4(n,e){return I1(E1(n),e)}(n,e)}throw y1(n)}(n,e):zr(n)}function ko(n){return n<=0?()=>Hi:Lt((e,t)=>{let r=0;e.subscribe(Dt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function zy(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(ko(1)).subscribe(()=>n())}function $e(n){for(let e in n)if(n[e]===$e)return e;throw Error("Could not find renamed property on target object.")}function Ky(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function je(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(je).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Qy(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const E4=$e({__forward_ref__:$e});function ze(n){return n.__forward_ref__=ze,n.toString=function(){return je(this())},n}function te(n){return Yy(n)?n():n}function Yy(n){return"function"==typeof n&&n.hasOwnProperty(E4)&&n.__forward_ref__===ze}class V extends Error{constructor(e,t){super(function Vf(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function oe(n){return"string"==typeof n?n:null==n?"":String(n)}function Bf(n,e){throw new V(-201,!1)}function dr(n,e){null==n&&function Ne(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function W(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function bt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Jy(n){return D1(n,Uf)||D1(n,A1)}function D1(n,e){return n.hasOwnProperty(e)?n[e]:null}function S1(n){return n&&(n.hasOwnProperty(Xy)||n.hasOwnProperty(x4))?n[Xy]:null}const Uf=$e({\u0275prov:$e}),Xy=$e({\u0275inj:$e}),A1=$e({ngInjectableDef:$e}),x4=$e({ngInjectorDef:$e});var Y=(()=>((Y=Y||{})[Y.Default=0]="Default",Y[Y.Host=1]="Host",Y[Y.Self=2]="Self",Y[Y.SkipSelf=4]="SkipSelf",Y[Y.Optional=8]="Optional",Y))();let Zy;function pi(n){const e=Zy;return Zy=n,e}function x1(n,e,t){const r=Jy(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Y.Optional?null:void 0!==e?e:void Bf(je(n))}function ks(n){return{toString:n}.toString()}var Kr=(()=>((Kr=Kr||{})[Kr.OnPush=0]="OnPush",Kr[Kr.Default=1]="Default",Kr))(),Qr=(()=>{return(n=Qr||(Qr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Qr;var n})();const Le=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),al={},ke=[],$f=$e({\u0275cmp:$e}),ev=$e({\u0275dir:$e}),tv=$e({\u0275pipe:$e}),M1=$e({\u0275mod:$e}),qi=$e({\u0275fac:$e}),gc=$e({__NG_ELEMENT_ID__:$e});let k4=0;function Bt(n){return ks(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Kr.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||ke,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Qr.Emulated,id:"c"+k4++,styles:n.styles||ke,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.dependencies,o=n.features;return i.inputs=P1(n.inputs,r),i.outputs=P1(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(k1).filter(N1):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(Vn).filter(N1):null,i})}function k1(n){return He(n)||Ln(n)}function N1(n){return null!==n}const P4={};function St(n){return ks(()=>{const e={type:n.type,bootstrap:n.bootstrap||ke,declarations:n.declarations||ke,imports:n.imports||ke,exports:n.exports||ke,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(P4[n.id]=n.type),e})}function P1(n,e){if(null==n)return al;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const J=Bt;function gt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function He(n){return n[$f]||null}function Ln(n){return n[ev]||null}function Vn(n){return n[tv]||null}function hr(n,e){const t=n[M1]||null;if(!t&&!0===e)throw new Error(`Type ${je(n)} does not have '\u0275mod' property.`);return t}function Xn(n){return Array.isArray(n)&&"object"==typeof n[1]}function Jr(n){return Array.isArray(n)&&!0===n[1]}function iv(n){return 0!=(8&n.flags)}function qf(n){return 2==(2&n.flags)}function Wf(n){return 1==(1&n.flags)}function Xr(n){return null!==n.template}function V4(n){return 0!=(256&n[2])}function Fo(n,e){return n.hasOwnProperty(qi)?n[qi]:null}class $4{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function kr(){return F1}function F1(n){return n.type.prototype.ngOnChanges&&(n.setInput=H4),j4}function j4(){const n=V1(this),e=n?.current;if(e){const t=n.previous;if(t===al)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function H4(n,e,t,r){const i=V1(n)||function G4(n,e){return n[L1]=e}(n,{previous:al,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],l=o[a];s[a]=new $4(l&&l.currentValue,e,o===al),n[r]=e}kr.ngInherit=!0;const L1="__ngSimpleChanges__";function V1(n){return n[L1]||null}let uv;function cv(){return void 0!==uv?uv:typeof document<"u"?document:void 0}function mt(n){return!!n.listen}const B1={createRenderer:(n,e)=>cv()};function At(n){for(;Array.isArray(n);)n=n[0];return n}function zf(n,e){return At(e[n])}function Pr(n,e){return At(e[n.index])}function dv(n,e){return n.data[e]}function hl(n,e){return n[e]}function pr(n,e){const t=e[n];return Xn(t)?t:t[0]}function U1(n){return 4==(4&n[2])}function hv(n){return 64==(64&n[2])}function Ns(n,e){return null==e?null:n[e]}function $1(n){n[18]=0}function fv(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const ie={lFrame:Y1(null),bindingsEnabled:!0};function H1(){return ie.bindingsEnabled}function A(){return ie.lFrame.lView}function Ce(){return ie.lFrame.tView}function Ps(n){return ie.lFrame.contextLView=n,n[8]}function Rs(n){return ie.lFrame.contextLView=null,n}function Ut(){let n=G1();for(;null!==n&&64===n.type;)n=n.parent;return n}function G1(){return ie.lFrame.currentTNode}function gi(n,e){const t=ie.lFrame;t.currentTNode=n,t.isParent=e}function pv(){return ie.lFrame.isParent}function gv(){ie.lFrame.isParent=!1}function Bn(){const n=ie.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function fl(){return ie.lFrame.bindingIndex++}function zi(n){const e=ie.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function a5(n,e){const t=ie.lFrame;t.bindingIndex=t.bindingRootIndex=n,mv(e)}function mv(n){ie.lFrame.currentDirectiveIndex=n}function _v(n){const e=ie.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function z1(){return ie.lFrame.currentQueryIndex}function yv(n){ie.lFrame.currentQueryIndex=n}function u5(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function K1(n,e,t){if(t&Y.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&Y.Host||(i=u5(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=ie.lFrame=Q1();return r.currentTNode=e,r.lView=n,!0}function Qf(n){const e=Q1(),t=n[1];ie.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Q1(){const n=ie.lFrame,e=null===n?null:n.child;return null===e?Y1(n):e}function Y1(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function J1(){const n=ie.lFrame;return ie.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const X1=J1;function Yf(){const n=J1();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Un(){return ie.lFrame.selectedIndex}function Os(n){ie.lFrame.selectedIndex=n}function _t(){const n=ie.lFrame;return dv(n.tView,n.selectedIndex)}function Jf(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),u&&((n.viewHooks||(n.viewHooks=[])).push(t,u),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,u)),null!=c&&(n.destroyHooks||(n.destroyHooks=[])).push(t,c)}}function Xf(n,e,t){Z1(n,e,3,t)}function Zf(n,e,t,r){(3&n[2])===t&&Z1(n,e,t,r)}function vv(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function Z1(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(y5(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function y5(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class wc{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function ep(n,e,t){const r=mt(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const o=t[i++],a=t[i++],l=t[i++];r?n.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=t[++i];Ev(o)?r&&n.setProperty(e,o,a):r?n.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function ek(n){return 3===n||4===n||6===n}function Ev(n){return 64===n.charCodeAt(0)}function tp(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||tk(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function tk(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function nk(n){return-1!==n}function pl(n){return 32767&n}function gl(n,e){let t=function C5(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let bv=!0;function np(n){const e=bv;return bv=n,e}let T5=0;const mi={};function bc(n,e){const t=Tv(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Cv(r.data,n),Cv(e,null),Cv(r.blueprint,null));const i=rp(n,e),s=n.injectorIndex;if(nk(i)){const o=pl(i),a=gl(i,e),l=a[1].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|l[o+u]}return e[s+8]=i,s}function Cv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Tv(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function rp(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=dk(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function ip(n,e,t){!function I5(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(gc)&&(r=t[gc]),null==r&&(r=t[gc]=T5++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function sk(n,e,t){if(t&Y.Optional)return n;Bf()}function ok(n,e,t,r){if(t&Y.Optional&&void 0===r&&(r=null),0==(t&(Y.Self|Y.Host))){const i=n[9],s=pi(void 0);try{return i?i.get(e,r,t&Y.Optional):x1(e,r,t&Y.Optional)}finally{pi(s)}}return sk(r,0,t)}function ak(n,e,t,r=Y.Default,i){if(null!==n){if(1024&e[2]){const o=function M5(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=lk(s,o,t,r|Y.Self,mi);if(a!==mi)return a;let l=s.parent;if(!l){const u=o[21];if(u){const c=u.get(t,mi,r);if(c!==mi)return c}l=dk(o),o=o[15]}s=l}return i}(n,e,t,r,mi);if(o!==mi)return o}const s=lk(n,e,t,r,mi);if(s!==mi)return s}return ok(e,t,r,i)}function lk(n,e,t,r,i){const s=function A5(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(gc)?n[gc]:void 0;return"number"==typeof e?e>=0?255&e:x5:e}(t);if("function"==typeof s){if(!K1(e,n,r))return r&Y.Host?sk(i,0,r):ok(e,t,r,i);try{const o=s(r);if(null!=o||r&Y.Optional)return o;Bf()}finally{X1()}}else if("number"==typeof s){let o=null,a=Tv(n,e),l=-1,u=r&Y.Host?e[16][6]:null;for((-1===a||r&Y.SkipSelf)&&(l=-1===a?rp(n,e):e[a+8],-1!==l&&ck(r,!1)?(o=e[1],a=pl(l),e=gl(l,e)):a=-1);-1!==a;){const c=e[1];if(uk(s,a,c.data)){const d=S5(a,e,t,o,r,u);if(d!==mi)return d}l=e[a+8],-1!==l&&ck(r,e[1].data[a+8]===u)&&uk(s,a,e)?(o=c,a=pl(l),e=gl(l,e)):a=-1}}return i}function S5(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],c=sp(a,o,t,null==r?qf(a)&&bv:r!=o&&0!=(3&a.type),i&Y.Host&&s===a);return null!==c?Cc(e,o,c,a):mi}function sp(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,c=s>>20,h=i?a+c:n.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(i){const f=o[l];if(f&&Xr(f)&&f.type===t)return l}return null}function Cc(n,e,t,r){let i=n[t];const s=e.data;if(function v5(n){return n instanceof wc}(i)){const o=i;o.resolving&&function b4(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new V(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Me(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():oe(n)}(s[t]));const a=np(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?pi(o.injectImpl):null;K1(n,r,Y.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function _5(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=F1(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&pi(l),np(a),o.resolving=!1,X1()}}return i}function uk(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function ck(n,e){return!(n&Y.Self||n&Y.Host&&e)}class ml{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return ak(this._tNode,this._lView,e,r,t)}}function x5(){return new ml(Ut(),A())}function Sn(n){return ks(()=>{const e=n.prototype.constructor,t=e[qi]||Iv(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[qi]||Iv(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Iv(n){return Yy(n)?()=>{const e=Iv(te(n));return e&&e()}:Fo(n)}function dk(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function Tc(n){return function D5(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(ek(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Ut(),n)}const yl="__parameters__";function wl(n,e,t){return ks(()=>{const r=function Dv(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,u,c){const d=l.hasOwnProperty(yl)?l[yl]:Object.defineProperty(l,yl,{value:[]})[yl];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class Q{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=W({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const N5=new Q("AnalyzeForEntryComponents");function gr(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),gr(r,e)):e!==n&&e.push(r)}return e}function Ki(n,e){n.forEach(t=>Array.isArray(t)?Ki(t,e):e(t))}function fk(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function op(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function mr(n,e,t){let r=El(n,e);return r>=0?n[1|r]=t:(r=~r,function O5(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Av(n,e){const t=El(n,e);if(t>=0)return n[1|t]}function El(n,e){return function mk(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Ac={},Mv="__NG_DI_FLAG__",lp="ngTempTokenPath",H5=/\n/gm,_k="__source";let xc;function up(n){const e=xc;return xc=n,e}function q5(n,e=Y.Default){if(void 0===xc)throw new V(-203,!1);return null===xc?x1(n,void 0,e):xc.get(n,e&Y.Optional?null:void 0,e)}function N(n,e=Y.Default){return(function M4(){return Zy}()||q5)(te(n),e)}function kv(n){const e=[];for(let t=0;t<n.length;t++){const r=te(n[t]);if(Array.isArray(r)){if(0===r.length)throw new V(900,!1);let i,s=Y.Default;for(let o=0;o<r.length;o++){const a=r[o],l=z5(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(N(i,s))}else e.push(N(r))}return e}function Mc(n,e){return n[Mv]=e,n.prototype[Mv]=e,n}function z5(n){return n[Mv]}const cp=Mc(wl("Inject",n=>({token:n})),-1),ut=Mc(wl("Optional"),8),kc=Mc(wl("SkipSelf"),4);let fp,pp;function Cl(n){return function Nv(){if(void 0===fp&&(fp=null,Le.trustedTypes))try{fp=Le.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return fp}()?.createHTML(n)||n}function Dk(n){return function Pv(){if(void 0===pp&&(pp=null,Le.trustedTypes))try{pp=Le.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return pp}()?.createHTML(n)||n}class Lo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class a6 extends Lo{getTypeName(){return"HTML"}}class l6 extends Lo{getTypeName(){return"Style"}}class u6 extends Lo{getTypeName(){return"Script"}}class c6 extends Lo{getTypeName(){return"URL"}}class d6 extends Lo{getTypeName(){return"ResourceURL"}}function _r(n){return n instanceof Lo?n.changingThisBreaksApplicationSecurity:n}function _i(n,e){const t=xk(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}function xk(n){return n instanceof Lo&&n.getTypeName()||null}class _6{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Cl(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class y6{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Cl(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=Cl(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const o=t.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const w6=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,E6=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Rc(n){return(n=String(n)).match(w6)||n.match(E6)?n:"unsafe:"+n}function kk(n){return(n=String(n)).split(",").map(e=>Rc(e.trim())).join(", ")}function yi(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Oc(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const Nk=yi("area,br,col,hr,img,wbr"),Pk=yi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Rk=yi("rp,rt"),Rv=Oc(Nk,Oc(Pk,yi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Oc(Rk,yi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Oc(Rk,Pk)),Ov=yi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Fv=yi("srcset"),Ok=Oc(Ov,Fv,yi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),yi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),b6=yi("script,style,template");class C6{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Rv.hasOwnProperty(t))return this.sanitizedSomething=!0,!b6.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!Ok.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;Ov[a]&&(l=Rc(l)),Fv[a]&&(l=kk(l)),this.buf.push(" ",o,'="',Fk(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Rv.hasOwnProperty(t)&&!Nk.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Fk(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const T6=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,I6=/([^\#-~ |!])/g;function Fk(n){return n.replace(/&/g,"&amp;").replace(T6,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(I6,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gp;function Lk(n,e){let t=null;try{gp=gp||function Mk(n){const e=new y6(n);return function v6(){try{return!!(new window.DOMParser).parseFromString(Cl(""),"text/html")}catch{return!1}}()?new _6(e):e}(n);let r=e?String(e):"";t=gp.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=gp.getInertBodyElement(r)}while(r!==s);return Cl((new C6).sanitizeChildren(Lv(t)||t))}finally{if(t){const r=Lv(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Lv(n){return"content"in n&&function D6(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ge=(()=>((Ge=Ge||{})[Ge.NONE=0]="NONE",Ge[Ge.HTML=1]="HTML",Ge[Ge.STYLE=2]="STYLE",Ge[Ge.SCRIPT=3]="SCRIPT",Ge[Ge.URL=4]="URL",Ge[Ge.RESOURCE_URL=5]="RESOURCE_URL",Ge))();function Vv(n){const e=Fc();return e?Dk(e.sanitize(Ge.HTML,n)||""):_i(n,"HTML")?Dk(_r(n)):Lk(cv(),oe(n))}function Tl(n){const e=Fc();return e?e.sanitize(Ge.URL,n)||"":_i(n,"URL")?_r(n):Rc(oe(n))}function Fc(){const n=A();return n&&n[12]}function Uv(n){return n.ngOriginalError}class Il{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Uv(e);for(;t&&Uv(t);)t=Uv(t);return t||null}}const $v=new Map;let $6=0;const Hv="__ngContext__";function An(n,e){Xn(e)?(n[Hv]=e[20],function H6(n){$v.set(n[20],n)}(e)):n[Hv]=e}function Lc(n){const e=n[Hv];return"number"==typeof e?function Uk(n){return $v.get(n)||null}(e):e||null}function Gv(n){const e=Lc(n);return e?Xn(e)?e:e.lView:null}const X6=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Le))();function qk(n){return n.ownerDocument.defaultView}function Qi(n){return n instanceof Function?n():n}var yr=(()=>((yr=yr||{})[yr.Important=1]="Important",yr[yr.DashCase=2]="DashCase",yr))();function Wv(n,e){return undefined(n,e)}function Vc(n){const e=n[3];return Jr(e)?e[3]:e}function zv(n){return Yk(n[13])}function Kv(n){return Yk(n[4])}function Yk(n){for(;null!==n&&!Jr(n);)n=n[4];return n}function Sl(n,e,t,r,i){if(null!=r){let s,o=!1;Jr(r)?s=r:Xn(r)&&(o=!0,r=r[0]);const a=At(r);0===n&&null!==t?null==i?nN(e,t,a):Vo(e,t,a,i||null,!0):1===n&&null!==t?Vo(e,t,a,i||null,!0):2===n?function cN(n,e,t){const r=mp(n,e);r&&function h8(n,e,t,r){mt(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function g8(n,e,t,r,i){const s=t[7];s!==At(t)&&Sl(e,n,r,s,i);for(let a=10;a<t.length;a++){const l=t[a];Bc(l[1],l,n,e,r,s)}}(e,n,s,t,i)}}function Yv(n,e,t){if(mt(n))return n.createElement(e,t);{const r=null!==t?function K4(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(t):null;return null===r?n.createElement(e):n.createElementNS(r,e)}}function Xk(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,fv(i,-1)),t.splice(r,1)}function Jv(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&Xk(i,r),e>0&&(n[t-1][4]=r[4]);const s=op(n,10+e);!function i8(n,e){Bc(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function Zk(n,e){if(!(128&e[2])){const t=e[11];mt(t)&&t.destroyNode&&Bc(n,e,t,3,null,null),function a8(n){let e=n[13];if(!e)return Xv(n[1],n);for(;e;){let t=null;if(Xn(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Xn(e)&&Xv(e[1],e),e=e[3];null===e&&(e=n),Xn(e)&&Xv(e[1],e),t=e&&e[4]}e=t}}(e)}}function Xv(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function d8(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof wc)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function c8(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):At(e[o]),l=r[i=t[s+2]],u=t[s+3];"boolean"==typeof u?a.removeEventListener(t[s],l,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&mt(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&Jr(e[3])){t!==e[3]&&Xk(t,e);const r=e[19];null!==r&&r.detachView(n)}!function G6(n){$v.delete(n[20])}(e)}}function eN(n,e,t){return function tN(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===Qr.None||i===Qr.Emulated)return null}return Pr(r,t)}(n,e.parent,t)}function Vo(n,e,t,r,i){mt(n)?n.insertBefore(e,t,r,i):(iN(e)?e.content:e).insertBefore(t,r,i)}function nN(n,e,t){mt(n)?n.appendChild(e,t):(iN(e)?e.content:e).appendChild(t)}function rN(n,e,t,r,i){null!==r?Vo(n,e,t,r,i):nN(n,e,t)}function iN(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}function mp(n,e){return mt(n)?n.parentNode(e):e.parentNode}let aN=function oN(n,e,t){return 40&n.type?Pr(n,t):null};function _p(n,e,t,r){const i=eN(n,r,e),s=e[11],a=function sN(n,e,t){return aN(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)rN(s,i,t[l],a,!1);else rN(s,i,t,a,!1)}function yp(n,e){if(null!==e){const t=e.type;if(3&t)return Pr(e,n);if(4&t)return ew(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return yp(n,r);{const i=n[e.index];return Jr(i)?ew(-1,i):At(i)}}if(32&t)return Wv(e,n)()||At(n[e.index]);{const r=uN(n,e);return null!==r?Array.isArray(r)?r[0]:yp(Vc(n[16]),r):yp(n,e.next)}}return null}function uN(n,e){return null!==e?n[16][6].projection[e.projection]:null}function ew(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return yp(r,i)}return e[7]}function tw(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&An(At(a),r),t.flags|=4),64!=(64&t.flags))if(8&l)tw(n,e,t.child,r,i,s,!1),Sl(e,n,i,a,s);else if(32&l){const u=Wv(t,r);let c;for(;c=u();)Sl(e,n,i,c,s);Sl(e,n,i,a,s)}else 16&l?dN(n,e,r,t,i,s):Sl(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Bc(n,e,t,r,i,s){tw(t,r,n.firstChild,e,i,s,!1)}function dN(n,e,t,r,i,s){const o=t[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Sl(e,n,i,l[u],s);else tw(n,e,l,o[3],i,s,!0)}function hN(n,e,t){mt(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function nw(n,e,t){mt(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function fN(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const pN="ng-template";function _8(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==fN(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function gN(n){return 4===n.type&&n.value!==pN}function y8(n,e,t){return e===(4!==n.type||t?n.value:pN)}function v8(n,e,t){let r=4;const i=n.attrs||[],s=function b8(n){for(let e=0;e<n.length;e++)if(ek(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!y8(n,l,t)||""===l&&1===e.length){if(Zr(r))return!1;o=!0}}else{const u=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!_8(n.attrs,u,t)){if(Zr(r))return!1;o=!0}continue}const d=w8(8&r?"class":l,i,gN(n),t);if(-1===d){if(Zr(r))return!1;o=!0;continue}if(""!==u){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==fN(f,u,0)||2&r&&u!==h){if(Zr(r))return!1;o=!0}}}}else{if(!o&&!Zr(r)&&!Zr(l))return!1;if(o&&Zr(l))continue;o=!1,r=l|1&r}}return Zr(r)||o}function Zr(n){return 0==(1&n)}function w8(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function C8(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function mN(n,e,t=!1){for(let r=0;r<e.length;r++)if(v8(n,e[r],t))return!0;return!1}function _N(n,e){return n?":not("+e.trim()+")":e}function I8(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Zr(o)&&(e+=_N(s,i),i=""),r=o,s=s||!Zr(r);t++}return""!==i&&(e+=_N(s,i)),e}const ae={};function k(n){yN(Ce(),A(),Un()+n,!1)}function yN(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Xf(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Zf(e,s,0,t)}Os(t)}const bN=new Q("ENVIRONMENT_INITIALIZER"),CN=new Q("INJECTOR_DEF_TYPES");function P8(...n){return{\u0275providers:TN(0,n)}}function TN(n,...e){const t=[],r=new Set;let i;return Ki(e,s=>{const o=s;rw(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&IN(i,t),t}function IN(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];Ki(i,s=>{e.push(s)})}}function rw(n,e,t,r){if(!(n=te(n)))return!1;let i=null,s=S1(n);const o=!s&&He(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=S1(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of l)rw(u,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{Ki(s.imports,c=>{rw(c,e,t,r)&&(u||(u=[]),u.push(c))})}finally{}void 0!==u&&IN(u,e)}if(!a){const u=Fo(i)||(()=>new i);e.push({provide:i,useFactory:u,deps:ke},{provide:CN,useValue:i,multi:!0},{provide:bN,useValue:()=>N(i),multi:!0})}const l=s.providers;null==l||a||Ki(l,c=>{e.push(c)})}}return i!==n&&void 0!==n.providers}const R8=$e({provide:String,useValue:$e});function iw(n){return null!==n&&"object"==typeof n&&R8 in n}function Bo(n){return"function"==typeof n}const sw=new Q("INJECTOR",-1);class AN{get(e,t=Ac){if(t===Ac){const r=new Error(`NullInjectorError: No provider for ${je(e)}!`);throw r.name="NullInjectorError",r}return t}}const ow=new Q("Set Injector scope."),vp={},F8={};let aw;function lw(){return void 0===aw&&(aw=new AN),aw}class Uo{}class xN extends Uo{constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,cw(e,o=>this.processProvider(o)),this.records.set(sw,Al(void 0,this)),i.has("environment")&&this.records.set(Uo,Al(void 0,this));const s=this.records.get(ow);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(CN.multi,ke,Y.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}get(e,t=Ac,r=Y.Default){this.assertNotDestroyed();const i=up(this),s=pi(void 0);try{if(!(r&Y.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function $8(n){return"function"==typeof n||"object"==typeof n&&n instanceof Q}(e)&&Jy(e);a=l&&this.injectableDefInScope(l)?Al(uw(e),vp):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Y.Self?lw():this.parent).get(e,t=r&Y.Optional&&t===Ac?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[lp]=o[lp]||[]).unshift(je(e)),i)throw o;return function K5(n,e,t,r){const i=n[lp];throw e[_k]&&i.unshift(e[_k]),n.message=function Q5(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=je(e);if(Array.isArray(e))i=e.map(je).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):je(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(H5,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[lp]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{pi(s),up(i)}}resolveInjectorInitializers(){const e=up(this),t=pi(void 0);try{const r=this.get(bN.multi,ke,Y.Self);for(const i of r)i()}finally{up(e),pi(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(je(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new V(205,!1)}processProvider(e){let t=Bo(e=te(e))?e:te(e&&e.provide);const r=function V8(n){return iw(n)?Al(void 0,n.useValue):Al(MN(n),vp)}(e);if(Bo(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Al(void 0,vp,!0),i.factory=()=>kv(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===vp&&(t.value=F8,t.value=t.factory()),"object"==typeof t.value&&t.value&&function U8(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=te(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function uw(n){const e=Jy(n),t=null!==e?e.factory:Fo(n);if(null!==t)return t;if(n instanceof Q)throw new V(204,!1);if(n instanceof Function)return function L8(n){const e=n.length;if(e>0)throw function Sc(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new V(204,!1);const t=function S4(n){const e=n&&(n[Uf]||n[A1]);if(e){const t=function A4(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new V(204,!1)}function MN(n,e,t){let r;if(Bo(n)){const i=te(n);return Fo(i)||uw(i)}if(iw(n))r=()=>te(n.useValue);else if(function SN(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...kv(n.deps||[]));else if(function DN(n){return!(!n||!n.useExisting)}(n))r=()=>N(te(n.useExisting));else{const i=te(n&&(n.useClass||n.provide));if(!function B8(n){return!!n.deps}(n))return Fo(i)||uw(i);r=()=>new i(...kv(n.deps))}return r}function Al(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function j8(n){return!!n.\u0275providers}function cw(n,e){for(const t of n)Array.isArray(t)?cw(t,e):j8(t)?cw(t.\u0275providers,e):e(t)}function kN(n,e=null,t=null,r){const i=NN(n,e,t,r);return i.resolveInjectorInitializers(),i}function NN(n,e=null,t=null,r,i=new Set){const s=[t||ke,P8(n)];return r=r||("object"==typeof n?void 0:je(n)),new xN(s,e||lw(),r||null,i)}let jt=(()=>{class n{static create(t,r){if(Array.isArray(t))return kN({name:""},r,t,"");{const i=t.name??"";return kN({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Ac,n.NULL=new AN,n.\u0275prov=W({token:n,providedIn:"any",factory:()=>N(sw)}),n.__NG_ELEMENT_ID__=-1,n})();function T(n,e=Y.Default){const t=A();return null===t?N(n,e):ak(Ut(),t,te(n),e)}function gw(){throw new Error("invalid")}function Ep(n,e){return n<<17|e<<2}function ei(n){return n>>17&32767}function vw(n){return 2|n}function Yi(n){return(131068&n)>>2}function ww(n,e){return-131069&n|e<<2}function Ew(n){return 1|n}function XN(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];yv(i),o.contentQueries(2,e[s],s)}}}function Uc(n,e,t,r,i,s,o,a,l,u,c){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==c||n&&1024&n[2])&&(d[2]|=1024),$1(d),d[3]=d[15]=n,d[8]=t,d[10]=o||n&&n[10],d[11]=a||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=u||n&&n[9]||null,d[6]=s,d[20]=function j6(){return $6++}(),d[21]=c,d[16]=2==e.type?n[16]:d,d}function Ml(n,e,t,r,i){let s=n.data[e];if(null===s)s=function Mw(n,e,t,r,i){const s=G1(),o=pv(),l=n.data[e]=function wK(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,e,t,r,i),function o5(){return ie.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function vc(){const n=ie.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return gi(s,!0),s}function kl(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function $c(n,e,t){Qf(e);try{const r=n.viewQuery;null!==r&&Bw(1,r,t);const i=n.template;null!==i&&ZN(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&XN(n,e),n.staticViewQueries&&Bw(2,n.viewQuery,t);const s=n.components;null!==s&&function _K(n,e){for(let t=0;t<e.length;t++)VK(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Yf()}}function Nl(n,e,t,r){const i=e[2];if(128!=(128&i)){Qf(e);try{$1(e),function q1(n){return ie.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&ZN(n,e,t,2,r);const o=3==(3&i);if(o){const u=n.preOrderCheckHooks;null!==u&&Xf(e,u,null)}else{const u=n.preOrderHooks;null!==u&&Zf(e,u,0,null),vv(e,0)}if(function FK(n){for(let e=zv(n);null!==e;e=Kv(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(512&i[2])&&fv(s,1),i[2]|=512}}}(e),function OK(n){for(let e=zv(n);null!==e;e=Kv(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];hv(r)&&Nl(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&XN(n,e),o){const u=n.contentCheckHooks;null!==u&&Xf(e,u)}else{const u=n.contentHooks;null!==u&&Zf(e,u,1),vv(e,1)}!function gK(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Os(~i);else{const s=i,o=t[++r],a=t[++r];a5(o,s),a(2,e[s])}}}finally{Os(-1)}}(n,e);const a=n.components;null!==a&&function mK(n,e){for(let t=0;t<e.length;t++)LK(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&Bw(2,l,r),o){const u=n.viewCheckHooks;null!==u&&Xf(e,u)}else{const u=n.viewHooks;null!==u&&Zf(e,u,2),vv(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,fv(e[3],-1))}finally{Yf()}}}function yK(n,e,t,r){const i=e[10],o=U1(e);try{!o&&i.begin&&i.begin(),o&&$c(n,e,r),Nl(n,e,t,r)}finally{!o&&i.end&&i.end()}}function ZN(n,e,t,r,i){const s=Un(),o=2&r;try{Os(-1),o&&e.length>22&&yN(n,e,22,!1),t(r,i)}finally{Os(s)}}function eP(n,e,t){if(iv(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function kw(n,e,t){!H1()||(function SK(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||bc(t,e),An(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],u=Xr(l);u&&NK(e,t,l);const c=Cc(e,n,a,t);An(c,e),null!==o&&PK(0,a-i,c,l,0,o),u&&(pr(t.index,e)[8]=c)}}(n,e,t,Pr(t,e)),128==(128&t.flags)&&function AK(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function l5(){return ie.lFrame.currentDirectiveIndex}();try{Os(s);for(let a=r;a<i;a++){const l=n.data[a],u=e[a];mv(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&aP(l,u)}}finally{Os(-1),mv(o)}}(n,e,t))}function Nw(n,e,t=Pr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function tP(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Tp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Tp(n,e,t,r,i,s,o,a,l,u){const c=22+r,d=c+i,h=function vK(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ae);return t}(c,d),f="function"==typeof u?u():u;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function iP(n,e,t,r){const i=fP(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&pP(n).push(r,i.length-1))}function sP(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function vr(n,e,t,r,i,s,o,a){const l=Pr(e,t);let c,u=e.inputs;!a&&null!=u&&(c=u[r])?(_P(n,t,c,r,i),qf(e)&&function CK(n,e){const t=pr(e,n);16&t[2]||(t[2]|=32)}(t,e.index)):3&e.type&&(r=function bK(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,mt(s)?s.setProperty(l,r,i):Ev(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Pw(n,e,t,r){let i=!1;if(H1()){const s=function xK(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];mN(t,o.selectors,!1)&&(i||(i=[]),ip(bc(t,e),n,o.type),Xr(o)?(lP(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,uP(t,n.data.length,s.length);for(let c=0;c<s.length;c++){const d=s[c];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,u=kl(n,e,s.length,null);for(let c=0;c<s.length;c++){const d=s[c];t.mergedAttrs=tp(t.mergedAttrs,d.hostAttrs),cP(n,t,e,u,d),kK(u,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),u++}!function EK(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,l=null;for(let u=e.directiveStart;u<r;u++){const c=i[u],d=c.inputs,h=null===s||gN(e)?null:RK(d,s);o.push(h),a=sP(d,u,a),l=sP(c.outputs,u,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}(n,t)}o&&function MK(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new V(-301,!1);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=tp(t.mergedAttrs,t.attrs),i}function oP(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function DK(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function aP(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function lP(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function kK(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Xr(e)&&(t[""]=n)}}function uP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function cP(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Fo(i.type)),o=new wc(s,Xr(i),T);n.blueprint[r]=o,t[r]=o,oP(n,e,0,r,kl(n,t,i.hostVars,ae),i)}function NK(n,e,t){const r=Pr(e,n),i=tP(t),s=n[10],o=Ip(n,Uc(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}function vi(n,e,t,r,i,s){const o=Pr(n,e);!function Rw(n,e,t,r,i,s,o){if(null==s)mt(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const a=null==o?oe(s):o(s,r||"",i);mt(n)?n.setAttribute(e,i,a,t):t?e.setAttributeNS(t,i,a):e.setAttribute(i,a)}}(e[11],o,s,n.value,t,r,i)}function PK(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const u=o[l++],c=o[l++],d=o[l++];null!==a?r.setInput(t,d,u,c):t[c]=d}}}function RK(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function dP(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function LK(n,e){const t=pr(e,n);if(hv(t)){const r=t[1];48&t[2]?Nl(r,t,r.template,t[8]):t[5]>0&&Ow(t)}}function Ow(n){for(let r=zv(n);null!==r;r=Kv(r))for(let i=10;i<r.length;i++){const s=r[i];if(512&s[2]){const o=s[1];Nl(o,s,o.template,s[8])}else s[5]>0&&Ow(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=pr(t[r],n);hv(i)&&i[5]>0&&Ow(i)}}function VK(n,e){const t=pr(e,n),r=t[1];(function BK(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),$c(r,t,t[8])}function Ip(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function Fw(n){for(;n;){n[2]|=32;const e=Vc(n);if(V4(n)&&!e)return n;n=e}return null}function hP(n){!function Lw(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=Gv(t);if(null!==r){const i=r[1];yK(i,r,i.template,t)}}}(n[8])}function Bw(n,e,t){yv(0),e(n,t)}const $K=(()=>Promise.resolve(null))();function fP(n){return n[7]||(n[7]=[])}function pP(n){return n.cleanup||(n.cleanup=[])}function mP(n,e){const t=n[9],r=t?t.get(Il,null):null;r&&r.handleError(e)}function _P(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],u=n.data[o];null!==u.setInput?u.setInput(l,i,r,a):l[a]=i}}function Ji(n,e,t){const r=zf(e,n);!function Jk(n,e,t){mt(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function Dp(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Qy(i,a):2==s&&(r=Qy(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function XK(){const n=Ut();Jf(A()[1],n)}function Re(n){let e=function xP(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Xr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=$w(n.inputs),o.declaredInputs=$w(n.declaredInputs),o.outputs=$w(n.outputs);const a=i.hostBindings;a&&n7(n,a);const l=i.viewQuery,u=i.contentQueries;if(l&&e7(n,l),u&&t7(n,u),Ky(n.inputs,i.inputs),Ky(n.declaredInputs,i.declaredInputs),Ky(n.outputs,i.outputs),Xr(i)&&i.data.animation){const c=n.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Re&&(t=!1)}}e=Object.getPrototypeOf(e)}!function ZK(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=tp(i.hostAttrs,t=tp(t,i.hostAttrs))}}(r)}function $w(n){return n===al?{}:n===ke?[]:n}function e7(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function t7(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function n7(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let Sp=null;function $o(){if(!Sp){const n=Le.Symbol;if(n&&n.iterator)Sp=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Sp=r)}}}return Sp}function jc(n){return!!jw(n)&&(Array.isArray(n)||!(n instanceof Map)&&$o()in n)}function jw(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function wi(n,e,t){return n[e]=t}function xn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function jo(n,e,t,r){const i=xn(n,e,t);return xn(n,e+1,r)||i}function Zn(n,e,t,r){const i=A();return xn(i,fl(),e)&&(Ce(),vi(_t(),i,n,e,t,r)),Zn}function Ol(n,e,t,r,i,s){const a=jo(n,function Wi(){return ie.lFrame.bindingIndex}(),t,i);return zi(2),a?e+oe(t)+r+oe(i)+s:ae}function Oe(n,e,t,r,i,s,o,a){const l=A(),u=Ce(),c=n+22,d=u.firstCreatePass?function u7(n,e,t,r,i,s,o,a,l){const u=e.consts,c=Ml(e,n,4,o||null,Ns(u,a));Pw(e,t,c,Ns(u,l)),Jf(e,c);const d=c.tViews=Tp(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,u,l,e,t,r,i,s,o):u.data[c];gi(d,!1);const h=l[11].createComment("");_p(u,l,h,d),An(h,l),Ip(l,l[c]=dP(h,l,h,d)),Wf(d)&&kw(u,l,d),null!=o&&Nw(l,d,a)}function z(n,e,t){const r=A();return xn(r,fl(),e)&&vr(Ce(),_t(),r,n,e,r[11],t,!1),z}function Hw(n,e,t,r,i){const o=i?"class":"style";_P(n,t,e.inputs[o],o,r)}function C(n,e,t,r){const i=A(),s=Ce(),o=22+n,a=i[11],l=i[o]=Yv(a,e,function m5(){return ie.lFrame.currentNamespace}()),u=s.firstCreatePass?function h7(n,e,t,r,i,s,o){const a=e.consts,u=Ml(e,n,2,i,Ns(a,s));return Pw(e,t,u,Ns(a,o)),null!==u.attrs&&Dp(u,u.attrs,!1),null!==u.mergedAttrs&&Dp(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,t,r):s.data[o];gi(u,!0);const c=u.mergedAttrs;null!==c&&ep(a,l,c);const d=u.classes;null!==d&&nw(a,l,d);const h=u.styles;return null!==h&&hN(a,l,h),64!=(64&u.flags)&&_p(s,i,l,u),0===function e5(){return ie.lFrame.elementDepthCount}()&&An(l,i),function t5(){ie.lFrame.elementDepthCount++}(),Wf(u)&&(kw(s,i,u),eP(s,u,i)),null!==r&&Nw(i,u),C}function E(){let n=Ut();pv()?gv():(n=n.parent,gi(n,!1));const e=n;!function n5(){ie.lFrame.elementDepthCount--}();const t=Ce();return t.firstCreatePass&&(Jf(t,n),iv(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function E5(n){return 0!=(16&n.flags)}(e)&&Hw(t,e,A(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function b5(n){return 0!=(32&n.flags)}(e)&&Hw(t,e,A(),e.stylesWithoutHost,!1),E}function Fe(n,e,t,r){return C(n,e,t,r),E(),Fe}function Gc(n,e,t){const r=A(),i=Ce(),s=n+22,o=i.firstCreatePass?function f7(n,e,t,r,i){const s=e.consts,o=Ns(s,r),a=Ml(e,n,8,"ng-container",o);return null!==o&&Dp(a,o,!0),Pw(e,t,a,Ns(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];gi(o,!0);const a=r[s]=r[11].createComment("");return _p(i,r,a,o),An(a,r),Wf(o)&&(kw(i,r,o),eP(i,o,r)),null!=t&&Nw(r,o),Gc}function qc(){let n=Ut();const e=Ce();return pv()?gv():(n=n.parent,gi(n,!1)),e.firstCreatePass&&(Jf(e,n),iv(n)&&e.queries.elementEnd(n)),qc}function jl(){return A()}function Wc(n){return!!n&&"function"==typeof n.then}const Gw=function UP(n){return!!n&&"function"==typeof n.subscribe};function ne(n,e,t,r){const i=A(),s=Ce(),o=Ut();return function jP(n,e,t,r,i,s,o,a){const l=Wf(r),c=n.firstCreatePass&&pP(n),d=e[8],h=fP(e);let f=!0;if(3&r.type||a){const m=Pr(r,e),v=a?a(m):m,I=h.length,y=a?S=>a(At(S[r.index])):r.index;if(mt(t)){let S=null;if(!a&&l&&(S=function p7(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==S)(S.__ngLastListenerFn__||S).__ngNextListenerFn__=s,S.__ngLastListenerFn__=s,f=!1;else{s=qw(r,e,d,s,!1);const L=t.listen(v,i,s);h.push(s,L),c&&c.push(i,y,I,I+1)}}else s=qw(r,e,d,s,!0),v.addEventListener(i,s,o),h.push(s),c&&c.push(i,y,I,o)}else s=qw(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const m=g.length;if(m)for(let v=0;v<m;v+=2){const H=e[g[v]][g[v+1]].subscribe(s),ge=h.length;h.push(s,H),c&&c.push(i,r.index,ge,-(ge+1))}}}(s,i,i[11],o,n,e,!!t,r),ne}function HP(n,e,t,r){try{return!1!==t(r)}catch(i){return mP(n,i),!1}}function qw(n,e,t,r,i){return function s(o){if(o===Function)return r;Fw(2&n.flags?pr(n.index,e):e);let l=HP(e,0,r,o),u=s.__ngNextListenerFn__;for(;u;)l=HP(e,0,u,o)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function Ae(n=1){return function c5(n){return(ie.lFrame.contextLView=function d5(n,e){for(;n>0;)e=e[15],n--;return e}(n,ie.lFrame.contextLView))[8]}(n)}function ZP(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?ei(s):Yi(s),l=!1;for(;0!==a&&(!1===l||o);){const c=n[a+1];w7(n[a],e)&&(l=!0,n[a+1]=r?Ew(c):vw(c)),a=r?ei(c):Yi(c)}l&&(n[t+1]=r?vw(s):Ew(s))}function w7(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&El(n,e)>=0}const Ht={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function eR(n){return n.substring(Ht.key,Ht.keyEnd)}function tR(n,e){const t=Ht.textEnd;return t===e?-1:(e=Ht.keyEnd=function T7(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Ht.key=e,t),Hl(n,e,t))}function Hl(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Gl(n,e,t){return ni(n,e,t,!1),Gl}function xp(n,e){return ni(n,e,null,!0),xp}function Xi(n){!function ri(n,e,t,r){const i=Ce(),s=zi(2);i.firstUpdatePass&&aR(i,null,s,r);const o=A();if(t!==ae&&xn(o,s,t)){const a=i.data[Un()];if(dR(a,r)&&!oR(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=Qy(l,t||"")),Hw(i,a,o,t,r)}else!function P7(n,e,t,r,i,s,o,a){i===ae&&(i=ke);let l=0,u=0,c=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==c||null!==d;){const h=l<i.length?i[l+1]:void 0,f=u<s.length?s[u+1]:void 0;let g,p=null;c===d?(l+=2,u+=2,h!==f&&(p=d,g=f)):null===d||null!==c&&c<d?(l+=2,p=c):(u+=2,p=d,g=f),null!==p&&uR(n,e,t,r,p,g,o,a),c=l<i.length?i[l]:null,d=u<s.length?s[u]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function N7(n,e,t){if(null==t||""===t)return ke;const r=[],i=_r(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}(mr,bi,n,!0)}function bi(n,e){for(let t=function b7(n){return function rR(n){Ht.key=0,Ht.keyEnd=0,Ht.value=0,Ht.valueEnd=0,Ht.textEnd=n.length}(n),tR(n,Hl(n,0,Ht.textEnd))}(e);t>=0;t=tR(e,t))mr(n,eR(e),!0)}function ni(n,e,t,r){const i=A(),s=Ce(),o=zi(2);s.firstUpdatePass&&aR(s,n,o,r),e!==ae&&xn(i,o,e)&&uR(s,s.data[Un()],i,i[11],n,i[o+1]=function R7(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=je(_r(n)))),n}(e,t),r,o)}function oR(n,e){return e>=n.expandoStartIndex}function aR(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Un()],o=oR(n,t);dR(s,r)&&null===e&&!o&&(e=!1),e=function A7(n,e,t,r){const i=_v(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=zc(t=zw(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=zw(i,n,e,t,r),null===s){let l=function x7(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Yi(r))return n[ei(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=zw(null,n,e,l[1],r),l=zc(l,e.attrs,r),function M7(n,e,t,r){n[ei(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function k7(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=zc(r,n[s].hostAttrs,t);return zc(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function y7(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ei(o),l=Yi(o);n[r]=t;let c,u=!1;if(Array.isArray(t)){const d=t;c=d[1],(null===c||El(d,c)>0)&&(u=!0)}else c=t;if(i)if(0!==l){const h=ei(n[a+1]);n[r+1]=Ep(h,a),0!==h&&(n[h+1]=ww(n[h+1],r)),n[a+1]=function sK(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Ep(a,0),0!==a&&(n[a+1]=ww(n[a+1],r)),a=r;else n[r+1]=Ep(l,0),0===a?a=r:n[l+1]=ww(n[l+1],r),l=r;u&&(n[r+1]=vw(n[r+1])),ZP(n,c,r,!0),ZP(n,c,r,!1),function v7(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&El(s,e)>=0&&(t[r+1]=Ew(t[r+1]))}(e,c,n,r,s),o=Ep(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function zw(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=zc(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function zc(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),mr(n,o,!!t||e[++s]))}return void 0===n?null:n}function uR(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,u=l[a+1];Mp(function GN(n){return 1==(1&n)}(u)?cR(l,e,t,i,Yi(u),o):void 0)||(Mp(s)||function HN(n){return 2==(2&n)}(u)&&(s=cR(l,null,t,i,a,o)),function m8(n,e,t,r,i){const s=mt(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:yr.DashCase;if(null==i)s?n.removeStyle(t,r,o):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=yr.Important),s?n.setStyle(t,r,i,o):t.style.setProperty(r,i,a?"important":"")}}}(r,o,zf(Un(),t),i,s))}function cR(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let h=t[i+1];h===ae&&(h=d?ke:void 0);let f=d?Av(h,r):c===r?h:void 0;if(u&&!Mp(f)&&(f=Av(l,r)),Mp(f)&&(a=f,o))return a;const p=n[i+1];i=o?ei(p):Yi(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=Av(l,r))}return a}function Mp(n){return void 0!==n}function dR(n,e){return 0!=(n.flags&(e?16:32))}function D(n,e=""){const t=A(),r=Ce(),i=n+22,s=r.firstCreatePass?Ml(r,i,1,e,null):r.data[i],o=t[i]=function Qv(n,e){return mt(n)?n.createText(e):n.createTextNode(e)}(t[11],e);_p(r,t,o,s),gi(s,!1)}function Qe(n){return un("",n,""),Qe}function un(n,e,t){const r=A(),i=function Rl(n,e,t,r){return xn(n,fl(),t)?e+oe(t)+r:ae}(r,n,e,t);return i!==ae&&Ji(r,Un(),i),un}function Kw(n,e,t,r,i){const s=A(),o=Ol(s,n,e,t,r,i);return o!==ae&&Ji(s,Un(),o),Kw}function Qw(n,e,t){const r=A();if(xn(r,fl(),e)){const s=Ce(),o=_t();vr(s,o,r,n,e,function gP(n,e,t){return(null===n||Xr(n))&&(t=function J4(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(t[e.index])),t[11]}(_v(s.data),o,r),t,!0)}return Qw}const Ho=void 0;var eQ=["en",[["a","p"],["AM","PM"],Ho],[["AM","PM"],Ho,Ho],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ho,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ho,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ho,"{1} 'at' {0}",Ho],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Z7(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let ql={};function jn(n){const e=function tQ(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=MR(e);if(t)return t;const r=e.split("-")[0];if(t=MR(r),t)return t;if("en"===r)return eQ;throw new Error(`Missing locale data for the locale "${n}".`)}function MR(n){return n in ql||(ql[n]=Le.ng&&Le.ng.common&&Le.ng.common.locales&&Le.ng.common.locales[n]),ql[n]}var U=(()=>((U=U||{})[U.LocaleId=0]="LocaleId",U[U.DayPeriodsFormat=1]="DayPeriodsFormat",U[U.DayPeriodsStandalone=2]="DayPeriodsStandalone",U[U.DaysFormat=3]="DaysFormat",U[U.DaysStandalone=4]="DaysStandalone",U[U.MonthsFormat=5]="MonthsFormat",U[U.MonthsStandalone=6]="MonthsStandalone",U[U.Eras=7]="Eras",U[U.FirstDayOfWeek=8]="FirstDayOfWeek",U[U.WeekendRange=9]="WeekendRange",U[U.DateFormat=10]="DateFormat",U[U.TimeFormat=11]="TimeFormat",U[U.DateTimeFormat=12]="DateTimeFormat",U[U.NumberSymbols=13]="NumberSymbols",U[U.NumberFormats=14]="NumberFormats",U[U.CurrencyCode=15]="CurrencyCode",U[U.CurrencySymbol=16]="CurrencySymbol",U[U.CurrencyName=17]="CurrencyName",U[U.Currencies=18]="Currencies",U[U.Directionality=19]="Directionality",U[U.PluralCase=20]="PluralCase",U[U.ExtraData=21]="ExtraData",U))();const Wl="en-US";let kR=Wl;function Xw(n,e,t,r,i){if(n=te(n),Array.isArray(n))for(let s=0;s<n.length;s++)Xw(n[s],e,t,r,i);else{const s=Ce(),o=A();let a=Bo(n)?n:te(n.provide),l=MN(n);const u=Ut(),c=1048575&u.providerIndexes,d=u.directiveStart,h=u.providerIndexes>>20;if(Bo(n)||!n.multi){const f=new wc(l,i,T),p=eE(a,e,i?c:c+h,d);-1===p?(ip(bc(u,o),s,a),Zw(s,n,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=eE(a,e,c+h,d),p=eE(a,e,c,c+h),g=f>=0&&t[f],m=p>=0&&t[p];if(i&&!m||!i&&!g){ip(bc(u,o),s,a);const v=function XQ(n,e,t,r,i){const s=new wc(n,t,T);return s.multi=[],s.index=e,s.componentProviders=0,nO(s,i,r&&!t),s}(i?JQ:YQ,t.length,i,r,l);!i&&m&&(t[p].providerFactory=v),Zw(s,n,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(v),o.push(v)}else Zw(s,n,f>-1?f:p,nO(t[i?p:f],l,!i&&r));!i&&r&&m&&t[p].componentProviders++}}}function Zw(n,e,t,r){const i=Bo(e),s=function O8(n){return!!n.useClass}(e);if(i||s){const l=(s?te(e.useClass):e).prototype.ngOnDestroy;if(l){const u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const c=u.indexOf(t);-1===c?u.push(t,[r,l]):u[c+1].push(r,l)}else u.push(t,l)}}}function nO(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function eE(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function YQ(n,e,t,r){return tE(this.multi,[])}function JQ(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Cc(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),tE(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],tE(i,s);return s}function tE(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function nt(n,e=[]){return t=>{t.providersResolver=(r,i)=>function QQ(n,e,t){const r=Ce();if(r.firstCreatePass){const i=Xr(n);Xw(t,r.data,r.blueprint,i,!0),Xw(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class e9{resolveComponentFactory(e){throw function ZQ(n){const e=Error(`No component factory found for ${je(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Kl=(()=>{class n{}return n.NULL=new e9,n})();class Bs{}class iO{}class sO{}function n9(){return Ql(Ut(),A())}function Ql(n,e){return new er(Pr(n,e))}let er=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=n9,n})();function r9(n){return n instanceof er?n.nativeElement:n}class Xc{}let Zi=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function s9(){const n=A(),t=pr(Ut().index,n);return function i9(n){return n[11]}(Xn(t)?t:n)}(),n})(),o9=(()=>{class n{}return n.\u0275prov=W({token:n,providedIn:"root",factory:()=>null}),n})();class Yl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const oO=new Yl("14.0.3"),nE={};function Op(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(At(s)),Jr(s))for(let a=10;a<s.length;a++){const l=s[a],u=l[1].firstChild;null!==u&&Op(l[1],l,u,r)}const o=t.type;if(8&o)Op(n,e,t.child,r);else if(32&o){const a=Wv(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=uN(e,t);if(Array.isArray(a))r.push(...a);else{const l=Vc(e[16]);Op(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Zc{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Op(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Jr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Jv(e,r),op(t,r))}this._attachedToViewContainer=!1}Zk(this._lView[1],this._lView)}onDestroy(e){iP(this._lView[1],this._lView,null,e)}markForCheck(){Fw(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Vw(n,e,t){const r=e[10];r.begin&&r.begin();try{Nl(n,e,n.template,t)}catch(i){throw mP(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function o8(n,e){Bc(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e}}class a9 extends Zc{constructor(e){super(e),this._view=e}detectChanges(){hP(this._view)}checkNoChanges(){}get context(){return null}}class rE extends Kl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=He(e);return new iE(t,this.ngModule)}}function aO(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class u9{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){const i=this.injector.get(e,nE,r);return i!==nE||t===nE?i:this.parentInjector.get(e,t,r)}}class iE extends sO{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function D8(n){return n.map(I8).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return aO(this.componentDef.inputs)}get outputs(){return aO(this.componentDef.outputs)}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Uo?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new u9(e,s):e,a=o.get(Xc,B1),l=o.get(o9,null),u=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=r?function rP(n,e,t){if(mt(n))return n.selectRootElement(e,t===Qr.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):Yv(a.createRenderer(null,this.componentDef),c,function l9(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),h=this.componentDef.onPush?288:272,f=function AP(n,e){return{components:[],scheduler:n||X6,clean:$K,playerHandler:e||null,flags:0}}(),p=Tp(0,null,null,1,0,null,null,null,null,null),g=Uc(null,p,f,h,null,null,a,u,l,o,null);let m,v;Qf(g);try{const I=function DP(n,e,t,r,i,s){const o=t[1];t[22]=n;const l=Ml(o,22,2,"#host",null),u=l.mergedAttrs=e.hostAttrs;null!==u&&(Dp(l,u,!0),null!==n&&(ep(i,n,u),null!==l.classes&&nw(i,n,l.classes),null!==l.styles&&hN(i,n,l.styles)));const c=r.createRenderer(n,e),d=Uc(t,tP(e),null,e.onPush?32:16,t[22],l,r,c,s||null,null,null);return o.firstCreatePass&&(ip(bc(l,t),o,e.type),lP(o,l),uP(l,t.length,1)),Ip(t,d),t[22]=d}(d,this.componentDef,g,a,u);if(d)if(r)ep(u,d,["ng-version",oO.full]);else{const{attrs:y,classes:S}=function S8(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Zr(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);y&&ep(u,d,y),S&&S.length>0&&nw(u,d,S.join(" "))}if(v=dv(p,22),void 0!==t){const y=v.projection=[];for(let S=0;S<this.ngContentSelectors.length;S++){const L=t[S];y.push(null!=L?Array.from(L):null)}}m=function SP(n,e,t,r,i){const s=t[1],o=function IK(n,e,t){const r=Ut();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),cP(n,r,e,kl(n,e,1,null),t));const i=Cc(e,n,r.directiveStart,r);An(i,e);const s=Pr(r,e);return s&&An(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,null!==i)for(const l of i)l(o,e);if(e.contentQueries){const l=Ut();e.contentQueries(1,o,l.directiveStart)}const a=Ut();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Os(a.index),oP(t[1],a,0,a.directiveStart,a.directiveEnd,e),aP(e,o)),o}(I,this.componentDef,g,f,[XK]),$c(p,g,null)}finally{Yf()}return new d9(this.componentType,m,Ql(v,g),g,v)}}class d9 extends class t9{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new a9(i),this.componentType=e}get injector(){return new ml(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class lO extends Bs{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new rE(this);const r=hr(e);this._bootstrapComponents=Qi(r.bootstrap),this._r3Injector=NN(e,t,[{provide:Bs,useValue:this},{provide:Kl,useValue:this.componentFactoryResolver}],je(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(e)}get(e,t=jt.THROW_IF_NOT_FOUND,r=Y.Default){return e===jt||e===Bs||e===sw?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class sE extends iO{constructor(e){super(),this.moduleType=e}create(e){return new lO(this.moduleType,e)}}class f9 extends Bs{constructor(e,t,r){super(),this.componentFactoryResolver=new rE(this),this.instance=null;const i=new xN([...e,{provide:Bs,useValue:this},{provide:Kl,useValue:this.componentFactoryResolver}],t||lw(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Fp(n,e=null,t=null){return new f9(n,e,t).injector}function oE(n,e,t,r){return cO(A(),Bn(),n,e,t,r)}function ed(n,e){const t=n[e];return t===ae?void 0:t}function cO(n,e,t,r,i,s){const o=e+t;return xn(n,o,i)?wi(n,o+1,s?r.call(s,i):r(i)):ed(n,o+1)}function dO(n,e,t,r,i,s,o){const a=e+t;return jo(n,a,i,s)?wi(n,a+2,o?r.call(o,i,s):r(i,s)):ed(n,a+2)}function wr(n,e){const t=Ce();let r;const i=n+22;t.firstCreatePass?(r=function I9(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Fo(r.type)),o=pi(T);try{const a=np(!1),l=s();return np(a),function c7(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,A(),i,l),l}finally{pi(o)}}function Us(n,e,t){const r=n+22,i=A(),s=hl(i,r);return td(i,r)?cO(i,Bn(),e,s.transform,t,s):s.transform(t)}function Jl(n,e,t,r){const i=n+22,s=A(),o=hl(s,i);return td(s,i)?dO(s,Bn(),e,o.transform,t,r,o):o.transform(t,r)}function td(n,e){return n[1].data[e].pure}function aE(n){return e=>{setTimeout(n,void 0,e)}}const vt=class x9 extends et{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=aE(s),i&&(i=aE(i)),o&&(o=aE(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof ur&&e.add(a),a}};function M9(){return this._results[$o()]()}class lE{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=$o(),r=lE.prototype;r[t]||(r[t]=M9)}get changes(){return this._changes||(this._changes=new vt)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=gr(e);(this._changesDetected=!function P5(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let es=(()=>{class n{}return n.__NG_ELEMENT_ID__=P9,n})();const k9=es,N9=class extends k9{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=Uc(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),$c(r,i,e),new Zc(i)}};function P9(){return Lp(Ut(),A())}function Lp(n,e){return 4&n.type?new N9(e,n,Ql(n,e)):null}let ii=(()=>{class n{}return n.__NG_ELEMENT_ID__=R9,n})();function R9(){return _O(Ut(),A())}const O9=ii,gO=class extends O9{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ql(this._hostTNode,this._hostLView)}get injector(){return new ml(this._hostTNode,this._hostLView)}get parentInjector(){const e=rp(this._hostTNode,this._hostLView);if(nk(e)){const t=gl(e,this._hostLView),r=pl(e);return new ml(t[1].data[r+8],t)}return new ml(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=mO(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function Dc(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const l=o?e:new iE(He(e)),u=r||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?u:this.parentInjector).get(Uo,null);h&&(s=h)}const c=l.create(u,i,void 0,s);return this.insert(c.hostView,a),c}insert(e,t){const r=e._lView,i=r[1];if(function Z4(n){return Jr(n[3])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],h=new gO(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function l8(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],fk(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function u8(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,o,s);const a=ew(s,o),l=r[11],u=mp(l,o[7]);return null!==u&&function s8(n,e,t,r,i,s){r[0]=i,r[6]=e,Bc(n,r,t,1,i,s)}(i,o[6],l,r,u,a),e.attachToViewContainerRef(),fk(uE(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=mO(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Jv(this._lContainer,t);r&&(op(uE(this._lContainer),t),Zk(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Jv(this._lContainer,t);return r&&null!=op(uE(this._lContainer),t)?new Zc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function mO(n){return n[8]}function uE(n){return n[8]||(n[8]=[])}function _O(n,e){let t;const r=e[n.index];if(Jr(r))t=r;else{let i;if(8&n.type)i=At(r);else{const s=e[11];i=s.createComment("");const o=Pr(n,e);Vo(s,mp(s,o),i,function f8(n,e){return mt(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=dP(r,e,i,n),Ip(e,t)}return new gO(t,n,e)}class cE{constructor(e){this.queryList=e,this.matches=null}clone(){return new cE(this.queryList)}setDirty(){this.queryList.setDirty()}}class dE{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new dE(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==CO(e,t).matches&&this.queries[t].setDirty()}}class yO{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class hE{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new hE(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class fE{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new fE(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,V9(t,s)),this.matchTNodeWithReadOption(e,t,sp(t,e,s,!1,!1))}else r===es?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,sp(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===er||i===ii||i===es&&4&t.type)this.addMatch(t.index,-2);else{const s=sp(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function V9(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function U9(n,e,t,r){return-1===t?function B9(n,e){return 11&n.type?Ql(n,e):4&n.type?Lp(n,e):null}(e,n):-2===t?function $9(n,e,t){return t===er?Ql(e,n):t===es?Lp(e,n):t===ii?_O(e,n):void 0}(n,e,r):Cc(n,n[1],t,e)}function vO(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const u=o[l];a.push(u<0?null:U9(e,s[u],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function pE(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=vO(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const u=s[a+1],c=e[-l];for(let d=10;d<c.length;d++){const h=c[d];h[17]===h[3]&&pE(h[1],h,u,r)}if(null!==c[9]){const d=c[9];for(let h=0;h<d.length;h++){const f=d[h];pE(f[1],f,u,r)}}}}}return r}function Vp(n){const e=A(),t=Ce(),r=z1();yv(r+1);const i=CO(t,r);if(n.dirty&&U1(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?pE(t,e,r,[]):vO(t,e,i,r);n.reset(s,r9),n.notifyOnChanges()}return!0}return!1}function wO(n,e,t){const r=Ce();r.firstCreatePass&&(function bO(n,e,t){null===n.queries&&(n.queries=new hE),n.queries.track(new fE(e,t))}(r,new yO(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function EO(n,e,t){const r=new lE(4==(4&t));iP(n,e,r,r.destroy),null===e[19]&&(e[19]=new dE),e[19].queries.push(new cE(r))}(r,A(),e)}function CO(n,e){return n.queries.getByIndex(e)}function $p(...n){}const wE=new Q("Application Initializer");let jp=(()=>{class n{constructor(t){this.appInits=t,this.resolve=$p,this.reject=$p,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Wc(s))t.push(s);else if(Gw(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(N(wE,8))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rd=new Q("AppId",{providedIn:"root",factory:function jO(){return`${EE()}${EE()}${EE()}`}});function EE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const HO=new Q("Platform Initializer"),Hp=new Q("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),GO=new Q("appBootstrapListener"),qO=new Q("AnimationModuleType");let cY=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ts=new Q("LocaleId",{providedIn:"root",factory:()=>function W5(n,e=Y.Default){return N(n,e)}(ts,Y.Optional|Y.SkipSelf)||function dY(){return typeof $localize<"u"&&$localize.locale||Wl}()});class fY{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let bE=(()=>{class n{compileModuleSync(t){return new sE(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Qi(hr(t).declarations).reduce((o,a)=>{const l=He(a);return l&&o.push(new iE(l)),o},[]);return new fY(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gY=(()=>Promise.resolve(0))();function CE(n){typeof Zone>"u"?gY.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ve{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vt(!1),this.onMicrotaskEmpty=new vt(!1),this.onStable=new vt(!1),this.onError=new vt(!1),typeof Zone>"u")throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function mY(){let n=Le.requestAnimationFrame,e=Le.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function vY(n){const e=()=>{!function yY(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Le,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,IE(n),n.isCheckStableRunning=!0,TE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),IE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return WO(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),zO(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return WO(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),zO(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,IE(n),TE(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ve.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ve.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,_Y,$p,$p);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const _Y={};function TE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function IE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function WO(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function zO(n){n._nesting--,TE(n)}class wY{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vt,this.onMicrotaskEmpty=new vt,this.onStable=new vt,this.onError=new vt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const KO=new Q(""),Gp=new Q("");let AE,DE=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,AE||(function EY(n){AE=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ve.assertNotInAngularZone(),CE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())CE(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(N(Ve),N(SE),N(Gp))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),SE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return AE?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),$s=null;const QO=new Q("AllowMultipleToken"),YO=new Q("PlatformOnDestroy");class JO{constructor(e,t){this.name=e,this.token=t}}function ZO(n,e,t=[]){const r=`Platform: ${e}`,i=new Q(r);return(s=[])=>{let o=xE();if(!o||o.injector.get(QO,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function TY(n){if($s&&!$s.get(QO,!1))throw new V(400,!1);$s=n;const e=n.get(tF);(function XO(n){const e=n.get(HO,null);e&&e.forEach(t=>t())})(n)}(function eF(n=[],e){return jt.create({name:e,providers:[{provide:ow,useValue:"platform"},{provide:YO,useValue:()=>$s=null},...n]})}(a,r))}return function DY(n){const e=xE();if(!e)throw new V(401,!1);return e}()}}function xE(){return $s?.get(tF)??null}let tF=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function SY(n,e){let t;return t="noop"===n?new wY:("zone.js"===n?void 0:n)||new Ve(e),t}(r?.ngZone,function nF(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Ve,useValue:i}];return i.run(()=>{const o=jt.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),l=a.injector.get(Il,null);if(!l)throw new V(402,!1);return i.runOutsideAngular(()=>{const u=i.onError.subscribe({next:c=>{l.handleError(c)}});a.onDestroy(()=>{qp(this._modules,a),u.unsubscribe()})}),function rF(n,e,t){try{const r=t();return Wc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(l,i,()=>{const u=a.injector.get(jp);return u.runInitializers(),u.donePromise.then(()=>(function NR(n){dr(n,"Expected localeId to be defined"),"string"==typeof n&&(kR=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(ts,Wl)||Wl),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=iF({},r);return function bY(n,e,t){const r=new sE(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(tu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new V(403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new V(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r()),this._injector.get(YO,null)?.(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(N(jt))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function iF(n,e){return Array.isArray(e)?e.reduce(iF,n):{...n,...e}}let tu=(()=>{class n{constructor(t,r,i,s){this._zone=t,this._injector=r,this._exceptionHandler=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new at(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new at(l=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Ve.assertNotInAngularZone(),CE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Ve.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function v4(...n){const e=pc(n),t=function h4(n,e){return"number"==typeof Wy(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?zr(r[0]):ol(t)(Vt(r,e)):Hi}(o,a.pipe(function w4(n={}){const{connector:e=(()=>new et),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o=null,a=null,l=null,u=0,c=!1,d=!1;const h=()=>{a?.unsubscribe(),a=null},f=()=>{h(),o=l=null,c=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return Lt((g,m)=>{u++,!d&&!c&&h();const v=l=l??e();m.add(()=>{u--,0===u&&!d&&!c&&(a=zy(p,i))}),v.subscribe(m),o||(o=new Rf({next:I=>v.next(I),error:I=>{d=!0,h(),a=zy(f,t,I),v.error(I)},complete:()=>{c=!0,h(),a=zy(f,r),v.complete()}}),Vt(g).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof sO;if(!this._initStatus.done)throw!i&&function Zl(n){const e=He(n)||Ln(n)||Vn(n);return null!==e&&e.standalone}(t),new V(405,false);let s;s=i?t:this._injector.get(Kl).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const o=function CY(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Bs),l=s.create(jt.NULL,[],r||s.selector,o),u=l.location.nativeElement,c=l.injector.get(KO,null);return c?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),qp(this.components,l),c?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new V(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;qp(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(GO,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>qp(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new V(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(N(Ve),N(jt),N(Il),N(jp))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let oF=!0,Wp=(()=>{class n{}return n.__NG_ELEMENT_ID__=MY,n})();function MY(n){return function kY(n,e,t){if(qf(n)&&!t){const r=pr(n.index,e);return new Zc(r,r)}return 47&n.type?new Zc(e[16],e):null}(Ut(),A(),16==(16&n))}class dF{constructor(){}supports(e){return jc(e)}create(e){return new LY(e)}}const FY=(n,e)=>e;class LY{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||FY}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<fF(r,i,s)?t:r,a=fF(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,c=l-i;if(u!=c){for(let h=0;h<u;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;c<=p&&p<u&&(s[h]=f+1)}s[o.previousIndex]=c-u}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!jc(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function a7(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[$o()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new VY(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new hF),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hF),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class VY{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class BY{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class hF{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new BY,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fF(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class pF{constructor(){}supports(e){return e instanceof Map||jw(e)}create(){return new UY}}class UY{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||jw(e)))throw new V(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new $Y(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class $Y{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gF(){return new Qp([new dF])}let Qp=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||gF()),deps:[[n,new kc,new ut]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new V(901,!1)}}return n.\u0275prov=W({token:n,providedIn:"root",factory:gF}),n})();function mF(){return new id([new pF])}let id=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||mF()),deps:[[n,new kc,new ut]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new V(901,!1)}}return n.\u0275prov=W({token:n,providedIn:"root",factory:mF}),n})();const GY=ZO(null,"core",[]);let qY=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(N(tu))},n.\u0275mod=St({type:n}),n.\u0275inj=bt({}),n})();function rs(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Yp=null;function Ci(){return Yp}const xt=new Q("DocumentToken");let sd=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(){return function QY(){return N(_F)}()},providedIn:"platform"}),n})();const YY=new Q("Location Initialized");let _F=(()=>{class n extends sd{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ci().getBaseHref(this._doc)}onPopState(t){const r=Ci().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ci().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){yF()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){yF()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(N(xt))},n.\u0275prov=W({token:n,factory:function(){return function JY(){return new _F(N(xt))}()},providedIn:"platform"}),n})();function yF(){return!!window.history.pushState}function RE(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function vF(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function is(n){return n&&"?"!==n[0]?"?"+n:n}let nu=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(){return function XY(){const n=N(xt).location;return new wF(N(sd),n&&n.origin||"")}()},providedIn:"root"}),n})();const OE=new Q("appBaseHref");let wF=(()=>{class n extends nu{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return RE(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+is(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+is(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+is(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(N(sd),N(OE,8))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),ZY=(()=>{class n extends nu{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=RE(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+is(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+is(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(N(sd),N(OE,8))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),FE=(()=>{class n{constructor(t){this._subject=new vt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=vF(EF(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+is(r))}normalize(t){return n.stripTrailingSlash(function tJ(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,EF(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+is(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+is(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=is,n.joinWithSlash=RE,n.stripTrailingSlash=vF,n.\u0275fac=function(t){return new(t||n)(N(nu))},n.\u0275prov=W({token:n,factory:function(){return function eJ(){return new FE(N(nu))}()},providedIn:"root"}),n})();function EF(n){return n.replace(/\/index.html$/,"")}var tr=(()=>((tr=tr||{})[tr.Decimal=0]="Decimal",tr[tr.Percent=1]="Percent",tr[tr.Currency=2]="Currency",tr[tr.Scientific=3]="Scientific",tr))(),K=(()=>((K=K||{})[K.Decimal=0]="Decimal",K[K.Group=1]="Group",K[K.List=2]="List",K[K.PercentSign=3]="PercentSign",K[K.PlusSign=4]="PlusSign",K[K.MinusSign=5]="MinusSign",K[K.Exponential=6]="Exponential",K[K.SuperscriptingExponent=7]="SuperscriptingExponent",K[K.PerMille=8]="PerMille",K[K.Infinity=9]="Infinity",K[K.NaN=10]="NaN",K[K.TimeSeparator=11]="TimeSeparator",K[K.CurrencyDecimal=12]="CurrencyDecimal",K[K.CurrencyGroup=13]="CurrencyGroup",K))();function Or(n,e){const t=jn(n),r=t[U.NumberSymbols][e];if(typeof r>"u"){if(e===K.CurrencyDecimal)return t[U.NumberSymbols][K.Decimal];if(e===K.CurrencyGroup)return t[U.NumberSymbols][K.Group]}return r}const SJ=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function GE(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}let WE=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(jc(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${je(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(T(Qp),T(id),T(er),T(Zi))},n.\u0275dir=J({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class UJ{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zE=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new UJ(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),kF(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{kF(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(T(ii),T(es),T(Qp))},n.\u0275dir=J({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function kF(n,e){n.context.$implicit=e.item}let ru=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new $J,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){NF("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){NF("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(T(ii),T(es))},n.\u0275dir=J({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class $J{constructor(){this.$implicit=null,this.ngIf=null}}function NF(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${je(e)}'.`)}let RF=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split(".");null!=(r=null!=r&&s?`${r}${s}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(T(er),T(id),T(Zi))},n.\u0275dir=J({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();let FF=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function YE(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function PJ(n,e,t){return function jE(n,e,t,r,i,s,o=!1){let a="",l=!1;if(isFinite(n)){let u=function OJ(n){let r,i,s,o,a,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);o&&(u=function RJ(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(u));let c=e.minInt,d=e.minFrac,h=e.maxFrac;if(s){const I=s.match(SJ);if(null===I)throw new Error(`${s} is not a valid digit info`);const y=I[1],S=I[3],L=I[5];null!=y&&(c=GE(y)),null!=S&&(d=GE(S)),null!=L?h=GE(L):null!=S&&d>h&&(h=d)}!function FJ(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const s=Math.min(Math.max(e,i),t);let o=s+n.integerLen,a=r[o];if(o>0){r.splice(Math.max(n.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let l=0!==s;const u=e+n.integerLen,c=r.reduceRight(function(d,h,f,p){return p[f]=(h+=d)<10?h:h-10,l&&(0===p[f]&&f>=u?p.pop():l=!1),h>=10?1:0},0);c&&(r.unshift(c),n.integerLen++)}(u,d,h);let f=u.digits,p=u.integerLen;const g=u.exponent;let m=[];for(l=f.every(I=>!I);p<c;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?m=f.splice(p,f.length):(m=f,f=[0]);const v=[];for(f.length>=e.lgSize&&v.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)v.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&v.unshift(f.join("")),a=v.join(Or(t,r)),m.length&&(a+=Or(t,i)+m.join("")),g&&(a+=Or(t,K.Exponential)+"+"+g)}else a=Or(t,K.Infinity);return a=n<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(n,function HE(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],l=o[1]||"";t.posPre=a.substring(0,a.indexOf("#"));for(let c=0;c<l.length;c++){const d=l.charAt(c);"0"===d?t.minFrac=t.maxFrac=c+1:"#"===d?t.maxFrac=c+1:t.posSuf+=d}const u=a.split(",");if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){const c=i.length-t.posPre.length-t.posSuf.length,d=s.indexOf("#");t.negPre=s.substring(0,d).replace(/'/g,""),t.negSuf=s.slice(d+c).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function LE(n,e){return jn(n)[U.NumberFormats][e]}(e,tr.Decimal),Or(e,K.MinusSign)),e,K.Group,K.Decimal,t)}(function JE(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(s){throw function oi(n,e){return new V(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(T(ts,16))},n.\u0275pipe=gt({name:"number",type:n,pure:!0}),n})();let ld=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=St({type:n}),n.\u0275inj=bt({}),n})();let gX=(()=>{class n{}return n.\u0275prov=W({token:n,providedIn:"root",factory:()=>new mX(N(xt),window)}),n})();class mX{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function _X(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=VF(this.window.history)||VF(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function VF(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class XE extends class vX extends class KY{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function zY(n){Yp||(Yp=n)}(new XE)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function wX(){return ud=ud||document.querySelector("base"),ud?ud.getAttribute("href"):null}();return null==t?null:function EX(n){og=og||document.createElement("a"),og.setAttribute("href",n);const e=og.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ud=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function VJ(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let og,ud=null;const BF=new Q("TRANSITION_ID"),CX=[{provide:wE,useFactory:function bX(n,e,t){return()=>{t.get(jp).donePromise.then(()=>{const r=Ci(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[BF,xt,jt],multi:!0}];let IX=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const ag=new Q("EventManagerPlugins");let lg=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(N(ag),N(Ve))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();class UF{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Ci().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let $F=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),cd=(()=>{class n extends $F{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(jF),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(jF))}}return n.\u0275fac=function(t){return new(t||n)(N(xt))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();function jF(n){Ci().remove(n)}const ZE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},eb=/%COMP%/g;function ug(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ug(n,i,t):(i=i.replace(eb,n),t.push(i))}return t}function qF(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let cg=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new tb(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Qr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new kX(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case Qr.ShadowDom:return new NX(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=ug(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(N(lg),N(cd),N(rd))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();class tb{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ZE[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(zF(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(zF(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=ZE[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=ZE[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(yr.DashCase|yr.Important)?e.style.setProperty(t,r,i&yr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&yr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,qF(r)):this.eventManager.addEventListener(e,t,qF(r))}}function zF(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class kX extends tb{constructor(e,t,r,i){super(e),this.component=r;const s=ug(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function AX(n){return"_ngcontent-%COMP%".replace(eb,n)}(i+"-"+r.id),this.hostAttr=function xX(n){return"_nghost-%COMP%".replace(eb,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class NX extends tb{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ug(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let PX=(()=>{class n extends UF{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(N(xt))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const KF=["alt","control","meta","shift"],OX={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},QF={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},FX={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let LX=(()=>{class n extends UF{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ci().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(KF.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(t){let r="",i=function VX(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&QF.hasOwnProperty(e)&&(e=QF[e]))}return OX[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),KF.forEach(s=>{s!=i&&FX[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(N(xt))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const YF=[{provide:Hp,useValue:"browser"},{provide:HO,useValue:function BX(){XE.makeCurrent()},multi:!0},{provide:xt,useFactory:function $X(){return function Q4(n){uv=n}(document),document},deps:[]}],jX=ZO(GY,"browser",YF),JF=new Q(""),XF=[{provide:Gp,useClass:class TX{addToWindow(e){Le.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Le.getAllAngularTestabilities=()=>e.getAllTestabilities(),Le.getAllAngularRootElements=()=>e.getAllRootElements(),Le.frameworkStabilizers||(Le.frameworkStabilizers=[]),Le.frameworkStabilizers.push(r=>{const i=Le.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Ci().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:KO,useClass:DE,deps:[Ve,SE,Gp]},{provide:DE,useClass:DE,deps:[Ve,SE,Gp]}],ZF=[{provide:ow,useValue:"root"},{provide:Il,useFactory:function UX(){return new Il},deps:[]},{provide:ag,useClass:PX,multi:!0,deps:[xt,Ve,Hp]},{provide:ag,useClass:LX,multi:!0,deps:[xt]},{provide:cg,useClass:cg,deps:[lg,cd,rd]},{provide:Xc,useExisting:cg},{provide:$F,useExisting:cd},{provide:cd,useClass:cd,deps:[xt]},{provide:lg,useClass:lg,deps:[ag,Ve]},{provide:class yX{},useClass:IX,deps:[]},[]];let eL=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:rd,useValue:t.appId},{provide:BF,useExisting:rd},CX]}}}return n.\u0275fac=function(t){return new(t||n)(N(JF,12))},n.\u0275mod=St({type:n}),n.\u0275inj=bt({providers:[...ZF,...XF],imports:[ld,qY]}),n})(),tL=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(N(xt))},n.\u0275prov=W({token:n,factory:function(t){let r=null;return r=t?new t:function GX(){return new tL(N(xt))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let iL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(t){let r=null;return r=t?new(t||n):N(sL),r},providedIn:"root"}),n})(),sL=(()=>{class n extends iL{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Ge.NONE:return r;case Ge.HTML:return _i(r,"HTML")?_r(r):Lk(this._doc,String(r)).toString();case Ge.STYLE:return _i(r,"Style")?_r(r):r;case Ge.SCRIPT:if(_i(r,"Script"))return _r(r);throw new Error("unsafe value used in a script context");case Ge.URL:return xk(r),_i(r,"URL")?_r(r):Rc(String(r));case Ge.RESOURCE_URL:if(_i(r,"ResourceURL"))return _r(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function h6(n){return new a6(n)}(t)}bypassSecurityTrustStyle(t){return function f6(n){return new l6(n)}(t)}bypassSecurityTrustScript(t){return function p6(n){return new u6(n)}(t)}bypassSecurityTrustUrl(t){return function g6(n){return new c6(n)}(t)}bypassSecurityTrustResourceUrl(t){return function m6(n){return new d6(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(N(xt))},n.\u0275prov=W({token:n,factory:function(t){let r=null;return r=t?new t:function XX(n){return new sL(n.get(xt))}(N(jt)),r},providedIn:"root"}),n})();const oL_firebase={projectId:"rpg-2-53227",appId:"1:393611842949:web:db420042ce542e190360ec",storageBucket:"rpg-2-53227.appspot.com",locationId:"us-central",apiKey:"AIzaSyCJyMAtIBsRQApkzw61JaVnoz8u2tijAn0",authDomain:"rpg-2-53227.firebaseapp.com",messagingSenderId:"393611842949"};function le(...n){return Vt(n,pc(n))}class Nt extends et{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:ZX}=Array,{getPrototypeOf:eZ,prototype:tZ,keys:nZ}=Object;function aL(n){if(1===n.length){const e=n[0];if(ZX(e))return{args:e,keys:null};if(function rZ(n){return n&&"object"==typeof n&&eZ(n)===tZ}(e)){const t=nZ(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:iZ}=Array;function lL(n){return Ue(e=>function sZ(n,e){return iZ(e)?n(...e):n(e)}(n,e))}function uL(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function cL(...n){const e=pc(n),t=T1(n),{args:r,keys:i}=aL(n);if(0===r.length)return Vt([],e);const s=new at(function oZ(n,e,t=xo){return r=>{dL(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)dL(e,()=>{const u=Vt(n[l],e);let c=!1;u.subscribe(Dt(r,d=>{s[l]=d,c||(c=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>uL(i,o):xo));return t?s.pipe(lL(t)):s}function dL(n,e,t){n?ji(t,n,e):e()}function dd(n,e){const t=We(n)?n:()=>n,r=i=>i.error(t());return new at(e?i=>e.schedule(r,0,i):r)}const hd=fc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ib(...n){return function aZ(){return ol(1)}()(Vt(n,pc(n)))}function hL(n){return new at(e=>{zr(n()).subscribe(e)})}function sb(){return Lt((n,e)=>{let t=null;n._refCount++;const r=Dt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class fL extends at{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,u1(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ur;const t=this.getSubject();e.add(this.source.subscribe(Dt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ur.EMPTY)}return e}refCount(){return sb()(this)}}function qo(n,e){return Lt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(Dt(r,l=>{i?.unsubscribe();let u=0;const c=s++;zr(n(l,c)).subscribe(i=Dt(r,d=>r.next(e?e(l,d,c,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function uZ(n,e,t,r,i){return(s,o)=>{let a=t,l=e,u=0;s.subscribe(Dt(o,c=>{const d=u++;l=a?n(l,c,d):(a=!0,c),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function pL(n,e){return Lt(uZ(n,e,arguments.length>=2,!0))}function Wo(n,e){return Lt((t,r)=>{let i=0;t.subscribe(Dt(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Hs(n){return Lt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(Dt(t,void 0,void 0,o=>{s=zr(n(o,Hs(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function fd(n,e){return We(e)?ln(n,e,1):ln(n,1)}function ob(n){return n<=0?()=>Hi:Lt((e,t)=>{let r=[];e.subscribe(Dt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function gL(n=cZ){return Lt((e,t)=>{let r=!1;e.subscribe(Dt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function cZ(){return new hd}function ab(n){return Lt((e,t)=>{let r=!1;e.subscribe(Dt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function zo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Wo((i,s)=>n(i,s,r)):xo,ko(1),t?ab(e):gL(()=>new hd))}function cn(n,e,t){const r=We(n)||e||t?{next:n,error:e,complete:t}:n;return r?Lt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Dt(s,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),s.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):xo}function lb(n){return Lt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class os{constructor(e,t){this.id=e,this.url=t}}class ub extends os{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pd extends os{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class mL extends os{constructor(e,t,r){super(e,t),this.reason=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fZ extends os{constructor(e,t,r){super(e,t),this.error=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pZ extends os{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gZ extends os{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mZ extends os{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _Z extends os{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yZ extends os{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vZ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wZ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class EZ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bZ{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CZ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TZ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _L{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const me="primary";class IZ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function iu(n){return new IZ(n)}const yL="ngNavigationCancelingError";function cb(n){const e=Error("NavigationCancelingError: "+n);return e[yL]=!0,e}function SZ(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ti(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!vL(n[i],e[i]))return!1;return!0}function vL(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function wL(n){return Array.prototype.concat.apply([],n)}function EL(n){return n.length>0?n[n.length-1]:null}function dn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ai(n){return Gw(n)?n:Wc(n)?Vt(Promise.resolve(n)):le(n)}const MZ={exact:function TL(n,e,t){if(!Qo(n.segments,e.segments)||!dg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!TL(n.children[r],e.children[r],t))return!1;return!0},subset:IL},bL={exact:function kZ(n,e){return Ti(n,e)},subset:function NZ(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>vL(n[t],e[t]))},ignored:()=>!0};function CL(n,e,t){return MZ[t.paths](n.root,e.root,t.matrixParams)&&bL[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function IL(n,e,t){return DL(n,e,e.segments,t)}function DL(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Qo(i,t)||e.hasChildren()||!dg(i,t,r))}if(n.segments.length===t.length){if(!Qo(n.segments,t)||!dg(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!IL(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Qo(n.segments,i)&&dg(n.segments,i,r)&&n.children[me])&&DL(n.children[me],e,s,r)}}function dg(n,e,t){return e.every((r,i)=>bL[t](n[i].parameters,r.parameters))}class Ko{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=iu(this.queryParams)),this._queryParamMap}toString(){return OZ.serialize(this)}}class Ee{constructor(e,t){this.segments=e,this.children=t,this.parent=null,dn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hg(this)}}class gd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=iu(this.parameters)),this._parameterMap}toString(){return kL(this)}}function Qo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class SL{}class AL{parse(e){const t=new GZ(e);return new Ko(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${md(e.root,!0)}`,r=function VZ(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${fg(t)}=${fg(i)}`).join("&"):`${fg(t)}=${fg(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function FZ(n){return encodeURI(n)}(e.fragment)}`:""}`}}const OZ=new AL;function hg(n){return n.segments.map(e=>kL(e)).join("/")}function md(n,e){if(!n.hasChildren())return hg(n);if(e){const t=n.children[me]?md(n.children[me],!1):"",r=[];return dn(n.children,(i,s)=>{s!==me&&r.push(`${s}:${md(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function RZ(n,e){let t=[];return dn(n.children,(r,i)=>{i===me&&(t=t.concat(e(r,i)))}),dn(n.children,(r,i)=>{i!==me&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===me?[md(n.children[me],!1)]:[`${i}:${md(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[me]?`${hg(n)}/${t[0]}`:`${hg(n)}/(${t.join("//")})`}}function xL(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fg(n){return xL(n).replace(/%3B/gi,";")}function db(n){return xL(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pg(n){return decodeURIComponent(n)}function ML(n){return pg(n.replace(/\+/g,"%20"))}function kL(n){return`${db(n.path)}${function LZ(n){return Object.keys(n).map(e=>`;${db(e)}=${db(n[e])}`).join("")}(n.parameters)}`}const BZ=/^[^\/()?;=#]+/;function gg(n){const e=n.match(BZ);return e?e[0]:""}const UZ=/^[^=?&#]+/,jZ=/^[^&#]+/;class GZ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[me]=new Ee(e,t)),r}parseSegment(){const e=gg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new gd(pg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=gg(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=gg(this.remaining);i&&(r=i,this.capture(r))}e[pg(t)]=pg(r)}parseQueryParam(e){const t=function $Z(n){const e=n.match(UZ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function HZ(n){const e=n.match(jZ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=ML(t),s=ML(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=gg(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=me);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[me]:new Ee([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class NL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=hb(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=hb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=fb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return fb(e,this._root).map(t=>t.value)}}function hb(n,e){if(n===e.value)return e;for(const t of e.children){const r=hb(n,t);if(r)return r}return null}function fb(n,e){if(n===e.value)return[e];for(const t of e.children){const r=fb(n,t);if(r.length)return r.unshift(e),r}return[]}class as{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function su(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class PL extends NL{constructor(e,t){super(e),this.snapshot=t,pb(this,e)}toString(){return this.snapshot.toString()}}function RL(n,e){const t=function qZ(n,e){const o=new mg([],{},{},"",{},me,e,null,n.root,-1,{});return new FL("",new as(o,[]))}(n,e),r=new Nt([new gd("",{})]),i=new Nt({}),s=new Nt({}),o=new Nt({}),a=new Nt(""),l=new Yo(r,i,o,a,s,me,e,t.root);return l.snapshot=t.root,new PL(new as(l,[]),t)}class Yo{constructor(e,t,r,i,s,o,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ue(e=>iu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ue(e=>iu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function OL(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function WZ(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class mg{constructor(e,t,r,i,s,o,a,l,u,c,d,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._correctedLastPathIndex=h??c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=iu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=iu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class FL extends NL{constructor(e,t){super(t),this.url=e,pb(this,t)}toString(){return LL(this._root)}}function pb(n,e){e.value._routerState=n,e.children.forEach(t=>pb(n,t))}function LL(n){const e=n.children.length>0?` { ${n.children.map(LL).join(", ")} } `:"";return`${n.value}${e}`}function gb(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ti(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ti(e.params,t.params)||n.params.next(t.params),function AZ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ti(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ti(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function mb(n,e){const t=Ti(n.params,e.params)&&function PZ(n,e){return Qo(n,e)&&n.every((t,r)=>Ti(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||mb(n.parent,e.parent))}function _d(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function KZ(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return _d(n,r,i);return _d(n,r)})}(n,e,t);return new as(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>_d(n,a)),o}}const r=function QZ(n){return new Yo(new Nt(n.url),new Nt(n.params),new Nt(n.queryParams),new Nt(n.fragment),new Nt(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>_d(n,s));return new as(r,i)}}function _g(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function yd(n){return"object"==typeof n&&null!=n&&n.outlets}function _b(n,e,t,r,i){let s={};if(r&&dn(r,(a,l)=>{s[l]=Array.isArray(a)?a.map(u=>`${u}`):`${a}`}),n===e)return new Ko(t,s,i);const o=VL(n,e,t);return new Ko(o,s,i)}function VL(n,e,t){const r={};return dn(n.children,(i,s)=>{r[s]=i===e?t:VL(i,e,t)}),new Ee(n.segments,r)}class BL{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&_g(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(yd);if(i&&i!==EL(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yb{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function UL(n,e,t){if(n||(n=new Ee([],{})),0===n.segments.length&&n.hasChildren())return yg(n,e,t);const r=function tee(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(yd(a))break;const l=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!jL(l,u,o))return s;r+=2}else{if(!jL(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Ee(n.segments.slice(0,r.pathIndex),{});return s.children[me]=new Ee(n.segments.slice(r.pathIndex),n.children),yg(s,0,i)}return r.match&&0===i.length?new Ee(n.segments,{}):r.match&&!n.hasChildren()?vb(n,e,t):r.match?yg(n,0,i):vb(n,e,t)}function yg(n,e,t){if(0===t.length)return new Ee(n.segments,{});{const r=function eee(n){return yd(n[0])?n[0].outlets:{[me]:n}}(t),i={};return dn(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=UL(n.children[o],e,s))}),dn(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new Ee(n.segments,i)}}function vb(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(yd(s)){const l=nee(s.outlets);return new Ee(r,l)}if(0===i&&_g(t[0])){r.push(new gd(n.segments[e].path,$L(t[0]))),i++;continue}const o=yd(s)?s.outlets[me]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&_g(a)?(r.push(new gd(o,$L(a))),i+=2):(r.push(new gd(o,{})),i++)}return new Ee(r,{})}function nee(n){const e={};return dn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=vb(new Ee([],{}),0,t))}),e}function $L(n){const e={};return dn(n,(t,r)=>e[r]=`${t}`),e}function jL(n,e,t){return n==t.path&&Ti(e,t.parameters)}class ree{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new vd,this.attachRef=null}}class vd{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new ree,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let vg=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new vt,this.deactivateEvents=new vt,this.attachEvents=new vt,this.detachEvents=new vt,this.name=i||me,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const i=this.location,o=t._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new iee(t,a,i.injector);if(r&&function see(n){return!!n.resolveComponentFactory}(r)){const u=r.resolveComponentFactory(o);this.activated=i.createComponent(u,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(T(vd),T(ii),Tc("name"),T(Wp),T(Uo))},n.\u0275dir=J({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class iee{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Yo?this.route:e===vd?this.childContexts:this.parent.get(e,t)}}let HL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Bt({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&Fe(0,"router-outlet")},dependencies:[vg],encapsulation:2}),n})();function GL(n,e){return n.providers&&!n._injector&&(n._injector=Fp(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Eb(n){const e=n.children&&n.children.map(Eb),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==me&&(t.component=HL),t}function Lr(n){return n.outlet||me}function qL(n,e){const t=n.filter(r=>Lr(r)===e);return t.push(...n.filter(r=>Lr(r)!==e)),t}function WL(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class cee{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),gb(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=su(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),dn(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=su(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=su(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=su(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new TZ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new bZ(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(gb(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),gb(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=WL(i.snapshot),l=a?.get(Kl)??null;o.attachRef=null,o.route=i,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}function Gs(n){return"function"==typeof n}function Jo(n){return n instanceof Ko}const wd=Symbol("INITIAL_VALUE");function Ed(){return qo(n=>cL(n.map(e=>e.pipe(ko(1),function lZ(...n){const e=pc(n);return Lt((t,r)=>{(e?ib(n,t,e):ib(n,t)).subscribe(r)})}(wd)))).pipe(pL((e,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==wd?i:(s===wd&&(r=!0),r||!1!==s&&o!==t.length-1&&!Jo(s)?i:s),e)},wd),Wo(e=>e!==wd),Ue(e=>Jo(e)?e:!0===e),ko(1)))}const zL={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wg(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...zL}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||SZ)(t,n,e);if(!i)return{...zL};const s={};dn(i.posParams,(a,l)=>{s[l]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Eg(n,e,t,r,i="corrected"){if(t.length>0&&function yee(n,e,t){return t.some(r=>bg(n,e,r)&&Lr(r)!==me)}(n,t,r)){const o=new Ee(e,function _ee(n,e,t,r){const i={};i[me]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Lr(s)!==me){const o=new Ee([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Lr(s)]=o}return i}(n,e,r,new Ee(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function vee(n,e,t){return t.some(r=>bg(n,e,r))}(n,t,r)){const o=new Ee(n.segments,function mee(n,e,t,r,i,s){const o={};for(const a of r)if(bg(n,t,a)&&!i[Lr(a)]){const l=new Ee([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[Lr(a)]=l}return{...i,...o}}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new Ee(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function bg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function KL(n,e,t,r){return!!(Lr(n)===r||r!==me&&bg(e,t,n))&&("**"===n.path||wg(e,n,t).matched)}function QL(n,e,t){return 0===e.length&&!n.children[t]}class Cg{constructor(e){this.segmentGroup=e||null}}class YL{constructor(e){this.urlTree=e}}function bd(n){return dd(new Cg(n))}function JL(n){return dd(new YL(n))}class Cee{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Eg(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ee(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,me).pipe(Ue(s=>this.createUrlTree(bb(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Hs(s=>{if(s instanceof YL)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Cg?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,me).pipe(Ue(i=>this.createUrlTree(bb(i),e.queryParams,e.fragment))).pipe(Hs(i=>{throw i instanceof Cg?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Ee([],{[me]:e}):e;return new Ko(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Ue(s=>new Ee([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Vt(i).pipe(fd(s=>{const o=r.children[s],a=qL(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(Ue(l=>({segment:l,outlet:s})))}),pL((s,o)=>(s[o.outlet]=o.segment,s),{}),function dZ(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Wo((i,s)=>n(i,s,r)):xo,ob(1),t?ab(e):gL(()=>new hd))}())}expandSegment(e,t,r,i,s,o){return Vt(r).pipe(fd(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(Hs(u=>{if(u instanceof Cg)return le(null);throw u}))),zo(a=>!!a),Hs((a,l)=>{if(a instanceof hd||"EmptyError"===a.name)return QL(t,i,s)?le(new Ee([],{})):bd(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return KL(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):bd(t):bd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?JL(s):this.lineralizeSegments(r,s).pipe(ln(o=>{const a=new Ee(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=wg(t,i,s);if(!a)return bd(t);const d=this.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?JL(d):this.lineralizeSegments(i,d).pipe(ln(h=>this.expandSegment(e,t,r,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return e=GL(r,e),r.loadChildren?(r._loadedRoutes?le({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(Ue(d=>(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,new Ee(i,{})))):le(new Ee(i,{}));const{matched:o,consumedSegments:a,remainingSegments:l}=wg(t,r,i);return o?(e=GL(r,e),this.getChildConfig(e,r,i).pipe(ln(c=>{const d=c.injector??e,h=c.routes,{segmentGroup:f,slicedSegments:p}=Eg(t,a,l,h),g=new Ee(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(Ue(y=>new Ee(a,y)));if(0===h.length&&0===p.length)return le(new Ee(a,{}));const m=Lr(r)===s;return this.expandSegment(d,g,h,p,m?me:s,!0).pipe(Ue(I=>new Ee(a.concat(I.segments),I.children)))}))):bd(t)}getChildConfig(e,t,r){return t.children?le({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?le({routes:t._loadedRoutes,injector:t._loadedInjector}):this.runCanLoadGuards(e,t,r).pipe(ln(i=>i?this.configLoader.loadChildren(e,t).pipe(cn(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function Eee(n){return dd(cb(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):le({routes:[],injector:e})}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?le(i.map(o=>{const a=e.get(o);let l;if(function hee(n){return n&&Gs(n.canLoad)}(a))l=a.canLoad(t,r);else{if(!Gs(a))throw new Error("Invalid CanLoad guard");l=a(t,r)}return ai(l)})).pipe(Ed(),cn(o=>{if(!Jo(o))return;const a=cb(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),Ue(o=>!0===o)):le(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return le(r);if(i.numberOfChildren>1||!i.children[me])return dd(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[me]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Ko(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return dn(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return dn(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new Ee(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function bb(n){const e={};for(const r of Object.keys(n.children)){const s=bb(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Tee(n){if(1===n.numberOfChildren&&n.children[me]){const e=n.children[me];return new Ee(n.segments.concat(e.segments),e.children)}return n}(new Ee(n.segments,e))}class XL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Tg{constructor(e,t){this.component=e,this.route=t}}function Dee(n,e,t){const r=n._root;return Cd(r,e?e._root:null,t,[r.value])}function Ig(n,e,t){return(WL(e)??t).get(n)}function Cd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=su(e);return n.children.forEach(o=>{(function Aee(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function xee(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Qo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Qo(n.url,e.url)||!Ti(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mb(n,e)||!Ti(n.queryParams,e.queryParams);default:return!mb(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new XL(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Cd(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Tg(a.outlet.component,o))}else o&&Td(e,a,i),i.canActivateChecks.push(new XL(r)),Cd(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),dn(s,(o,a)=>Td(o,t.getContext(a),i)),i}function Td(n,e,t){const r=su(n),i=n.value;dn(r,(s,o)=>{Td(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Tg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Vee{}function eV(n){return new at(e=>e.error(n))}class Uee{constructor(e,t,r,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Eg(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,me);if(null===t)return null;const r=new mg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},me,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new as(r,t),s=new FL(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=OL(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=qL(e,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;r.push(...l)}const i=tV(r);return function $ee(n){n.sort((e,t)=>e.value.outlet===me?-1:t.value.outlet===me?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return QL(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!KL(e,t,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?EL(r).parameters:{},p=rV(t)+r.length;s=new mg(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sV(e),Lr(e),e.component??e._loadedComponent??null,e,nV(t),p,oV(e),p)}else{const f=wg(t,e,r);if(!f.matched)return null;o=f.consumedSegments,a=f.remainingSegments;const p=rV(t)+o.length;s=new mg(o,f.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sV(e),Lr(e),e.component??e._loadedComponent??null,e,nV(t),p,oV(e),p)}const l=function jee(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:u,slicedSegments:c}=Eg(t,o,a,l.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const f=this.processChildren(l,u);return null===f?null:[new as(s,f)]}if(0===l.length&&0===c.length)return[new as(s,[])];const d=Lr(e)===i,h=this.processSegment(l,u,c,d?me:i);return null===h?null:[new as(s,h)]}}function Hee(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function tV(n){const e=[],t=new Set;for(const r of n){if(!Hee(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=tV(r.children);e.push(new as(r.value,i))}return e.filter(r=>!t.has(r))}function nV(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function rV(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function sV(n){return n.data||{}}function oV(n){return n.resolve||{}}const Cb=Symbol("RouteTitle");function aV(n){return"string"==typeof n.title||null===n.title}function Tb(n){return qo(e=>{const t=n(e);return t?Vt(t).pipe(Ue(()=>e)):le(e)})}class Xee extends class Jee{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Ib=new Q("ROUTES");let Db=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return le(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ai(t.loadComponent()).pipe(cn(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),lb(()=>{this.componentLoaders.delete(t)})),i=new fL(r,()=>new et).pipe(sb());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return le({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Ue(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,u,c=!1;Array.isArray(a)?u=a:(l=a.create(t).injector,u=wL(l.get(Ib,[],Y.Self|Y.Optional)));return{routes:u.map(Eb),injector:l}}),lb(()=>{this.childrenLoaders.delete(r)})),o=new fL(s,()=>new et).pipe(sb());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return ai(t()).pipe(ln(r=>r instanceof iO||Array.isArray(r)?le(r):Vt(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(N(jt),N(bE))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();class ete{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function nte(n){throw n}function rte(n,e,t){return e.parse("/")}const ite={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ste={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let hn=(()=>{class n{constructor(t,r,i,s,o,a,l){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new et,this.errorHandler=nte,this.malformedUriErrorHandler=rte,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>le(void 0),this.urlHandlingStrategy=new ete,this.routeReuseStrategy=new Xee,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(Db),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new wZ(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new vZ(h)),this.ngModule=o.get(Bs),this.console=o.get(cY);const d=o.get(Ve);this.isNgZoneEnabled=d instanceof Ve&&Ve.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function xZ(){return new Ko(new Ee([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=RL(this.currentUrlTree,this.rootComponentType),this.transitions=new Nt({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Wo(i=>0!==i.id),Ue(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),qo(i=>{let s=!1,o=!1;return le(i).pipe(cn(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),qo(a=>{const l=this.browserUrlTree.toString(),u=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return uV(a.source)&&(this.browserUrlTree=a.extractedUrl),le(a).pipe(qo(d=>{const h=this.transitions.getValue();return r.next(new ub(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Hi:Promise.resolve(d)}),function Iee(n,e,t,r){return qo(i=>function bee(n,e,t,r,i){return new Cee(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(Ue(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),cn(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects}}),function Gee(n,e,t,r,i){return ln(s=>function Bee(n,e,t,r,i="emptyOnly",s="legacy"){try{const o=new Uee(n,e,t,r,i,s).recognize();return null===o?eV(new Vee):le(o)}catch(o){return eV(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(Ue(o=>({...s,targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),cn(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new pZ(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=a,v=new ub(h,this.serializeUrl(f),p,g);r.next(v);const I=RL(f,this.rootComponentType).snapshot;return le({...a,targetSnapshot:I,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),Hi}),cn(a=>{const l=new gZ(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),Ue(a=>({...a,guards:Dee(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function Mee(n,e){return ln(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?le({...t,guardsResult:!0}):function kee(n,e,t,r){return Vt(n).pipe(ln(i=>function Lee(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?le(s.map(a=>{const l=Ig(a,e,i);let u;if(function gee(n){return n&&Gs(n.canDeactivate)}(l))u=ai(l.canDeactivate(n,e,t,r));else{if(!Gs(l))throw new Error("Invalid CanDeactivate guard");u=ai(l(n,e,t,r))}return u.pipe(zo())})).pipe(Ed()):le(!0)}(i.component,i.route,t,e,r)),zo(i=>!0!==i,!0))}(o,r,i,n).pipe(ln(a=>a&&function dee(n){return"boolean"==typeof n}(a)?function Nee(n,e,t,r){return Vt(e).pipe(fd(i=>ib(function Ree(n,e){return null!==n&&e&&e(new EZ(n)),le(!0)}(i.route.parent,r),function Pee(n,e){return null!==n&&e&&e(new CZ(n)),le(!0)}(i.route,r),function Fee(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function See(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>hL(()=>le(o.guards.map(l=>{const u=Ig(l,o.node,t);let c;if(function pee(n){return n&&Gs(n.canActivateChild)}(u))c=ai(u.canActivateChild(r,n));else{if(!Gs(u))throw new Error("Invalid CanActivateChild guard");c=ai(u(r,n))}return c.pipe(zo())})).pipe(Ed())));return le(s).pipe(Ed())}(n,i.path,t),function Oee(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return le(!0);const i=r.map(s=>hL(()=>{const o=Ig(s,e,t);let a;if(function fee(n){return n&&Gs(n.canActivate)}(o))a=ai(o.canActivate(e,n));else{if(!Gs(o))throw new Error("Invalid CanActivate guard");a=ai(o(e,n))}return a.pipe(zo())}));return le(i).pipe(Ed())}(n,i.route,t))),zo(i=>!0!==i,!0))}(r,s,n,e):le(a)),Ue(a=>({...t,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),cn(a=>{if(Jo(a.guardsResult)){const u=cb(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw u.url=a.guardsResult,u}const l=new mZ(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Wo(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Tb(a=>{if(a.guards.canActivateChecks.length)return le(a).pipe(cn(l=>{const u=new _Z(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}),qo(l=>{let u=!1;return le(l).pipe(function qee(n,e){return ln(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return le(t);let s=0;return Vt(i).pipe(fd(o=>function Wee(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!aV(i)&&(s[Cb]=i.title),function zee(n,e,t,r){const i=function Kee(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return le({});const s={};return Vt(i).pipe(ln(o=>function Qee(n,e,t,r){const i=Ig(n,e,r);return ai(i.resolve?i.resolve(e,t):i(e,t))}(n[o],e,t,r).pipe(zo(),cn(a=>{s[o]=a}))),ob(1),function hZ(n){return Ue(()=>n)}(s),Hs(o=>o instanceof hd?Hi:dd(o)))}(s,n,e,r).pipe(Ue(o=>(n._resolvedData=o,n.data=OL(n,t).resolve,i&&aV(i)&&(n.data[Cb]=i.title),null)))}(o.route,r,n,e)),cn(()=>s++),ob(1),ln(o=>s===i.length?le(t):Hi))})}(this.paramsInheritanceStrategy,this.ngModule.injector),cn({next:()=>u=!0,complete:()=>{u||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),cn(l=>{const u=new yZ(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}))}),Tb(()=>this.afterPreactivation()),Tb(a=>{const l=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(cn(d=>{u.component=d}),Ue(()=>{})));for(const d of u.children)c.push(...l(d));return c};return cL(l(a.targetSnapshot.root)).pipe(ab(),ko(1))}),Ue(a=>{const l=function zZ(n,e,t){const r=_d(n,e._root,t?t._root:void 0);return new PL(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return{...a,targetRouterState:l}}),cn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>Ue(r=>(new cee(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),cn({next(){s=!0},complete(){s=!0}}),lb(()=>{s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Hs(a=>{if(o=!0,function DZ(n){return n&&n[yL]}(a)){const l=Jo(a.url);l||(this.navigated=!0,this.restoreHistory(i,!0));const u=new mL(i.id,this.serializeUrl(i.extractedUrl),a.message);if(r.next(u),l){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||uV(i.source)};this.scheduleNavigation(c,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new fZ(i.id,this.serializeUrl(i.extractedUrl),a);r.next(l);try{i.resolve(this.errorHandler(a))}catch(u){i.reject(u)}}return Hi}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(t.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Eb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,u=i||this.routerState.root,c=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function YZ(n,e,t,r,i){if(0===t.length)return _b(e.root,e.root,e.root,r,i);const s=function JZ(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new BL(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return dn(s.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new BL(t,e,r)}(t);return s.toRoot()?_b(e.root,e.root,new Ee([],{}),r,i):function o(l){const u=function XZ(n,e,t,r){return n.isAbsolute?new yb(e.root,!0,0):-1===r?new yb(t,t===e.root,0):function ZZ(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new yb(r,!1,i-s)}(t,r+(_g(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,l),c=u.processChildren?yg(u.segmentGroup,u.index,s.commands):UL(u.segmentGroup,u.index,s.commands);return _b(e.root,u.segmentGroup,c,r,i)}(n.snapshot?._lastPathIndex)}(u,this.currentUrlTree,t,d,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Jo(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function ote(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...ite}:!1===r?{...ste}:r,Jo(t))return CL(this.currentUrlTree,t,i);const s=this.parseUrl(t);return CL(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new pd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,u;o?(a=o.resolve,l=o.reject,u=o.promise):u=new Promise((h,f)=>{a=h,l=f});const c=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:c,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new mL(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){gw()},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();function uV(n){return"imperative"!==n}let Id=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new et,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:rs(this.skipLocationChange),replaceUrl:rs(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:rs(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(T(hn),T(Yo),Tc("tabindex"),T(Zi),T(er))},n.\u0275dir=J({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&ne("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[kr]}),n})();class cV{buildTitle(e){let t,r=e.root;for(;void 0!==r;)t=this.getResolvedTitleForRoute(r)??t,r=r.children.find(i=>i.outlet===me);return t}getResolvedTitleForRoute(e){return e.data[Cb]}}let ute=(()=>{class n extends cV{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(N(tL))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class dV{}class hV{preload(e,t){return le(null)}}let fV=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Wo(t=>t instanceof pd),fd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Fp(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Vt(i).pipe(ol())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):le(null);const s=i.pipe(ln(o=>null===o?le(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?Vt([s,this.loader.loadComponent(r)]).pipe(ol()):s})}}return n.\u0275fac=function(t){return new(t||n)(N(hn),N(bE),N(Uo),N(dV),N(Db))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),Ab=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ub?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof pd&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _L&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new _L(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){gw()},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const Xo=new Q("ROUTER_CONFIGURATION"),pV=new Q("ROUTER_FORROOT_GUARD"),dte=[FE,{provide:SL,useClass:AL},{provide:hn,useFactory:function mte(n,e,t,r,i,s,o={},a,l,u,c){const d=new hn(null,n,e,t,r,i,wL(s));return u&&(d.urlHandlingStrategy=u),c&&(d.routeReuseStrategy=c),d.titleStrategy=l??a,function _te(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,d),d},deps:[SL,vd,FE,jt,bE,Ib,Xo,ute,[cV,new ut],[class Zee{},new ut],[class Yee{},new ut]]},vd,{provide:Yo,useFactory:function yte(n){return n.routerState.root},deps:[hn]},fV,hV,class cte{preload(e,t){return t().pipe(Hs(()=>le(null)))}},{provide:Xo,useValue:{enableTracing:!1}},Db];function hte(){return new JO("Router",hn)}let ou=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[dte,gV(t),{provide:pV,useFactory:gte,deps:[[hn,new ut,new kc]]},{provide:Xo,useValue:r||{}},{provide:nu,useFactory:pte,deps:[sd,[new cp(OE),new ut],Xo]},{provide:Ab,useFactory:fte,deps:[hn,gX,Xo]},{provide:dV,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:hV},{provide:JO,multi:!0,useFactory:hte},[xb,{provide:wE,multi:!0,useFactory:vte,deps:[xb]},{provide:mV,useFactory:wte,deps:[xb]},{provide:GO,multi:!0,useExisting:mV}]]}}static forChild(t){return{ngModule:n,providers:[gV(t)]}}}return n.\u0275fac=function(t){return new(t||n)(N(pV,8),N(hn,8))},n.\u0275mod=St({type:n}),n.\u0275inj=bt({}),n})();function fte(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Ab(n,e,t)}function pte(n,e,t={}){return t.useHash?new ZY(n,e):new wF(n,e)}function gte(n){return"guarded"}function gV(n){return[{provide:N5,multi:!0,useValue:n},{provide:Ib,multi:!0,useValue:n}]}let xb=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new et}appInitializer(){return this.injector.get(YY,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(hn),o=this.injector.get(Xo);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabledBlocking"===o.initialNavigation?(s.afterPreactivation=()=>this.initNavigation?le(void 0):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Xo),i=this.injector.get(fV),s=this.injector.get(Ab),o=this.injector.get(hn),a=this.injector.get(tu);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(void 0),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(N(jt))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();function vte(n){return n.appInitializer.bind(n)}function wte(n){return n.bootstrapListener.bind(n)}const mV=new Q("Router Initializer");let _V=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(T(Zi),T(er))},n.\u0275dir=J({type:n}),n})(),Zo=(()=>{class n extends _V{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Sn(n)))(r||n)}}(),n.\u0275dir=J({type:n,features:[Re]}),n})();const Ii=new Q("NgValueAccessor"),Tte={provide:Ii,useExisting:ze(()=>ea),multi:!0},Dte=new Q("CompositionEventMode");let ea=(()=>{class n extends _V{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ite(){const n=Ci()?Ci().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(T(Zi),T(er),T(Dte,8))},n.\u0275dir=J({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&ne("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[nt([Tte]),Re]}),n})();function qs(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function vV(n){return null!=n&&"number"==typeof n.length}const Mn=new Q("NgValidators"),Ws=new Q("NgAsyncValidators"),Ste=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Vr{static min(e){return function wV(n){return e=>{if(qs(e.value)||qs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function EV(n){return e=>{if(qs(e.value)||qs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function bV(n){return qs(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function CV(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function TV(n){return qs(n.value)||Ste.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function IV(n){return e=>qs(e.value)||!vV(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function DV(n){return e=>vV(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function SV(n){if(!n)return Dg;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(qs(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return PV(e)}static composeAsync(e){return RV(e)}}function Dg(n){return null}function AV(n){return null!=n}function xV(n){const e=Wc(n)?Vt(n):n;return Gw(e),e}function MV(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function kV(n,e){return e.map(t=>t(n))}function NV(n){return n.map(e=>function Ate(n){return!n.validate}(e)?e:t=>e.validate(t))}function PV(n){if(!n)return null;const e=n.filter(AV);return 0==e.length?null:function(t){return MV(kV(t,e))}}function Mb(n){return null!=n?PV(NV(n)):null}function RV(n){if(!n)return null;const e=n.filter(AV);return 0==e.length?null:function(t){return function bte(...n){const e=T1(n),{args:t,keys:r}=aL(n),i=new at(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,u=o;for(let c=0;c<o;c++){let d=!1;zr(t[c]).subscribe(Dt(s,h=>{d||(d=!0,u--),a[c]=h},()=>l--,void 0,()=>{(!l||!d)&&(u||s.next(r?uL(r,a):a),s.complete())}))}});return e?i.pipe(lL(e)):i}(kV(t,e).map(xV)).pipe(Ue(MV))}}function kb(n){return null!=n?RV(NV(n)):null}function OV(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function FV(n){return n._rawValidators}function LV(n){return n._rawAsyncValidators}function Nb(n){return n?Array.isArray(n)?n:[n]:[]}function Sg(n,e){return Array.isArray(n)?n.includes(e):n===e}function VV(n,e){const t=Nb(e);return Nb(n).forEach(i=>{Sg(t,i)||t.push(i)}),t}function BV(n,e){return Nb(e).filter(t=>!Sg(n,t))}class UV{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Mb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=kb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Gn extends UV{get formDirective(){return null}get path(){return null}}class zs extends UV{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $V{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Dd=(()=>{class n extends $V{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(T(zs,2))},n.\u0275dir=J({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&xp("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Re]}),n})(),Pb=(()=>{class n extends $V{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(T(Gn,10))},n.\u0275dir=J({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&xp("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Re]}),n})();const Sd="VALID",xg="INVALID",au="PENDING",Ad="DISABLED";function Lb(n){return(Mg(n)?n.validators:n)||null}function HV(n){return Array.isArray(n)?Mb(n):n||null}function Vb(n,e){return(Mg(e)?e.asyncValidators:n)||null}function GV(n){return Array.isArray(n)?kb(n):n||null}function Mg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class zV{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=HV(this._rawValidators),this._composedAsyncValidatorFn=GV(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Sd}get invalid(){return this.status===xg}get pending(){return this.status==au}get disabled(){return this.status===Ad}get enabled(){return this.status!==Ad}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=HV(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=GV(e)}addValidators(e){this.setValidators(VV(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(VV(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(BV(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(BV(e,this._rawAsyncValidators))}hasValidator(e){return Sg(this._rawValidators,e)}hasAsyncValidator(e){return Sg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=au,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ad,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Sd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Sd||this.status===au)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ad:Sd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=au,this._hasOwnPendingAsyncValidator=!0;const t=xV(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new vt,this.statusChanges=new vt}_calculateStatus(){return this._allControlsDisabled()?Ad:this.errors?xg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(au)?au:this._anyControlsHaveStatus(xg)?xg:Sd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Mg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class xd extends zV{constructor(e,t,r){super(Lb(t),Vb(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function WV(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new V(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function qV(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new V(1e3,"");if(!r[t])throw new V(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function Md(n,e){Bb(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function Lte(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&KV(n,e)})}(n,e),function Bte(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Vte(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&KV(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Fte(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ng(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Rg(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Pg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Bb(n,e){const t=FV(n);null!==e.validator?n.setValidators(OV(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=LV(n);null!==e.asyncValidator?n.setAsyncValidators(OV(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Pg(e._rawValidators,i),Pg(e._rawAsyncValidators,i)}function Rg(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=FV(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=LV(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return Pg(e._rawValidators,r),Pg(e._rawAsyncValidators,r),t}function KV(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ub(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function $b(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===ea?t=s:function jte(n){return Object.getPrototypeOf(n.constructor)===Zo}(s)?r=s:i=s}),i||r||t||null}function XV(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function ZV(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const fn=class extends zV{constructor(e=null,t,r){super(Lb(t),Vb(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=ZV(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){XV(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){XV(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){ZV(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Hb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=J({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),s2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=St({type:n}),n.\u0275inj=bt({}),n})();const Gb=new Q("NgModelWithFormControlWarning"),Xte={provide:zs,useExisting:ze(()=>Og)};let Og=(()=>{class n extends zs{constructor(t,r,i,s){super(),this._ngModelWarningConfig=s,this.update=new vt,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=$b(0,i)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const r=t.form.previousValue;r&&Ng(r,this,!1),Md(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}Ub(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Ng(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(T(Mn,10),T(Ws,10),T(Ii,10),T(Gb,8))},n.\u0275dir=J({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[nt([Xte]),Re,kr]}),n})();const Zte={provide:Gn,useExisting:ze(()=>Nd)};let Nd=(()=>{class n extends Gn{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new vt,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Rg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Md(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Ng(t.control||null,t,!1),function Hte(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function JV(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Ng(r||null,t),(n=>n instanceof fn)(i)&&(Md(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function QV(n,e){Bb(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Ute(n,e){return Rg(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Bb(this.form,this),this._oldForm&&Rg(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(T(Mn,10),T(Ws,10))},n.\u0275dir=J({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&ne("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[nt([Zte]),Re,kr]}),n})();const nne={provide:zs,useExisting:ze(()=>Fg)};let Fg=(()=>{class n extends zs{constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new vt,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=$b(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),Ub(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function kg(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(T(Gn,13),T(Mn,10),T(Ws,10),T(Ii,10),T(Gb,8))},n.\u0275dir=J({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[nt([nne]),Re,kr]}),n})();const rne={provide:Ii,useExisting:ze(()=>Pd),multi:!0};function u2(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Pd=(()=>{class n extends Zo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=u2(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function ine(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Sn(n)))(r||n)}}(),n.\u0275dir=J({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&ne("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[nt([rne]),Re]}),n})(),zb=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(u2(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(T(er),T(Zi),T(Pd,9))},n.\u0275dir=J({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const sne={provide:Ii,useExisting:ze(()=>Kb),multi:!0};function c2(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Kb=(()=>{class n extends Zo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const u=this._getOptionValue(o[a].value);i.push(u)}}else{const o=r.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function one(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Sn(n)))(r||n)}}(),n.\u0275dir=J({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&ne("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[nt([sne]),Re]}),n})(),Qb=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(c2(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(c2(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(T(er),T(Zi),T(Kb,9))},n.\u0275dir=J({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),w2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=St({type:n}),n.\u0275inj=bt({imports:[s2]}),n})(),gne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=St({type:n}),n.\u0275inj=bt({imports:[w2]}),n})(),E2=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Gb,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=St({type:n}),n.\u0275inj=bt({imports:[w2]}),n})();function ls(n){return Lt((e,t)=>{zr(n).subscribe(Dt(t,()=>t.complete(),By)),!t.closed&&e.subscribe(t)})}let Di=(()=>{class n{constructor(){this.sheet$=new Nt({id:""}),this.id$=new Nt(""),this.player$=new Nt({origin:"Central Plaza"}),this.attributes$=new Nt(null),this.history$=new Nt(""),this.annotations$=new Nt(""),this.weapon$=new Nt([]),this.fa$=new Nt({id:-1,level:"D"})}completeService(){this.sheet$&&this.sheet$.complete()}get characterSheet(){return this.sheet$}get id(){return this.id$}get player(){return this.player$}get attributes(){return this.attributes$}get history(){return this.history$}get annotations(){return this.annotations$}get weapon(){return this.weapon$}get fa(){return this.fa$}changeSheet(t){t?.player&&(this.player$.next(t.player),this.id$.next(t?.id),this.attributes$.next(t?.attributes),this.history$.next(t?.history),this.annotations$.next(t?.annotations),this.weapon$.next(t?.weapons),this.fa$.next(t?.fa))}changeID(t){this.id$.next(t)}changePlayer(t){this.player$.next(t)}changeAttributes(t){this.attributes$.next(t)}changeHistory(t){this.history$.next(t)}changeAnnotations(t){this.annotations$.next(t)}changeWeapon(t){this.weapon$.next(t)}changeFa(t){this.fa$.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class b2{}const us="*";function vne(n,e){return{type:7,name:n,definitions:e,options:{}}}function C2(n,e=null){return{type:4,styles:e,timings:n}}function T2(n,e=null){return{type:2,steps:n,options:e}}function Rd(n){return{type:6,styles:n,offset:null}}function Jb(n,e,t){return{type:0,name:n,styles:e,options:t}}function I2(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function D2(n){Promise.resolve(null).then(n)}class Od{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){D2(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class S2{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?D2(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const A2=["toast-component",""];function wne(n,e){if(1&n){const t=jl();C(0,"button",5),ne("click",function(){return Ps(t),Rs(Ae().remove())}),C(1,"span",6),D(2,"\xd7"),E()()}}function Ene(n,e){if(1&n&&(Gc(0),D(1),qc()),2&n){const t=Ae(2);k(1),un("[",t.duplicatesCount+1,"]")}}function bne(n,e){if(1&n&&(C(0,"div"),D(1),Oe(2,Ene,2,1,"ng-container",4),E()),2&n){const t=Ae();Xi(t.options.titleClass),Zn("aria-label",t.title),k(1),un(" ",t.title," "),k(1),z("ngIf",t.duplicatesCount)}}function Cne(n,e){if(1&n&&Fe(0,"div",7),2&n){const t=Ae();Xi(t.options.messageClass),z("innerHTML",t.message,Vv)}}function Tne(n,e){if(1&n&&(C(0,"div",8),D(1),E()),2&n){const t=Ae();Xi(t.options.messageClass),Zn("aria-label",t.message),k(1),un(" ",t.message," ")}}function Ine(n,e){if(1&n&&(C(0,"div"),Fe(1,"div",9),E()),2&n){const t=Ae();k(1),Gl("width",t.width+"%")}}class Nne{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Lg{constructor(e,t,r,i,s,o){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this._onTap=new et,this._onAction=new et,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const M2=new Q("ToastConfig");class Rne{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new et,this._activate=new et,this._manualClose=new et,this._resetTimeout=new et,this._countDuplicate=new et}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class One{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===Lg?this._toastPackage:this._parentInjector.get(e,t,r)}}class Fne extends class Pne{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class Lne{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let Vne=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(N(xt))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bne=(()=>{class n{constructor(t,r,i,s){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=s,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new Fne(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new Lne(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(N(Vne),N(Kl),N(tu),N(xt))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),na=(()=>{class n{constructor(t,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},s=""){return this._preBuildNotification(s,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const a of this.toasts){const l=o&&a.title===t;if((!o||l)&&a.message===r)return a.toastRef.onDuplicate(i,s),a}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,s)):this._buildNotification(t,r,i,s)}_buildNotification(t,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const l=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let u=r;r&&s.enableHtml&&(u=this.sanitizer.sanitize(Ge.HTML,r));const c=new Rne(l),d=new Lg(this.index,s,u,i,t,c),h=new One(d,this._injector),f=new Nne(s.toastComponent,h),p=l.attach(f,this.toastrConfig.newestOnTop);c.componentInstance=p.instance;const g={toastId:this.index,title:i||"",message:r||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:p};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{g.toastRef.activate()})),this.toasts.push(g),g}}return n.\u0275fac=function(t){return new(t||n)(N(M2),N(Bne),N(jt),N(iL),N(Ve))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Une={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(T(na),T(Lg),T(Ve))},n.\u0275cmp=Bt({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&ne("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(Qw("@flyInOut",r.state),Xi(r.toastClasses),Gl("display",r.displayStyle))},attrs:A2,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(Oe(0,wne,3,0,"button",0),Oe(1,bne,3,5,"div",1),Oe(2,Cne,1,3,"div",2),Oe(3,Tne,2,4,"div",3),Oe(4,Ine,2,2,"div",4)),2&t&&(z("ngIf",r.options.closeButton),k(1),z("ngIf",r.title),k(1),z("ngIf",r.message&&r.options.enableHtml),k(1),z("ngIf",r.message&&!r.options.enableHtml),k(1),z("ngIf",r.options.progressBar))},dependencies:[ru],encapsulation:2,data:{animation:[vne("flyInOut",[Jb("inactive",Rd({opacity:0})),Jb("active",Rd({opacity:1})),Jb("removed",Rd({opacity:0})),I2("inactive => active",C2("{{ easeTime }}ms {{ easing }}")),I2("active => removed",C2("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let $ne=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:M2,useValue:{default:Une,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=St({type:n}),n.\u0275inj=bt({imports:[ld]}),n})(),jne=(()=>{class n{constructor(t,r,i,s){this.router=t,this.activeRoute=r,this.utilService=i,this.toastr=s,this.weaponForm=new xd({name:new fn("",Vr.required),url:new fn(""),description:new fn("",Vr.required),type:new fn("melee-light",Vr.required),class:new fn("d",Vr.required)}),this.unsubscribe$=new et}ngOnInit(){this.utilService.weapon.pipe(ls(this.unsubscribe$)).subscribe(t=>this.data=t)}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}add(){this.weaponForm.valid?(this.data.push(this.weaponForm.value),this.utilService.changeWeapon(this.data),this.router.navigate(["."],{relativeTo:this.activeRoute.parent})):this.toastr.error("Formul\xe1rio n\xe3o preenchido corretamente","Erro")}}return n.\u0275fac=function(t){return new(t||n)(T(hn),T(Yo),T(Di),T(na))},n.\u0275cmp=Bt({type:n,selectors:[["app-weapon-page"]],decls:50,vars:1,consts:[[1,"flex","flex-column","container","m-auto","min-h-80"],[1,"font-size-title"],[1,"flex","flex-column","gap1","flex-fill","mt1","font-size-sm",3,"formGroup"],[1,""],["for","name"],[1,"search-container","mt025"],["id","name","formControlName","name","type","text","placeholder","Nome",1,"w-100"],["for","url"],["id","url","formControlName","url","type","text","placeholder","URL da imagem",1,"w-100"],["for","description"],["id","description","formControlName","description","type","text","placeholder","Descri\xe7\xe3o",1,"w-100"],[1,"flex","align-center","justify-between"],["name","weaponType","formControlName","type"],["value","melee-light"],["value","melee-heavy"],["value","pistol"],["value","shotgun"],["value","machine-gun"],["for","damage"],["name","weaponClass","formControlName","class"],["value","d"],["value","c"],["value","b"],["value","a"],[1,"flex","justify-end","gap1"],["routerLink","..",1,"btn-back"],["type","submit",1,"btn-add",3,"click"]],template:function(t,r){1&t&&(C(0,"div",0)(1,"h2",1),D(2,"Cria\xe7\xe3o de equipamento:"),E(),C(3,"form",2)(4,"div",3)(5,"label",4),D(6,"Nome do equipamento: "),E(),C(7,"div",5),Fe(8,"input",6),E()(),C(9,"div",3)(10,"label",7),D(11,"URL da imagem do equipamento: "),E(),C(12,"div",5),Fe(13,"input",8),E()(),C(14,"div",3)(15,"label",9),D(16,"Descri\xe7\xe3o do equipamento: "),E(),C(17,"div",5),Fe(18,"input",10),E()(),C(19,"div",11)(20,"label",9),D(21,"Tipo do equipamento: "),E(),C(22,"select",12)(23,"option",13),D(24,"Melee Leve"),E(),C(25,"option",14),D(26,"Melee Pesada"),E(),C(27,"option",15),D(28,"Pistola"),E(),C(29,"option",16),D(30,"Fuzil"),E(),C(31,"option",17),D(32,"Metralhadora"),E()()(),C(33,"div",11)(34,"label",18),D(35,"Classe do equipamento: "),E(),C(36,"select",19)(37,"option",20),D(38,"+D"),E(),C(39,"option",21),D(40,"+C"),E(),C(41,"option",22),D(42,"+B"),E(),C(43,"option",23),D(44,"+A"),E()()(),C(45,"div",24)(46,"button",25),D(47,"Voltar"),E(),C(48,"button",26),ne("click",function(){return r.add()}),D(49,"Adicionar"),E()()()()),2&t&&(k(3),z("formGroup",r.weaponForm))},dependencies:[Hb,zb,Qb,ea,Pd,Dd,Pb,Nd,Fg,Id],styles:["[_ngcontent-%COMP%]:root, html[data-theme=light][_ngcontent-%COMP%]{--background-color: #f4f4f4;--background-input: #ffffff;--background-accent: #231b6b;--text-color: #121218;--subtext-color: #00000080;--text-accent-color: #ffffff;--card-shadow: rgba(0, 0, 0, 25%)}html[data-theme=dark][_ngcontent-%COMP%]{--background-color: #1d1d1d;--background-input: #313131;--background-accent: #000630;--text-color: #ececec;--subtext-color: #ffffff80;--text-accent-color: #f3f3f3;--card-shadow: rgba(255, 255, 255, 25%)}.background-color[_ngcontent-%COMP%]{background-color:var(--background-color)}.background-accent[_ngcontent-%COMP%], .accent-container[_ngcontent-%COMP%]{background-color:var(--background-accent)}.text-color[_ngcontent-%COMP%]{color:var(--text-color)!important}.subtext-color[_ngcontent-%COMP%]{color:var(--subtext-color)!important}.text-accent-color[_ngcontent-%COMP%], .accent-container[_ngcontent-%COMP%]{color:var(--text-accent-color)}.card-shadow[_ngcontent-%COMP%]{box-shadow:0 4px 4px 4px var(--card-shadow)}.search-container[_ngcontent-%COMP%]{background-color:var(--background-input);display:flex;align-items:center;border-bottom:1px solid red;transition:.05s;border-radius:6px;max-height:2.8rem;width:100%;border:1px solid rgba(14,14,14,.1215686275)}.search-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:#535353a3;opacity:1;font-size:12px}.search-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:-ms-input-placeholder{color:#73737366}.search-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-ms-input-placeholder{color:#73737366}.search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;color:var(--text-color);padding:.5rem;border:none;background-color:transparent}.search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.search-container[_ngcontent-%COMP%]:focus-within{outline:1px solid var(--background-accent)}.container[_ngcontent-%COMP%]{max-width:500px}select[_ngcontent-%COMP%]{background:var(--background-input);color:var(--text-color);border:1px solid rgba(14,14,14,.1215686275);padding:4px;border-radius:3px}"]}),n})();function k2(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(u){return void t(u)}a.done?e(l):Promise.resolve(l).then(r,i)}function _(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){k2(s,r,i,o,a,"next",l)}function a(l){k2(s,r,i,o,a,"throw",l)}o(void 0)})}}const O=function(n,e){if(!n)throw lu(e)},lu=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},N2=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},Vg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,u=l?n[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;l||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(N2(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const u=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==u||null==d)throw Error();r.push(s<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},P2=function(n){const e=N2(n);return Vg.encodeByteArray(e,!0)},Bg=function(n){return P2(n).replace(/\./g,"")},eC=function(n){try{return Vg.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Gne(n){return R2(void 0,n)}function R2(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!qne(t)||(n[t]=R2(n[t],e[t]));return n}function qne(n){return"__proto__"!==n}class Fd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Er(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ug(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Er())}function $g(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function tC(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ra(){return"object"==typeof indexedDB}function Ld(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function nC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ds extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Si.prototype.create)}}class Si{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Jne(n,e){return n.replace(Xne,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new ds(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Xne=/\{\$([^}]+)}/g;function Vd(n){return JSON.parse(n)}function pn(n){return JSON.stringify(n)}const jg=function(n){let e={},t={},r={},i="";try{const s=n.split(".");e=Vd(eC(s[0])||""),t=Vd(eC(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}};function hs(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function uu(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function O2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Hg(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function rC(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(F2(s)&&F2(o)){if(!rC(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function F2(n){return null!==n&&"object"==typeof n}function iC(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class tre{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)r[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let u,c,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const r=t-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<t;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class rre{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function ire(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=sC),void 0===i.error&&(i.error=sC),void 0===i.complete&&(i.complete=sC);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sC(){}const qg=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};function oC(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function kn(n){return n&&n._delegate?n._delegate:n}class gn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ia="[DEFAULT]";class dre{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Fd;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function fre(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===ia?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pre{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new dre(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const aC=[];var be=(()=>{return(n=be||(be={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",be;var n})();const L2={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},gre=be.INFO,mre={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},_re=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=mre[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class sa{constructor(e){this.name=e,this._logLevel=gre,this._logHandler=_re,this._userLogHandler=null,aC.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?L2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}let V2,B2;const U2=new WeakMap,lC=new WeakMap,$2=new WeakMap,uC=new WeakMap,cC=new WeakMap;let dC={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return lC.get(n);if("objectStoreNames"===e)return n.objectStoreNames||$2.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fs(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Ire(n){return"function"==typeof n?function Tre(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function wre(){return B2||(B2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(hC(this),e),fs(U2.get(this))}:function(...e){return fs(n.apply(hC(this),e))}:function(e,...t){const r=n.call(hC(this),e,...t);return $2.set(r,e.sort?e.sort():[e]),fs(r)}}(n):(n instanceof IDBTransaction&&function bre(n){if(lC.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});lC.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function vre(){return V2||(V2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,dC):n)}function fs(n){if(n instanceof IDBRequest)return function Ere(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(fs(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&U2.set(t,n)}).catch(()=>{}),cC.set(e,n),e}(n);if(uC.has(n))return uC.get(n);const e=Ire(n);return e!==n&&(uC.set(n,e),cC.set(e,n)),e}const hC=n=>cC.get(n);function Wg(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=fs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(fs(o.result),l.oldVersion,l.newVersion,fs(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function fC(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),fs(t).then(()=>{})}const Dre=["get","getKey","getAll","getAllKeys","count"],Sre=["put","add","delete","clear"],pC=new Map;function j2(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(pC.get(e))return pC.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Sre.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Dre.includes(t))return;const s=function(){var o=_(function*(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(yield Promise.all([c[t](...l),i&&u.done]))[0]});return function(l){return o.apply(this,arguments)}}();return pC.set(e,s),s}!function Cre(n){dC=n(dC)}(n=>({...n,get:(e,t,r)=>j2(e,t)||n.get(e,t,r),has:(e,t)=>!!j2(e,t)||n.has(e,t)}));class Are{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function xre(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const gC="@firebase/app",mC=new sa("@firebase/app"),_C="[DEFAULT]",tie={[gC]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},oa=new Map,zg=new Map;function nie(n,e){try{n.container.addComponent(e)}catch(t){mC.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Nn(n){const e=n.name;if(zg.has(e))return mC.debug(`There were multiple attempts to register component ${e}.`),!1;zg.set(e,n);for(const t of oa.values())nie(t,n);return!0}function Bd(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Ks=new Si("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class iie{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}function sie(n,e={}){"object"!=typeof e&&(e={name:e});const t=Object.assign({name:_C,automaticDataCollectionEnabled:!1},e),r=t.name;if("string"!=typeof r||!r)throw Ks.create("bad-app-name",{appName:String(r)});const i=oa.get(r);if(i){if(rC(n,i.options)&&rC(t,i.config))return i;throw Ks.create("duplicate-app",{appName:r})}const s=new pre(r);for(const a of zg.values())s.addComponent(a);const o=new iie(n,t,s);return oa.set(r,o),o}function yC(n=_C){const e=oa.get(n);if(!e)throw Ks.create("no-app",{appName:n});return e}function G2(){return Array.from(oa.values())}function rt(n,e,t){var r;let i=null!==(r=tie[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void mC.warn(a.join(" "))}Nn(new gn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const $d="firebase-heartbeat-store";let wC=null;function q2(){return wC||(wC=Wg("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore($d)}}).catch(n=>{throw Ks.create("storage-open",{originalErrorMessage:n.message})})),wC}function EC(){return(EC=_(function*(n){var e;try{return(yield q2()).transaction($d).objectStore($d).get(z2(n))}catch(t){throw Ks.create("storage-get",{originalErrorMessage:null===(e=t)||void 0===e?void 0:e.message})}})).apply(this,arguments)}function W2(n,e){return bC.apply(this,arguments)}function bC(){return(bC=_(function*(n,e){var t;try{const i=(yield q2()).transaction($d,"readwrite");return yield i.objectStore($d).put(e,z2(n)),i.done}catch(r){throw Ks.create("storage-set",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message})}})).apply(this,arguments)}function z2(n){return`${n.name}!${n.options.appId}`}class die{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new fie(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return _(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=K2();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=K2(),{heartbeatsToSend:r,unsentEntries:i}=function hie(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Q2(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Q2(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Bg(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function K2(){return(new Date).toISOString().substring(0,10)}class fie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!ra()&&Ld().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function lie(n){return EC.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return _(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return W2(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return _(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return W2(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function Q2(n){return Bg(JSON.stringify({version:2,heartbeats:n})).length}!function pie(n){Nn(new gn("platform-logger",e=>new Are(e),"PRIVATE")),Nn(new gn("heartbeat",e=>new die(e),"PRIVATE")),rt(gC,"0.7.27",n),rt(gC,"0.7.27","esm2017"),rt("fire-js","")}(""),rt("firebase","9.8.4","app");const Y2="@firebase/installations",CC="0.5.11",X2=`w:${CC}`,Z2="FIS_v2",ps=new Si("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function eB(n){return n instanceof ds&&n.code.includes("request-failed")}function TC({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function tB(n){return{token:n.token,requestStatus:2,expiresIn:bie(n.expiresIn),creationTime:Date.now()}}function IC(n,e){return DC.apply(this,arguments)}function DC(){return(DC=_(function*(n,e){const r=(yield e.json()).error;return ps.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function nB({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function rB(n,{refreshToken:e}){const t=nB(n);return t.append("Authorization",function Cie(n){return`${Z2} ${n}`}(e)),t}function SC(n){return AC.apply(this,arguments)}function AC(){return(AC=_(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function bie(n){return Number(n.replace("s","000"))}function Tie(n,e){return xC.apply(this,arguments)}function xC(){return(xC=_(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=TC(n),i=nB(n),s=e.getImmediate({optional:!0});if(s){const u=yield s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:Z2,appId:n.appId,sdkVersion:X2})},l=yield SC(()=>fetch(r,a));if(l.ok){const u=yield l.json();return{fid:u.fid||t,registrationStatus:2,refreshToken:u.refreshToken,authToken:tB(u.authToken)}}throw yield IC("Create Installation",l)})).apply(this,arguments)}function iB(n){return new Promise(e=>{setTimeout(e,n)})}const Die=/^[cdef][\w-]{21}$/;function Sie(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Aie(n){return function Iie(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Die.test(t)?t:""}catch{return""}}function cu(n){return`${n.appName}!${n.appId}`}const du=new Map;function sB(n,e){const t=cu(n);oB(t,e),function kie(n,e){const t=function aB(){return!aa&&"BroadcastChannel"in self&&(aa=new BroadcastChannel("[Firebase] FID Change"),aa.onmessage=n=>{oB(n.data.key,n.data.fid)}),aa}();t&&t.postMessage({key:n,fid:e}),function lB(){0===du.size&&aa&&(aa.close(),aa=null)}()}(t,e)}function oB(n,e){const t=du.get(n);if(t)for(const r of t)r(e)}let aa=null;const la="firebase-installations-store";let kC=null;function NC(){return kC||(kC=Wg("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(la)}})),kC}function Kg(n,e){return PC.apply(this,arguments)}function PC(){return(PC=_(function*(n,e){const t=cu(n),i=(yield NC()).transaction(la,"readwrite"),s=i.objectStore(la),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&sB(n,e.fid),e})).apply(this,arguments)}function RC(n){return OC.apply(this,arguments)}function OC(){return(OC=_(function*(n){const e=cu(n),r=(yield NC()).transaction(la,"readwrite");yield r.objectStore(la).delete(e),yield r.done})).apply(this,arguments)}function jd(n,e){return FC.apply(this,arguments)}function FC(){return(FC=_(function*(n,e){const t=cu(n),i=(yield NC()).transaction(la,"readwrite"),s=i.objectStore(la),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&sB(n,a.fid),a})).apply(this,arguments)}function LC(n){return VC.apply(this,arguments)}function VC(){return(VC=_(function*(n){let e;const t=yield jd(n.appConfig,r=>{const i=Rie(r),s=Oie(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function Rie(n){return cB(n||{fid:Sie(),registrationStatus:0})}function Oie(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ps.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Fie(n,e){return BC.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Lie(n)}:{installationEntry:e}}function BC(){return(BC=_(function*(n,e){try{const t=yield Tie(n,e);return Kg(n.appConfig,t)}catch(t){throw eB(t)&&409===t.customData.serverCode?yield RC(n.appConfig):yield Kg(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function Lie(n){return UC.apply(this,arguments)}function UC(){return(UC=_(function*(n){let e=yield uB(n.appConfig);for(;1===e.registrationStatus;)yield iB(100),e=yield uB(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield LC(n);return r||t}return e})).apply(this,arguments)}function uB(n){return jd(n,e=>{if(!e)throw ps.create("installation-not-found");return cB(e)})}function cB(n){return function Vie(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function Bie(n,e){return $C.apply(this,arguments)}function $C(){return($C=_(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=Uie(n,t),i=rB(n,t),s=e.getImmediate({optional:!0});if(s){const u=yield s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:X2,appId:n.appId}})},l=yield SC(()=>fetch(r,a));if(l.ok)return tB(yield l.json());throw yield IC("Generate Auth Token",l)})).apply(this,arguments)}function Uie(n,{fid:e}){return`${TC(n)}/${e}/authTokens:generate`}function jC(n){return HC.apply(this,arguments)}function HC(){return(HC=_(function*(n,e=!1){let t;const r=yield jd(n.appConfig,s=>{if(!hB(s))throw ps.create("not-registered");const o=s.authToken;if(!e&&Hie(o))return s;if(1===o.requestStatus)return t=$ie(n,e),s;{if(!navigator.onLine)throw ps.create("app-offline");const a=qie(s);return t=jie(n,a),a}});return t?yield t:r.authToken})).apply(this,arguments)}function $ie(n,e){return GC.apply(this,arguments)}function GC(){return(GC=_(function*(n,e){let t=yield dB(n.appConfig);for(;1===t.authToken.requestStatus;)yield iB(100),t=yield dB(n.appConfig);const r=t.authToken;return 0===r.requestStatus?jC(n,e):r})).apply(this,arguments)}function dB(n){return jd(n,e=>{if(!hB(e))throw ps.create("not-registered");return function Wie(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function jie(n,e){return qC.apply(this,arguments)}function qC(){return(qC=_(function*(n,e){try{const t=yield Bie(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Kg(n.appConfig,r),t}catch(t){if(!eB(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Kg(n.appConfig,r)}else yield RC(n.appConfig);throw t}})).apply(this,arguments)}function hB(n){return void 0!==n&&2===n.registrationStatus}function Hie(n){return 2===n.requestStatus&&!function Gie(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function qie(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function WC(){return(WC=_(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield LC(e);return r?r.catch(console.error):jC(e).catch(console.error),t.fid})).apply(this,arguments)}function zC(){return(zC=_(function*(n,e=!1){const t=n;return yield Qie(t),(yield jC(t,e)).token})).apply(this,arguments)}function Qie(n){return KC.apply(this,arguments)}function KC(){return(KC=_(function*(n){const{registrationPromise:e}=yield LC(n);e&&(yield e)})).apply(this,arguments)}function JC(n){return ps.create("missing-app-config-values",{valueName:n})}const fB="installations",ese=n=>{const e=n.getProvider("app").getImmediate(),t=function Xie(n){if(!n||!n.options)throw JC("App Configuration");if(!n.name)throw JC("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw JC(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Bd(e,"heartbeat"),_delete:()=>Promise.resolve()}},tse=n=>{const t=Bd(n.getProvider("app").getImmediate(),fB).getImmediate();return{getId:()=>function zie(n){return WC.apply(this,arguments)}(t),getToken:i=>function Kie(n){return zC.apply(this,arguments)}(t,i)}};(function nse(){Nn(new gn(fB,ese,"PUBLIC")),Nn(new gn("installations-internal",tse,"PRIVATE"))})(),rt(Y2,CC),rt(Y2,CC,"esm2017");const XC="@firebase/remote-config",nr=new Si("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class fse{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return _(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function pse(n=navigator){return n.languages&&n.languages[0]||n.language}class gse{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return _(function*(){var r,i,s;const[o,a]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),u=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,c={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},d={sdk_version:t.sdkVersion,app_instance_id:o,app_instance_id_token:a,app_id:t.appId,language_code:pse()},h={method:"POST",headers:c,body:JSON.stringify(d)},f=fetch(u,h),p=new Promise((S,L)=>{e.signal.addEventListener(()=>{const H=new Error("The operation was aborted.");H.name="AbortError",L(H)})});let g;try{yield Promise.race([f,p]),g=yield f}catch(S){let L="fetch-client-network";throw"AbortError"===(null===(r=S)||void 0===r?void 0:r.name)&&(L="fetch-timeout"),nr.create(L,{originalErrorMessage:null===(i=S)||void 0===i?void 0:i.message})}let m=g.status;const v=g.headers.get("ETag")||void 0;let I,y;if(200===g.status){let S;try{S=yield g.json()}catch(L){throw nr.create("fetch-client-parse",{originalErrorMessage:null===(s=L)||void 0===s?void 0:s.message})}I=S.entries,y=S.state}if("INSTANCE_STATE_UNSPECIFIED"===y?m=500:"NO_CHANGE"===y?m=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(I={}),304!==m&&200!==m)throw nr.create("fetch-status",{httpStatus:m});return{status:m,eTag:v,config:I}})()}}class yse{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return _(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return _(function*(){yield function mse(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(nr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function _se(n){if(!(n instanceof ds&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+oC(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Ese{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Yg(n,e){var t;const r=n.target.error||void 0;return nr.create(e,{originalErrorMessage:r&&(null===(t=r)||void 0===t?void 0:t.message)})}const ua="app_namespace_store";class Ise{constructor(e,t,r,i=function Tse(){return new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase_remote_config",1);r.onerror=i=>{e(Yg(i,"storage-open"))},r.onsuccess=i=>{n(i.target.result)},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(ua,{keyPath:"compositeKey"})}}catch(r){e(nr.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return _(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{var o;const l=r.transaction([ua],"readonly").objectStore(ua),u=t.createCompositeKey(e);try{const c=l.get(u);c.onerror=d=>{s(Yg(d,"storage-get"))},c.onsuccess=d=>{const h=d.target.result;i(h?h.value:void 0)}}catch(c){s(nr.create("storage-get",{originalErrorMessage:null===(o=c)||void 0===o?void 0:o.message}))}})})()}set(e,t){var r=this;return _(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{var a;const u=i.transaction([ua],"readwrite").objectStore(ua),c=r.createCompositeKey(e);try{const d=u.put({compositeKey:c,value:t});d.onerror=h=>{o(Yg(h,"storage-set"))},d.onsuccess=()=>{s()}}catch(d){o(nr.create("storage-set",{originalErrorMessage:null===(a=d)||void 0===a?void 0:a.message}))}})})()}delete(e){var t=this;return _(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{var o;const l=r.transaction([ua],"readwrite").objectStore(ua),u=t.createCompositeKey(e);try{const c=l.delete(u);c.onerror=d=>{s(Yg(d,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(nr.create("storage-delete",{originalErrorMessage:null===(o=c)||void 0===o?void 0:o.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Dse{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return _(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Ase(){return rT.apply(this,arguments)}function rT(){return(rT=_(function*(){if(!ra())return!1;try{return yield Ld()}catch{return!1}})).apply(this,arguments)}!function Sse(){Nn(new gn("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw nr.create("registration-window");if(!ra())throw nr.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw nr.create("registration-project-id");if(!o)throw nr.create("registration-api-key");if(!a)throw nr.create("registration-app-id");const l=new Ise(a,r.name,t=t||"firebase"),u=new Dse(l),c=new sa(XC);c.logLevel=be.ERROR;const d=new gse(i,"9.8.4",t,s,o,a),h=new yse(d,l),f=new fse(h,l,u,c),p=new Ese(r,f,u,l,c);return function cse(n){const e=kn(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),rt(XC,"0.3.10"),rt(XC,"0.3.10","esm2017")}();const xse="/firebase-messaging-sw.js",Mse="/firebase-cloud-messaging-push-scope",_B="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",yB="google.c.a.c_id",Nse="google.c.a.c_l",Pse="google.c.a.ts",Rse="google.c.a.e";var hu=(()=>{return(n=hu||(hu={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",hu;var n})();function gs(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ose(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const iT="fcm_token_details_db",vB="fcm_token_object_Store";function Lse(n){return sT.apply(this,arguments)}function sT(){return sT=_(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(iT))return null;let e=null;return(yield Wg(iT,5,{upgrade:(r=_(function*(i,s,o,a){var l;if(s<2||!i.objectStoreNames.contains(vB))return;const u=a.objectStore(vB),c=yield u.index("fcmSenderId").get(n);if(yield u.clear(),c)if(2===s){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:gs(d.vapidKey)}}}else if(3===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:gs(d.auth),p256dh:gs(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:gs(d.vapidKey)}}}else if(4===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:gs(d.auth),p256dh:gs(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:gs(d.vapidKey)}}}}),function(s,o,a,l){return r.apply(this,arguments)})})).close(),yield fC(iT),yield fC("fcm_vapid_details_db"),yield fC("undefined"),Vse(e)?e:null;var r}),sT.apply(this,arguments)}function Vse(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const ca="firebase-messaging-store";let oT=null;function aT(){return oT||(oT=Wg("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ca)}})),oT}function wB(n){return lT.apply(this,arguments)}function lT(){return(lT=_(function*(n){const e=hT(n),r=yield(yield aT()).transaction(ca).objectStore(ca).get(e);if(r)return r;{const i=yield Lse(n.appConfig.senderId);if(i)return yield uT(n,i),i}})).apply(this,arguments)}function uT(n,e){return cT.apply(this,arguments)}function cT(){return(cT=_(function*(n,e){const t=hT(n),i=(yield aT()).transaction(ca,"readwrite");return yield i.objectStore(ca).put(e,t),yield i.done,e})).apply(this,arguments)}function $se(n){return dT.apply(this,arguments)}function dT(){return(dT=_(function*(n){const e=hT(n),r=(yield aT()).transaction(ca,"readwrite");yield r.objectStore(ca).delete(e),yield r.done})).apply(this,arguments)}function hT({appConfig:n}){return n.appId}const mn=new Si("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Hse(n,e){return fT.apply(this,arguments)}function fT(){return(fT=_(function*(n,e){var t;const r=yield _T(n),i=bB(e),s={method:"POST",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(mT(n.appConfig),s)).json()}catch(a){throw mn.create("token-subscribe-failed",{errorInfo:null===(t=a)||void 0===t?void 0:t.toString()})}if(o.error)throw mn.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw mn.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function Gse(n,e){return pT.apply(this,arguments)}function pT(){return(pT=_(function*(n,e){var t;const r=yield _T(n),i=bB(e.subscriptionOptions),s={method:"PATCH",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${mT(n.appConfig)}/${e.token}`,s)).json()}catch(a){throw mn.create("token-update-failed",{errorInfo:null===(t=a)||void 0===t?void 0:t.toString()})}if(o.error)throw mn.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw mn.create("token-update-no-token");return o.token})).apply(this,arguments)}function EB(n,e){return gT.apply(this,arguments)}function gT(){return(gT=_(function*(n,e){var t;const i={method:"DELETE",headers:yield _T(n)};try{const o=yield(yield fetch(`${mT(n.appConfig)}/${e}`,i)).json();if(o.error)throw mn.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(s){throw mn.create("token-unsubscribe-failed",{errorInfo:null===(t=s)||void 0===t?void 0:t.toString()})}})).apply(this,arguments)}function mT({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function _T(n){return yT.apply(this,arguments)}function yT(){return(yT=_(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function bB({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==_B&&(i.web.applicationPubKey=r),i}function Wse(n){return vT.apply(this,arguments)}function vT(){return(vT=_(function*(n){const e=yield Kse(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:gs(e.getKey("auth")),p256dh:gs(e.getKey("p256dh"))},r=yield wB(n.firebaseDependencies);if(r){if(Qse(r.subscriptionOptions,t))return Date.now()>=r.createTime+6048e5?zse(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield EB(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return TB(n.firebaseDependencies,t)}return TB(n.firebaseDependencies,t)})).apply(this,arguments)}function CB(n){return wT.apply(this,arguments)}function wT(){return(wT=_(function*(n){const e=yield wB(n.firebaseDependencies);e&&(yield EB(n.firebaseDependencies,e.token),yield $se(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function zse(n,e){return ET.apply(this,arguments)}function ET(){return(ET=_(function*(n,e){try{const t=yield Gse(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield uT(n.firebaseDependencies,r),t}catch(t){throw yield CB(n),t}})).apply(this,arguments)}function TB(n,e){return bT.apply(this,arguments)}function bT(){return(bT=_(function*(n,e){const r={token:yield Hse(n,e),createTime:Date.now(),subscriptionOptions:e};return yield uT(n,r),r.token})).apply(this,arguments)}function Kse(n,e){return CT.apply(this,arguments)}function CT(){return(CT=_(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ose(e)})})).apply(this,arguments)}function Qse(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function IB(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Yse(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i)}(e,n),function Jse(n,e){!e.data||(n.data=e.data)}(e,n),function Xse(n,e){var t,r,i,s,o;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const l=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(n.fcmOptions.analyticsLabel=l)}(e,n),e}function Zse(n){return"object"==typeof n&&!!n&&yB in n}function DB(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function TT(n){return mn.create("missing-app-config-values",{valueName:n})}DB("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),DB("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class toe{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function eoe(n){if(!n||!n.options)throw TT("App Configuration Object");if(!n.name)throw TT("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw TT(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function SB(n){return IT.apply(this,arguments)}function IT(){return(IT=_(function*(n){var e;try{n.swRegistration=yield navigator.serviceWorker.register(xse,{scope:Mse}),n.swRegistration.update().catch(()=>{})}catch(t){throw mn.create("failed-service-worker-registration",{browserErrorMessage:null===(e=t)||void 0===e?void 0:e.message})}})).apply(this,arguments)}function noe(n,e){return DT.apply(this,arguments)}function DT(){return(DT=_(function*(n,e){if(!e&&!n.swRegistration&&(yield SB(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw mn.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function roe(n,e){return ST.apply(this,arguments)}function ST(){return(ST=_(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=_B)})).apply(this,arguments)}function AT(){return(AT=_(function*(n,e){if(!navigator)throw mn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw mn.create("permission-blocked");return yield roe(n,e?.vapidKey),yield noe(n,e?.serviceWorkerRegistration),Wse(n)})).apply(this,arguments)}function ioe(n,e,t){return xT.apply(this,arguments)}function xT(){return(xT=_(function*(n,e,t){const r=soe(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[yB],message_name:t[Nse],message_time:t[Pse],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function soe(n){switch(n){case hu.NOTIFICATION_CLICKED:return"notification_open";case hu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function MT(){return(MT=_(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===hu.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(IB(t)):n.onMessageHandler.next(IB(t)));const r=t.data;Zse(r)&&"1"===r[Rse]&&(yield ioe(n,t.messageType,r))})).apply(this,arguments)}const xB="@firebase/messaging",aoe=n=>{const e=new toe(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function ooe(n,e){return MT.apply(this,arguments)}(e,t)),e},loe=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function AB(n,e){return AT.apply(this,arguments)}(e,r)}};function kB(){return kT.apply(this,arguments)}function kT(){return(kT=_(function*(){try{yield Ld()}catch{return!1}return typeof window<"u"&&ra()&&nC()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function uoe(){Nn(new gn("messaging",aoe,"PUBLIC")),Nn(new gn("messaging-internal",loe,"PRIVATE")),rt(xB,"0.9.15"),rt(xB,"0.9.15","esm2017")}();const Jg="analytics",hoe="firebase_id",goe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",NB="https://www.googletagmanager.com/gtag/js",_n=new sa("@firebase/analytics");function PB(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function moe(n,e){const t=document.createElement("script");t.src=`${NB}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function yoe(n,e,t,r,i,s){return RT.apply(this,arguments)}function RT(){return(RT=_(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const l=(yield PB(t)).find(u=>u.measurementId===i);l&&(yield e[l.appId])}}catch(a){_n.error(a)}n("config",i,s)})).apply(this,arguments)}function voe(n,e,t,r,i){return OT.apply(this,arguments)}function OT(){return(OT=_(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield PB(t);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(!c){s=[];break}s.push(c)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){_n.error(s)}})).apply(this,arguments)}function boe(){const n=window.document.getElementsByTagName("script");for(const e of Object.values(n))if(e.src&&e.src.includes(NB))return e;return null}const br=new Si("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),RB=new class Doe{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Soe(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Aoe(n){return FT.apply(this,arguments)}function FT(){return(FT=_(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:Soe(r)},s=goe.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw br.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function xoe(n){return LT.apply(this,arguments)}function LT(){return(LT=_(function*(n,e=RB,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw br.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw br.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Noe;return setTimeout(_(function*(){a.abort()}),void 0!==t?t:6e4),OB({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function OB(n,e,t){return VT.apply(this,arguments)}function VT(){return(VT=_(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=RB){var s,o;const{appId:a,measurementId:l}=n;try{yield Moe(r,e)}catch(u){if(l)return _n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===(s=u)||void 0===s?void 0:s.message}]`),{appId:a,measurementId:l};throw u}try{const u=yield Aoe(n);return i.deleteThrottleMetadata(a),u}catch(u){const c=u;if(!koe(c)){if(i.deleteThrottleMetadata(a),l)return _n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:a,measurementId:l};throw u}const d=503===Number(null===(o=c?.customData)||void 0===o?void 0:o.httpStatus)?oC(t,i.intervalMillis,30):oC(t,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:t+1};return i.setThrottleMetadata(a,h),_n.debug(`Calling attemptFetch again in ${d} millis`),OB(n,h,r,i)}})).apply(this,arguments)}function Moe(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(br.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function koe(n){if(!(n instanceof ds&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class Noe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function Poe(){return BT.apply(this,arguments)}function BT(){return(BT=_(function*(){var n;if(!ra())return _n.warn(br.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Ld()}catch(e){return _n.warn(br.create("indexeddb-unavailable",{errorInfo:null===(n=e)||void 0===n?void 0:n.toString()}).message),!1}return!0})).apply(this,arguments)}function UT(){return(UT=_(function*(n,e,t,r,i,s,o){var a;const l=xoe(n);l.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&_n.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>_n.error(f)),e.push(l);const u=Poe().then(f=>{if(f)return r.getId()}),[c,d]=yield Promise.all([l,u]);boe()||moe(s,c.measurementId),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[hoe]=d),i("config",c.measurementId,h),c.measurementId})).apply(this,arguments)}class Ooe{constructor(e){this.app=e}_delete(){return delete ms[this.app.options.appId],Promise.resolve()}}let ms={},FB=[];const LB={};let BB,Hd,Xg="dataLayer",$T=!1;function Loe(n,e,t){!function Foe(){const n=[];if($g()&&n.push("This is a browser extension environment."),nC()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=br.create("invalid-analytics-context",{errorInfo:e});_n.warn(t.message)}}();const r=n.options.appId;if(!r)throw br.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw br.create("no-api-key");_n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ms[r])throw br.create("already-exists",{id:r});if(!$T){!function _oe(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Xg);const{wrappedGtag:s,gtagCore:o}=function Eoe(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function woe(n,e,t,r){function s(){return(s=_(function*(o,a,l){try{"event"===o?yield voe(n,e,t,a,l):"config"===o?yield yoe(n,e,t,r,a,l):n("set",a)}catch(u){_n.error(u)}})).apply(this,arguments)}return function i(o,a,l){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(ms,FB,LB,Xg,"gtag");Hd=s,BB=o,$T=!0}return ms[r]=function Roe(n,e,t,r,i,s,o){return UT.apply(this,arguments)}(n,FB,LB,e,BB,Xg,t),new Ooe(n)}function jT(){return(jT=_(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function Goe(){return zT.apply(this,arguments)}function zT(){return(zT=_(function*(){if($g()||!nC()||!ra())return!1;try{return yield Ld()}catch{return!1}})).apply(this,arguments)}const UB="@firebase/analytics";!function Woe(){Nn(new gn(Jg,(e,{options:t})=>Loe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Nn(new gn("analytics-internal",function n(e){try{const t=e.getProvider(Jg).getImmediate();return{logEvent:(r,i,s)=>function qoe(n,e,t,r){n=kn(n),function Voe(n,e,t,r,i){return jT.apply(this,arguments)}(Hd,ms[n.app.options.appId],e,t,r).catch(i=>_n.error(i))}(t,r,i,s)}}catch(t){throw br.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),rt(UB,"0.7.11"),rt(UB,"0.7.11","esm2017")}();class zoe extends ur{constructor(e,t){super()}schedule(e,t=0){return this}}const Zg={setInterval(n,e,...t){const{delegate:r}=Zg;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Zg;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class jB extends zoe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return Zg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;Zg.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,sl(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const HB={now:()=>(HB.delegate||Date).now(),delegate:void 0};class Gd{constructor(e,t=Gd.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Gd.now=HB.now;class GB extends Gd{constructor(e,t=Gd.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Yoe=new class Qoe extends GB{}(class Koe extends jB{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):e.flush(this)}}),qB=new GB(jB),em=new Yl("7.4.1"),KT="__angularfire_symbol__analyticsIsSupportedValue",QT="__angularfire_symbol__analyticsIsSupported",YT="__angularfire_symbol__remoteConfigIsSupportedValue",JT="__angularfire_symbol__remoteConfigIsSupported",XT="__angularfire_symbol__messagingIsSupportedValue",ZT="__angularfire_symbol__messagingIsSupported";function tm(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[QT]||(globalThis[QT]=Goe().then(n=>globalThis[KT]=n).catch(()=>globalThis[KT]=!1)),globalThis[ZT]||(globalThis[ZT]=kB().then(n=>globalThis[XT]=n).catch(()=>globalThis[XT]=!1)),globalThis[JT]||(globalThis[JT]=Ase().then(n=>globalThis[YT]=n).catch(()=>globalThis[YT]=!1));const nm=(n,e)=>{const t=e?[e]:G2(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function fu(){}class WB{constructor(e,t=Yoe){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class Joe{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fu,{},fu,fu)),t.pipe(cn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let tI=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new WB(Zone.current)),this.insideAngular=t.run(()=>new WB(Zone.current,qB)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(N(Ve))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function da(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Xoe(n){return da().ngZone.runOutsideAngular(()=>n())}function ha(n){return da().ngZone.run(()=>n())}function Zoe(n){return da(),function eae(n){return function(t){return(t=t.lift(new Joe(n.ngZone))).pipe(Lf(n.outsideAngular),Ff(n.insideAngular))}}(da())(n)}const tae=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ha(()=>n.apply(void 0,r))},_s=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=ha(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fu,{},fu,fu)))),r[s]=tae(r[s],t));const i=Xoe(()=>n.apply(this,r));if(!e){if(i instanceof at){const s=da();return i.pipe(Lf(s.outsideAngular),Ff(s.insideAngular))}return ha(()=>i)}return i instanceof at?i.pipe(Zoe):i instanceof Promise?ha(()=>new Promise((s,o)=>i.then(a=>ha(()=>s(a)),a=>ha(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:ha(()=>i)};class fa{constructor(e){return e}}class nI{constructor(){return G2()}}const rI=new Q("angularfire2._apps"),rae={provide:fa,useFactory:function nae(n){return n&&1===n.length?n[0]:new fa(yC())},deps:[[new ut,rI]]},iae={provide:nI,deps:[[new ut,rI]]};function sae(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new fa(r)}}let oae=(()=>{class n{constructor(t){rt("angularfire",em.full,"core"),rt("angularfire",em.full,"app"),rt("angular",oO.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(N(Hp))},n.\u0275mod=St({type:n}),n.\u0275inj=bt({providers:[rae,iae]}),n})();function aae(n,...e){return{ngModule:oae,providers:[{provide:rI,useFactory:sae(n),multi:!0,deps:[Ve,jt,tI,...e]}]}}const lae=_s(sie,!0);const uae=function zB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},KB=new Si("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),QB=new sa("@firebase/auth");function rm(n,...e){QB.logLevel<=be.ERROR&&QB.error(`Auth (9.8.4): ${n}`,...e)}function rr(n,...e){throw iI(n,...e)}function Ai(n,...e){return iI(n,...e)}function YB(n,e,t){const r=Object.assign(Object.assign({},uae()),{[e]:t});return new Si("auth","Firebase",r).create(e,{appName:n.name})}function iI(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return KB.create(n,...e)}function P(n,e,...t){if(!n)throw iI(e,...t)}function xi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw rm(e),new Error(e)}function Qs(n,e){n||xi(e)}const JB=new Map;function ys(n){Qs(n instanceof Function,"Expected a class definition");let e=JB.get(n);return e?(Qs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,JB.set(n,e),e)}function XB(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Wd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Qs(t>e,"Short delay should be less than long delay!"),this.isMobile=Ug()||tC()}get(){return function hae(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function sI(){return"http:"===XB()||"https:"===XB()}()||$g()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class ZB{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},gae=new Wd(3e4,6e4);function Yt(n,e,t,r){return aI.apply(this,arguments)}function aI(){return(aI=_(function*(n,e,t,r,i={}){return eU(n,i,_(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=iC(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),ZB.fetch()(tU(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function eU(n,e,t){return lI.apply(this,arguments)}function lI(){return(lI=_(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},pae),e);try{const i=new mae(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw zd(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw zd(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw zd(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw zd(n,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw YB(n,c,u);rr(n,c)}}catch(i){if(i instanceof ds)throw i;rr(n,"network-request-failed")}})).apply(this,arguments)}function tU(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?function oI(n,e){Qs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,i):`${n.config.apiScheme}://${i}`}class mae{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ai(this.auth,"network-request-failed")),gae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ai(n,e,r);return i.customData._tokenResponse=t,i}function cI(){return(cI=_(function*(n,e){return Yt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function vae(n,e){return hI.apply(this,arguments)}function hI(){return(hI=_(function*(n,e){return Yt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Kd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function fI(){return(fI=_(function*(n,e=!1){const t=kn(n),r=yield t.getIdToken(e),i=im(r);P(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Kd(pI(i.auth_time)),issuedAtTime:Kd(pI(i.iat)),expirationTime:Kd(pI(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function pI(n){return 1e3*Number(n)}function im(n){var e;const[t,r,i]=n.split(".");if(void 0===t||void 0===r||void 0===i)return rm("JWT malformed, contained fewer than 3 sections"),null;try{const s=eC(r);return s?JSON.parse(s):(rm("Failed to decode base64 JWT payload"),null)}catch(s){return rm("Caught error parsing JWT payload as JSON",null===(e=s)||void 0===e?void 0:e.toString()),null}}function ws(n,e){return gI.apply(this,arguments)}function gI(){return(gI=_(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof ds&&bae(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function bae({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class Cae{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield t.iteration()}),r)}iteration(){var e=this;return _(function*(){var t;try{yield e.user.getIdToken(!0)}catch(r){return void("auth/network-request-failed"===(null===(t=r)||void 0===t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class nU{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kd(this.lastLoginAt),this.creationTime=Kd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Qd(n){return mI.apply(this,arguments)}function mI(){return(mI=_(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield ws(n,vae(t,{idToken:r}));P(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?Dae(s.providerUserInfo):[],a=Iae(n.providerData,o),c=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new nU(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(n,d)})).apply(this,arguments)}function _I(){return(_I=_(function*(n){const e=kn(n);yield Qd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Iae(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Dae(n){return n.map(e=>{var{providerId:t}=e,r=d1(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function yI(){return(yI=_(function*(n,e){const t=yield eU(n,{},_(function*(){const r=iC({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=tU(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ZB.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Yd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){P(e.idToken,"internal-error"),P(typeof e.idToken<"u","internal-error"),P(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Eae(n){const e=im(n);return P(e,"internal-error"),P(typeof e.exp<"u","internal-error"),P(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return _(function*(){return P(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return _(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Sae(n,e){return yI.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Yd;return r&&(P("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(P("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(P("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yd,this.toJSON())}_performRefresh(){return xi("not implemented")}}function Ys(n,e){P("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class pa{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=d1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Cae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new nU(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return _(function*(){const r=yield ws(t,t.stsTokenManager.getToken(t.auth,e));return P(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function wae(n){return fI.apply(this,arguments)}(this,e)}reload(){return function Tae(n){return _I.apply(this,arguments)}(this)}_assign(e){this!==e&&(P(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new pa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){P(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return _(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Qd(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return _(function*(){const t=yield e.getIdToken();return yield ws(e,function _ae(n,e){return cI.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,u,c;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,v=null!==(u=t.createdAt)&&void 0!==u?u:void 0,I=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:S,isAnonymous:L,providerData:H,stsTokenManager:ge}=t;P(y&&ge,e,"internal-error");const It=Yd.fromJSON(this.name,ge);P("string"==typeof y,e,"internal-error"),Ys(d,e.name),Ys(h,e.name),P("boolean"==typeof S,e,"internal-error"),P("boolean"==typeof L,e,"internal-error"),Ys(f,e.name),Ys(p,e.name),Ys(g,e.name),Ys(m,e.name),Ys(v,e.name),Ys(I,e.name);const Tn=new pa({uid:y,auth:e,email:h,emailVerified:S,displayName:d,isAnonymous:L,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:It,createdAt:v,lastLoginAt:I});return H&&Array.isArray(H)&&(Tn.providerData=H.map(Jn=>Object.assign({},Jn))),m&&(Tn._redirectEventId=m),Tn}static _fromIdTokenResponse(e,t,r=!1){return _(function*(){const i=new Yd;i.updateFromServerResponse(t);const s=new pa({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Qd(s),s})()}}const rU=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(t,r){var i=this;return _(function*(){i.storage[t]=r})()}_get(t){var r=this;return _(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return _(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function sm(n,e,t){return`firebase:${n}:${e}:${t}`}class gu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=sm(this.userKey,i.apiKey,s),this.fullPersistenceKey=sm("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?pa._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return _(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(function*(){if(!t.length)return new gu(ys(rU),e,r);const i=(yield Promise.all(t.map(function(){var u=_(function*(c){if(yield c._isAvailable())return c});return function(c){return u.apply(this,arguments)}}()))).filter(u=>u);let s=i[0]||ys(rU);const o=sm(r,e.config.apiKey,e.name);let a=null;for(const u of t)try{const c=yield u._get(o);if(c){const d=pa._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var u=_(function*(c){if(c!==s)try{yield c._remove(o)}catch{}});return function(c){return u.apply(this,arguments)}}())),new gu(s,e,r)):new gu(s,e,r)})()}}function iU(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function aU(n=Er()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function sU(n=Er()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function uU(n=Er()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function cU(n=Er()){return/webos/i.test(n)}(e))return"Webos";if(function vI(n=Er()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function oU(n=Er()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function lU(n=Er()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function dU(n,e=[]){let t;switch(n){case"Browser":t=iU(Er());break;case"Worker":t=`${iU(Er())}-${n}`;break;default:t=n}return`${t}/JsCore/9.8.4/${e.length?e.join(","):"FirebaseCore-web"}`}class Mae{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return _(function*(){var r;if(t.auth.currentUser===e)return;const i=[];try{for(const s of t.queue)yield s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null===(r=s)||void 0===r?void 0:r.message})}})()}}class kae{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hU(this),this.idTokenSubscription=new hU(this),this.beforeStateQueue=new Mae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KB,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=ys(t)),this._initializationPromise=this.queue(_(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield gu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return _(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=s?._redirectEventId,u=yield t.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(s=u.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return P(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return _(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return _(function*(){var r;try{yield Qd(e)}catch(i){if("auth/network-request-failed"!==(null===(r=i)||void 0===r?void 0:r.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function fae(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return _(function*(){const r=e?kn(e):null;return r&&P(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return _(function*(){if(!r._deleted)return e&&P(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(_(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(_(function*(){yield t.assertedPersistence.setPersistence(ys(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Si("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return _(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return _(function*(){if(!t.redirectPersistenceManager){const r=e&&ys(e)||t._popupRedirectResolver;P(r,t,"argument-error"),t.redirectPersistenceManager=yield gu.create(t,[ys(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return _(function*(){var r,i;return t._isInitialized&&(yield t.queue(_(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return _(function*(){if(e===t.currentUser)return t.queue(_(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return P(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return _(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return P(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}class hU{constructor(e){this.auth=e,this.observer=null,this.addObserver=function nre(n,e){const t=new rre(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return P(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function kU(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Wd(3e4,6e4),new Wd(2e3,1e4),new Wd(3e4,6e4),new Wd(5e3,15e3);var HU="@firebase/auth";class wue{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return _(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){P(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function bue(n){Nn(new gn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{P(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),P(!o?.includes(":"),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dU(n)},c=new kae(a,l,u);return function dae(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ys);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Nn(new gn("auth-internal",e=>{const t=function ir(n){return kn(n)}(e.getProvider("auth").getImmediate());return new wue(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),rt(HU,"0.20.4",function Eue(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),rt(HU,"0.20.4","esm2017")}("Browser");class e0{constructor(){return nm("auth")}}const WU=new Map,Due={activated:!1,tokenObservers:[]},Sue={initialized:!1,enabled:!1};function Jt(n){return WU.get(n)||Due}function li(n,e){WU.set(n,e)}function _m(){return Sue}class Nue{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return _(function*(){t.stop();try{t.pending=new Fd,yield function Pue(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Fd,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const qn=new Si("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function KU(n){if(!Jt(n).activated)throw qn.create("use-before-activation",{appName:n.name})}function s0(n,e){return o0.apply(this,arguments)}function o0(){return(o0=_(function*({url:n,body:e},t){var r,i;const s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const f=yield o.getHeartbeatsHeader();f&&(s["X-Firebase-Client"]=f)}const a={method:"POST",body:JSON.stringify(e),headers:s};let l,u;try{l=yield fetch(n,a)}catch(f){throw qn.create("fetch-network-error",{originalErrorMessage:null===(r=f)||void 0===r?void 0:r.message})}if(200!==l.status)throw qn.create("fetch-status-error",{httpStatus:l.status});try{u=yield l.json()}catch(f){throw qn.create("fetch-parse-error",{originalErrorMessage:null===(i=f)||void 0===i?void 0:i.message})}const c=u.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw qn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});const d=1e3*Number(c[1]),h=Date.now();return{token:u.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})).apply(this,arguments)}function Lue(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const th="firebase-app-check-store";let wm=null;function YU(){return wm||(wm=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var s;e(qn.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(th,{keyPath:"compositeKey"})}}catch(r){e(qn.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),wm)}function a0(){return(a0=_(function*(n,e){const r=(yield YU()).transaction(th,"readwrite"),s=r.objectStore(th).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(qn.create("storage-set",{originalErrorMessage:null===(u=l.target.error)||void 0===u?void 0:u.message}))}})})).apply(this,arguments)}const nh=new sa("@firebase/app-check");function e$(n,e){return ra()?function $ue(n,e){return function JU(n,e){return a0.apply(this,arguments)}(function ZU(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{nh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function t$(){return _m().enabled}function n$(){return d0.apply(this,arguments)}function d0(){return(d0=_(function*(){const n=_m();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const zue={error:"UNKNOWN_ERROR"};function Kue(n){return Vg.encodeString(JSON.stringify(n),!1)}function Em(n){return h0.apply(this,arguments)}function h0(){return(h0=_(function*(n,e=!1){const t=n.app;KU(t);const r=Jt(t);let s,i=r.token;if(!i){const l=yield r.cachedTokenPromise;l&&bm(l)&&(i=l)}if(!e&&i&&bm(i))return{token:i.token};let a,o=!1;if(t$()){r.exchangeTokenPromise||(r.exchangeTokenPromise=s0(Lue(t,yield n$()),n.heartbeatServiceProvider).then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0);const l=yield r.exchangeTokenPromise;return yield e$(t,l),li(t,Object.assign(Object.assign({},r),{token:l})),{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(l=>(r.exchangeTokenPromise=void 0,l)),o=!0),i=yield r.exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?nh.warn(l.message):nh.error(l),s=l}return i?(a={token:i.token},li(t,Object.assign(Object.assign({},r),{token:i})),yield e$(t,i)):a=Yue(s),o&&i$(t,a),a})).apply(this,arguments)}function p0(n,e){const t=Jt(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),li(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function r$(n){const{app:e}=n,t=Jt(e);let r=t.tokenRefresher;r||(r=function Que(n){const{app:e}=n;return new Nue(_(function*(){let r;if(r=Jt(e).token?yield Em(n,!0):yield Em(n),r.error)throw r.error}),()=>!0,()=>{const t=Jt(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),li(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function i$(n,e){const t=Jt(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function bm(n){return n.expireTimeMillis-Date.now()>0}function Yue(n){return{token:Kue(zue),error:n}}class Jue{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Jt(this.app);for(const t of e)p0(this.app,t.next);return Promise.resolve()}}const h$="app-check-internal";!function dce(){Nn(new gn("app-check",n=>function Xue(n,e){return new Jue(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(h$).initialize()})),Nn(new gn(h$,n=>function Zue(n){return{getToken:e=>Em(n,e),addTokenListener:e=>function f0(n,e,t,r){const{app:i}=n,s=Jt(i),o={next:t,error:r,type:e};if(li(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&bm(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),r$(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>r$(n))}(n,"INTERNAL",e),removeTokenListener:e=>p0(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),rt("@firebase/app-check","0.5.10")}();class y0{constructor(){return nm("app-check")}}typeof window<"u"&&window;var $,mce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bs={},w0=w0||{},se=mce||self;function Tm(){}function E0(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function rh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var b0="closure_uid_"+(1e9*Math.random()>>>0),yce=0;function vce(n,e,t){return n.call.apply(n.bind,arguments)}function wce(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function yn(n,e,t){return(yn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?vce:wce).apply(null,arguments)}function Im(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function vn(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Js(){this.s=this.s,this.o=this.o}var bce={};Js.prototype.s=!1,Js.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function _ce(n){return Object.prototype.hasOwnProperty.call(n,b0)&&n[b0]||(n[b0]=++yce)}(this);delete bce[n]}},Js.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const p$=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},g$=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<r;s++)s in i&&e.call(t,i[s],s,n)};function m$(n){return Array.prototype.concat.apply([],arguments)}function C0(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Dm(n){return/^[\s\xa0]*$/.test(n)}var zn,_$=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Wn(n,e){return-1!=n.indexOf(e)}function T0(n,e){return n<e?-1:n>e?1:0}e:{var y$=se.navigator;if(y$){var v$=y$.userAgent;if(v$){zn=v$;break e}}zn=""}function I0(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function w$(n){const e={};for(const t in n)e[t]=n[t];return e}var E$="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b$(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<E$.length;s++)t=E$[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function D0(n){return D0[" "](n),n}D0[" "]=Tm;var Sm,n,Ice=Wn(zn,"Opera"),mu=Wn(zn,"Trident")||Wn(zn,"MSIE"),C$=Wn(zn,"Edge"),S0=C$||mu,T$=Wn(zn,"Gecko")&&!(Wn(zn.toLowerCase(),"webkit")&&!Wn(zn,"Edge"))&&!(Wn(zn,"Trident")||Wn(zn,"MSIE"))&&!Wn(zn,"Edge"),Dce=Wn(zn.toLowerCase(),"webkit")&&!Wn(zn,"Edge");function I$(){var n=se.document;return n?n.documentMode:void 0}e:{var A0="",x0=(n=zn,T$?/rv:([^\);]+)(\)|;)/.exec(n):C$?/Edge\/([\d\.]+)/.exec(n):mu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Dce?/WebKit\/(\S+)/.exec(n):Ice?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(x0&&(A0=x0?x0[1]:""),mu){var M0=I$();if(null!=M0&&M0>parseFloat(A0)){Sm=String(M0);break e}}Sm=A0}var Sce={};var xce=se.document&&mu&&(I$()||parseInt(Sm,10))||void 0,Mce=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{se.addEventListener("test",Tm,e),se.removeEventListener("test",Tm,e)}catch{}return n}();function Pn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function ih(n,e){if(Pn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(T$){e:{try{D0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:kce[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ih.Z.h.call(this)}}Pn.prototype.h=function(){this.defaultPrevented=!0},vn(ih,Pn);var kce={2:"touch",3:"pen",4:"mouse"};ih.prototype.h=function(){ih.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var sh="closure_listenable_"+(1e6*Math.random()|0),Nce=0;function Pce(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++Nce,this.ca=this.fa=!1}function Am(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function xm(n){this.src=n,this.g={},this.h=0}function N0(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=p$(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Am(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function P0(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==r)return i}return-1}xm.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=P0(n,e,r,i);return-1<o?(e=n[o],t||(e.fa=!1)):((e=new Pce(e,this.src,s,!!r,i)).fa=t,n.push(e)),e};var R0="closure_lm_"+(1e6*Math.random()|0),O0={};function S$(n,e,t,r,i){if(r&&r.once)return x$(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)S$(n,e[s],t,r,i);return null}return t=B0(t),n&&n[sh]?n.N(e,t,rh(r)?!!r.capture:!!r,i):A$(n,e,t,!1,r,i)}function A$(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=rh(i)?!!i.capture:!!i,a=L0(n);if(a||(n[R0]=a=new xm(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function Rce(){var e=Oce;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Mce||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(k$(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function x$(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)x$(n,e[s],t,r,i);return null}return t=B0(t),n&&n[sh]?n.O(e,t,rh(r)?!!r.capture:!!r,i):A$(n,e,t,!0,r,i)}function M$(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)M$(n,e[s],t,r,i);else r=rh(r)?!!r.capture:!!r,t=B0(t),n&&n[sh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=P0(s=n.g[e],t,r,i))&&(Am(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=L0(n))&&(e=n.g[e.toString()],n=-1,e&&(n=P0(e,t,r,i)),(t=-1<n?e[n]:null)&&F0(t))}function F0(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[sh])N0(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(k$(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=L0(e))?(N0(t,n),0==t.h&&(t.src=null,e[R0]=null)):Am(n)}}}function k$(n){return n in O0?O0[n]:O0[n]="on"+n}function Oce(n,e){if(n.ca)n=!0;else{e=new ih(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&F0(n),n=t.call(r,e)}return n}function L0(n){return(n=n[R0])instanceof xm?n:null}var V0="__closure_events_fn_"+(1e9*Math.random()>>>0);function B0(n){return"function"==typeof n?n:(n[V0]||(n[V0]=function(e){return n.handleEvent(e)}),n[V0])}function Xt(){Js.call(this),this.i=new xm(this),this.P=this,this.I=null}function wn(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Pn(e,n);else if(e instanceof Pn)e.target=e.target||n;else{var i=e;b$(e=new Pn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Mm(o,r,!0,e)&&i}if(i=Mm(o=e.g=n,r,!0,e)&&i,i=Mm(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Mm(o=e.g=t[s],r,!1,e)&&i}function Mm(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==t){var a=o.listener,l=o.ia||o.src;o.fa&&N0(n.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}vn(Xt,Js),Xt.prototype[sh]=!0,Xt.prototype.removeEventListener=function(n,e,t,r){M$(this,n,e,t,r)},Xt.prototype.M=function(){if(Xt.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Am(t[r]);delete n.g[e],n.h--}}this.I=null},Xt.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Xt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var U0=se.JSON.stringify;function Fce(){var n=P$;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var j0,N$=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Vce,n=>n.reset());class Vce{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Bce(n){se.setTimeout(()=>{throw n},0)}function $0(n,e){j0||function Uce(){var n=se.Promise.resolve(void 0);j0=function(){n.then($ce)}}(),H0||(j0(),H0=!0),P$.add(n,e)}var H0=!1,P$=new class Lce{constructor(){this.h=this.g=null}add(e,t){const r=N$.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function $ce(){for(var n;n=Fce();){try{n.h.call(n.g)}catch(t){Bce(t)}var e=N$;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}H0=!1}function km(n,e){Xt.call(this),this.h=n||1,this.g=e||se,this.j=yn(this.kb,this),this.l=Date.now()}function G0(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function q0(n,e,t){if("function"==typeof n)t&&(n=yn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=yn(n.handleEvent,n)}return 2147483647<Number(e)?-1:se.setTimeout(n,e||0)}function R$(n){n.g=q0(()=>{n.g=null,n.i&&(n.i=!1,R$(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}vn(km,Xt),($=km.prototype).da=!1,$.S=null,$.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),wn(this,"tick"),this.da&&(G0(this),this.start()))}},$.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$.M=function(){km.Z.M.call(this),G0(this),delete this.g};class jce extends Js{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:R$(this)}M(){super.M(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oh(n){Js.call(this),this.h=n,this.g={}}vn(oh,Js);var O$=[];function F$(n,e,t,r){Array.isArray(t)||(t&&(O$[0]=t.toString()),t=O$);for(var i=0;i<t.length;i++){var s=S$(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function L$(n){I0(n.g,function(e,t){this.g.hasOwnProperty(t)&&F0(e)},n),n.g={}}function Nm(){this.g=!0}function _u(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Wce(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return U0(t)}catch{return e}}(n,t)+(r?" "+r:"")})}oh.prototype.M=function(){oh.Z.M.call(this),L$(this)},oh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Nm.prototype.Aa=function(){this.g=!1},Nm.prototype.info=function(){};var ya={},V$=null;function Pm(){return V$=V$||new Xt}function B$(n){Pn.call(this,ya.Ma,n)}function ah(n){const e=Pm();wn(e,new B$(e,n))}function U$(n,e){Pn.call(this,ya.STAT_EVENT,n),this.stat=e}function Kn(n){const e=Pm();wn(e,new U$(e,n))}function $$(n,e){Pn.call(this,ya.Na,n),this.size=e}function lh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){n()},e)}ya.Ma="serverreachability",vn(B$,Pn),ya.STAT_EVENT="statevent",vn(U$,Pn),ya.Na="timingevent",vn($$,Pn);var Rm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},j$={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function W0(){}function G$(){}W0.prototype.h=null;var Q0,uh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function z0(){Pn.call(this,"d")}function K0(){Pn.call(this,"c")}function Om(){}function ch(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new oh(this),this.P=zce,this.W=new km(n=S0?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new q$}function q$(){this.i=null,this.g="",this.h=!1}vn(z0,Pn),vn(K0,Pn),vn(Om,W0),Om.prototype.g=function(){return new XMLHttpRequest},Om.prototype.i=function(){return{}},Q0=new Om;var zce=45e3,Y0={},Fm={};function J0(n,e,t){n.K=1,n.v=$m(Cs(e)),n.s=t,n.U=!0,W$(n,null)}function W$(n,e){n.F=Date.now(),dh(n),n.A=Cs(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),tj(t.h,"t",r),n.C=0,t=n.l.H,n.h=new q$,n.g=Tj(n.l,t?e:null,!n.s),0<n.O&&(n.L=new jce(yn(n.Ia,n,n.g),n.O)),F$(n.V,n.g,"readystatechange",n.gb),e=n.H?w$(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),ah(1),function Hce(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.X,n.s)}function z$(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function K$(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=Kce(n,t),i==Fm){4==e&&(n.o=4,Kn(14),r=!1),_u(n.j,n.m,null,"[Incomplete Response]");break}if(i==Y0){n.o=4,Kn(15),_u(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}_u(n.j,n.m,i,null),X0(n,i)}z$(n)&&i!=Fm&&i!=Y0&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Kn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),uS(e),e.L=!0,Kn(11))):(_u(n.j,n.m,t,"[Invalid Chunked Response]"),va(n),hh(n))}function Kce(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Fm:(t=Number(e.substring(t,r)),isNaN(t)?Y0:(r+=1)+t>e.length?Fm:(e=e.substr(r,t),n.C=r+t,e))}function dh(n){n.Y=Date.now()+n.P,Q$(n,n.P)}function Q$(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=lh(yn(n.eb,n),e)}function Lm(n){n.B&&(se.clearTimeout(n.B),n.B=null)}function hh(n){0==n.l.G||n.I||wj(n.l,n)}function va(n){Lm(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,G0(n.W),L$(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function X0(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||tS(t.i,n)))if(t.I=n.N,!n.J&&tS(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;zm(t),qm(t)}lS(t),Kn(18)}}else t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=lh(yn(t.ab,t),6e3));if(1>=ij(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else ba(t,11)}else if((n.J||t.g==n)&&zm(t),!Dm(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(t.U=u[0],u=u[1],2==t.G)if("c"==u[0]){t.J=u[1],t.la=u[2];const c=u[3];null!=c&&(t.ma=c,t.h.info("VER="+t.ma));const d=u[4];null!=d&&(t.za=d,t.h.info("SVER="+t.za));const h=u[5];null!=h&&"number"==typeof h&&0<h&&(t.K=r=1.5*h,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(Wn(p,"spdy")||Wn(p,"quic")||Wn(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(nS(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,it(r.F,r.D,g))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var o=n;if((r=t).oa=Cj(r,r.H?r.la:null,r.W),o.J){sj(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(Lm(a),dh(a)),r.g=o}else yj(r);0<t.l.length&&Wm(t)}else"stop"!=u[0]&&"close"!=u[0]||ba(t,7);else 3==t.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?ba(t,7):oS(t):"noop"!=u[0]&&t.j&&t.j.wa(u),t.A=0)}ah(4)}catch{}}function Z0(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(E0(n)||"string"==typeof n)g$(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(E0(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function Qce(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(E0(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}}function yu(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof yu)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function eS(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];wa(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)wa(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function wa(n,e){return Object.prototype.hasOwnProperty.call(n,e)}($=ch.prototype).setTimeout=function(n){this.P=n},$.gb=function(n){n=n.target;const e=this.L;e&&3==Ts(n)?e.l():this.Ia(n)},$.Ia=function(n){try{if(n==this.g)e:{const c=Ts(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>c)&&(3!=c||S0||this.g&&(this.h.h||this.g.ga()||fj(this.g)))){this.I||4!=c||7==e||ah(8==e||0>=d?3:2),Lm(this);var t=this.g.ba();this.N=t;t:if(z$(this)){var r=fj(this.g);n="";var i=r.length,s=4==Ts(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){va(this),hh(this);var o="";break t}this.h.i=new se.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==t,function Gce(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,c,t),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Dm(a)){var u=a;break t}}u=null}if(!(t=u)){this.i=!1,this.o=3,Kn(12),va(this),hh(this);break e}_u(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,X0(this,t)}this.U?(K$(this,c,o),S0&&this.i&&3==c&&(F$(this.V,this.W,"tick",this.fb),this.W.start())):(_u(this.j,this.m,o,null),X0(this,o)),4==c&&va(this),this.i&&!this.I&&(4==c?wj(this.l,this):(this.i=!1,dh(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Kn(12)):(this.o=0,Kn(13)),va(this),hh(this)}}}catch{}},$.fb=function(){if(this.g){var n=Ts(this.g),e=this.g.ga();this.C<e.length&&(Lm(this),K$(this,n,e),this.i&&4!=n&&dh(this))}},$.cancel=function(){this.I=!0,va(this)},$.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function qce(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ah(3),Kn(17)),va(this),this.o=2,hh(this)):Q$(this,this.Y-n)},($=yu.prototype).R=function(){eS(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},$.T=function(){return eS(this),this.g.concat()},$.get=function(n,e){return wa(this.h,n)?this.h[n]:e},$.set=function(n,e){wa(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},$.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],s=this.get(i);n.call(e,s,i,this)}};var Y$=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ea(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ea){this.g=void 0!==e?e:n.g,Vm(this,n.j),this.s=n.s,Bm(this,n.i),Um(this,n.m),this.l=n.l,e=n.h;var t=new gh;t.i=e.i,e.g&&(t.g=new yu(e.g),t.h=e.h),J$(this,t),this.o=n.o}else n&&(t=String(n).match(Y$))?(this.g=!!e,Vm(this,t[1]||"",!0),this.s=fh(t[2]||""),Bm(this,t[3]||"",!0),Um(this,t[4]),this.l=fh(t[5]||"",!0),J$(this,t[6]||"",!0),this.o=fh(t[7]||"")):(this.g=!!e,this.h=new gh(null,this.g))}function Cs(n){return new Ea(n)}function Vm(n,e,t){n.j=t?fh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Bm(n,e,t){n.i=t?fh(e,!0):e}function Um(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function J$(n,e,t){e instanceof gh?(n.h=e,function ide(n,e){e&&!n.j&&(Xs(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Z$(this,r),tj(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=ph(e,nde)),n.h=new gh(e,n.g))}function it(n,e,t){n.h.set(e,t)}function $m(n){return it(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function fh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ph(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Zce),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Zce(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ea.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ph(e,X$,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ph(e,X$,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(ph(t,"/"==t.charAt(0)?tde:ede,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ph(t,rde)),n.join("")};var X$=/[#\/\?@]/g,ede=/[#\?:]/g,tde=/[#\?]/g,nde=/[#\?@]/g,rde=/#/g;function gh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Xs(n){n.g||(n.g=new yu,n.h=0,n.i&&function Yce(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Z$(n,e){Xs(n),e=vu(n,e),wa(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,wa((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&eS(n)))}function ej(n,e){return Xs(n),e=vu(n,e),wa(n.g.h,e)}function tj(n,e,t){Z$(n,e),0<t.length&&(n.i=null,n.g.set(vu(n,e),C0(t)),n.h+=t.length)}function vu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function nj(n){this.l=n||ode,n=se.PerformanceNavigationTiming?0<(n=se.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(se.g&&se.g.Ea&&se.g.Ea()&&se.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($=gh.prototype).add=function(n,e){Xs(this),this.i=null,n=vu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},$.forEach=function(n,e){Xs(this),this.g.forEach(function(t,r){g$(t,function(i){n.call(e,i,r,this)},this)},this)},$.T=function(){Xs(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],s=0;s<i.length;s++)t.push(e[r]);return t},$.R=function(n){Xs(this);var e=[];if("string"==typeof n)ej(this,n)&&(e=m$(e,this.g.get(vu(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=m$(e,n[t])}return e},$.set=function(n,e){return Xs(this),this.i=null,ej(this,n=vu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},$.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},$.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),n.push(o)}}return this.i=n.join("&")};var ode=10;function rj(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ij(n){return n.h?1:n.g?n.g.size:0}function tS(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function nS(n,e){n.g?n.g.add(e):n.h=e}function sj(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function oj(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return C0(n.i)}function rS(){}function ade(){this.g=new rS}function lde(n,e,t){const r=t||"";try{Z0(n,function(i,s){let o=i;rh(i)&&(o=U0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function jm(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function mh(n){this.l=n.$b||null,this.j=n.ib||!1}function Hm(n,e){Xt.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=iS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nj.prototype.cancel=function(){if(this.i=oj(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},rS.prototype.stringify=function(n){return se.JSON.stringify(n,void 0)},rS.prototype.parse=function(n){return se.JSON.parse(n,void 0)},vn(mh,W0),mh.prototype.g=function(){return new Hm(this.l,this.j)},mh.prototype.i=function(n){return function(){return n}}({}),vn(Hm,Xt);var iS=0;function aj(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function _h(n){n.readyState=4,n.l=null,n.j=null,n.A=null,yh(n)}function yh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}($=Hm.prototype).open=function(n,e){if(this.readyState!=iS)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,yh(this)},$.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||se).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},$.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_h(this)),this.readyState=iS},$.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,yh(this)),this.g&&(this.readyState=3,yh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof se.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;aj(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},$.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?_h(this):yh(this),3==this.readyState&&aj(this)}},$.Ua=function(n){this.g&&(this.response=this.responseText=n,_h(this))},$.Ta=function(n){this.g&&(this.response=n,_h(this))},$.ha=function(){this.g&&_h(this)},$.setRequestHeader=function(n,e){this.v.append(n,e)},$.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},$.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Hm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var cde=se.JSON.parse;function Pt(n){Xt.call(this),this.headers=new yu,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=lj,this.K=this.L=!1}vn(Pt,Xt);var lj="",dde=/^https?$/i,hde=["POST","PUT"];function pde(n){return"content-type"==n.toLowerCase()}function uj(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,cj(n),Gm(n)}function cj(n){n.D||(n.D=!0,wn(n,"complete"),wn(n,"error"))}function dj(n){if(n.h&&typeof w0<"u"&&(!n.C[1]||4!=Ts(n)||2!=n.ba()))if(n.v&&4==Ts(n))q0(n.Fa,0,n);else if(wn(n,"readystatechange"),4==Ts(n)){n.h=!1;try{const a=n.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(Y$)[1]||null;if(!i&&se.self&&se.self.location){var s=se.self.location.protocol;i=s.substr(0,s.length-1)}r=!dde.test(i?i.toLowerCase():"")}t=r}if(t)wn(n,"complete"),wn(n,"success");else{n.m=6;try{var o=2<Ts(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.ba()+"]",cj(n)}}finally{Gm(n)}}}function Gm(n,e){if(n.g){hj(n);const t=n.g,r=n.C[0]?Tm:null;n.g=null,n.C=null,e||wn(n,"ready");try{t.onreadystatechange=r}catch{}}}function hj(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(se.clearTimeout(n.A),n.A=null)}function Ts(n){return n.g?n.g.readyState:0}function fj(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case lj:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function sS(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function gde(n){let e="";return I0(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):it(n,e,t))}function vh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function pj(n){this.za=0,this.l=[],this.h=new Nm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=vh("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=vh("baseRetryDelayMs",5e3,n),this.$a=vh("retryDelaySeedMs",1e4,n),this.Ya=vh("forwardChannelMaxRetries",2,n),this.ra=vh("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new nj(n&&n.concurrentRequestLimit),this.Ca=new ade,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function oS(n){if(gj(n),3==n.G){var e=n.V++,t=Cs(n.F);it(t,"SID",n.J),it(t,"RID",e),it(t,"TYPE","terminate"),wh(n,t),(e=new ch(n,n.h,e,void 0)).K=2,e.v=$m(Cs(t)),t=!1,se.navigator&&se.navigator.sendBeacon&&(t=se.navigator.sendBeacon(e.v.toString(),"")),!t&&se.Image&&((new Image).src=e.v,t=!0),t||(e.g=Tj(e.l,null),e.g.ea(e.v)),e.F=Date.now(),dh(e)}bj(n)}function qm(n){n.g&&(uS(n),n.g.cancel(),n.g=null)}function gj(n){qm(n),n.u&&(se.clearTimeout(n.u),n.u=null),zm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&se.clearTimeout(n.m),n.m=null)}function aS(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Wm(n)}function Wm(n){rj(n.i)||n.m||(n.m=!0,$0(n.Ha,n),n.C=0)}function mj(n,e){var t;t=e?e.m:n.V++;const r=Cs(n.F);it(r,"SID",n.J),it(r,"RID",t),it(r,"AID",n.U),wh(n,r),n.o&&n.s&&sS(r,n.o,n.s),t=new ch(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=_j(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),nS(n.i,t),J0(t,r,e)}function wh(n,e){n.j&&Z0({},function(t,r){it(e,r,t)})}function _j(n,e,t){t=Math.min(n.l.length,t);var r=n.j?yn(n.j.Oa,n.j,n):null;e:{var i=n.l;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{lde(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function yj(n){n.g||n.u||(n.Y=1,$0(n.Ga,n),n.A=0)}function lS(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=lh(yn(n.Ga,n),Ej(n,n.A)),n.A++,0))}function uS(n){null!=n.B&&(se.clearTimeout(n.B),n.B=null)}function vj(n){n.g=new ch(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Cs(n.oa);it(e,"RID","rpc"),it(e,"SID",n.J),it(e,"CI",n.N?"0":"1"),it(e,"AID",n.U),wh(n,e),it(e,"TYPE","xmlhttp"),n.o&&n.s&&sS(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=$m(Cs(e)),t.s=null,t.U=!0,W$(t,n)}function zm(n){null!=n.v&&(se.clearTimeout(n.v),n.v=null)}function wj(n,e){var t=null;if(n.g==e){zm(n),uS(n),n.g=null;var r=2}else{if(!tS(n.i,e))return;t=e.D,sj(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;wn(r=Pm(),new $$(r,t,e,i)),Wm(n)}else yj(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function mde(n,e){return!(ij(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=lh(yn(n.Ha,n,e),Ej(n,n.C)),n.C++,0)))}(n,e)||2==r&&lS(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:ba(n,5);break;case 4:ba(n,10);break;case 3:ba(n,6);break;default:ba(n,2)}}function Ej(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function ba(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=yn(n.jb,n);t||(t=new Ea("//www.google.com/images/cleardot.gif"),se.location&&"http"==se.location.protocol||Vm(t,"https"),$m(t)),function ude(n,e){const t=new Nm;if(se.Image){const r=new Image;r.onload=Im(jm,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Im(jm,t,r,"TestLoadImage: error",!1,e),r.onabort=Im(jm,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Im(jm,t,r,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Kn(2);n.G=0,n.j&&n.j.va(e),bj(n),gj(n)}function bj(n){n.G=0,n.I=-1,n.j&&((0!=oj(n.i).length||0!=n.l.length)&&(n.i.i.length=0,C0(n.l),n.l.length=0),n.j.ua())}function Cj(n,e,t){let r=function Jce(n){return n instanceof Ea?Cs(n):new Ea(n,void 0)}(t);if(""!=r.i)e&&Bm(r,e+"."+r.i),Um(r,r.m);else{const i=se.location;r=function Xce(n,e,t,r){var i=new Ea(null,void 0);return n&&Vm(i,n),e&&Bm(i,e),t&&Um(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&I0(n.aa,function(i,s){it(r,s,i)}),t=n.sa,(e=n.D)&&t&&it(r,e,t),it(r,"VER",n.ma),wh(n,r),r}function Tj(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pt(t&&n.Ba&&!n.qa?new mh({ib:!0}):n.qa)).L=n.H,e}function Ij(){}function Km(){if(mu&&!(10<=Number(xce)))throw Error("Environmental error: no available transport.")}function Cr(n,e){Xt.call(this),this.g=new pj(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Dm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Dm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new wu(this)}function Dj(n){z0.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Sj(){K0.call(this),this.status=1}function wu(n){this.g=n}($=Pt.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Q0.g(),this.C=function H$(n){return n.h||(n.h=n.i())}(this.u?this.u:Q0),this.g.onreadystatechange=yn(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void uj(this,s)}n=t||"";const i=new yu(this.headers);r&&Z0(r,function(s,o){i.set(o,s)}),r=function Cce(n){e:{var e=pde;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=se.FormData&&n instanceof se.FormData,!(0<=p$(hde,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{hj(this),0<this.B&&((this.K=function fde(n){return mu&&function Ace(){return function Tce(n){var e=Sce;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=_$(String(Sm)).split("."),t=_$("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=T0(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||T0(0==i[2].length,0==s[2].length)||T0(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yn(this.pa,this)):this.A=q0(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){uj(this,s)}},$.pa=function(){typeof w0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wn(this,"timeout"),this.abort(8))},$.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,wn(this,"complete"),wn(this,"abort"),Gm(this))},$.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gm(this,!0)),Pt.Z.M.call(this)},$.Fa=function(){this.s||(this.F||this.v||this.l?dj(this):this.cb())},$.cb=function(){dj(this)},$.ba=function(){try{return 2<Ts(this)?this.g.status:-1}catch{return-1}},$.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},$.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),cde(e)}},$.Da=function(){return this.m},$.La=function(){return"string"==typeof this.j?this.j:String(this.j)},($=pj.prototype).ma=8,$.G=1,$.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},$.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new ch(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=w$(s),b$(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=_j(this,i,e),it(t=Cs(this.F),"RID",n),it(t,"CVER",22),this.D&&it(t,"X-HTTP-Session-Id",this.D),wh(this,t),this.o&&s&&sS(t,this.o,s),nS(this.i,i),this.Ra&&it(t,"TYPE","init"),this.ja?(it(t,"$req",e),it(t,"SID","null"),i.$=!0,J0(i,t,null)):J0(i,t,e),this.G=2}}else 3==this.G&&(n?mj(this,n):0==this.l.length||rj(this.i)||mj(this))},$.Ga=function(){if(this.u=null,vj(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=lh(yn(this.bb,this),n)}},$.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Kn(10),qm(this),vj(this))},$.ab=function(){null!=this.v&&(this.v=null,qm(this),lS(this),Kn(19))},$.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Kn(2)):(this.h.info("Failed to ping google.com"),Kn(1))},($=Ij.prototype).xa=function(){},$.wa=function(){},$.va=function(){},$.ua=function(){},$.Oa=function(){},Km.prototype.g=function(n,e){return new Cr(n,e)},vn(Cr,Xt),Cr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),$0(yn(n.hb,n,e))),Kn(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Cj(n,null,n.W),Wm(n)},Cr.prototype.close=function(){oS(this.g)},Cr.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,aS(this.g,e)}else this.v?((e={}).__data__=U0(n),aS(this.g,e)):aS(this.g,n)},Cr.prototype.M=function(){this.g.j=null,delete this.j,oS(this.g),delete this.g,Cr.Z.M.call(this)},vn(Dj,z0),vn(Sj,K0),vn(wu,Ij),wu.prototype.xa=function(){wn(this.g,"a")},wu.prototype.wa=function(n){wn(this.g,new Dj(n))},wu.prototype.va=function(n){wn(this.g,new Sj(n))},wu.prototype.ua=function(){wn(this.g,"b")},Km.prototype.createWebChannel=Km.prototype.g,Cr.prototype.send=Cr.prototype.u,Cr.prototype.open=Cr.prototype.m,Cr.prototype.close=Cr.prototype.close,Rm.NO_ERROR=0,Rm.TIMEOUT=8,Rm.HTTP_ERROR=6,j$.COMPLETE="complete",G$.EventType=uh,uh.OPEN="a",uh.CLOSE="b",uh.ERROR="c",uh.MESSAGE="d",Xt.prototype.listen=Xt.prototype.N,Pt.prototype.listenOnce=Pt.prototype.O,Pt.prototype.getLastError=Pt.prototype.La,Pt.prototype.getLastErrorCode=Pt.prototype.Da,Pt.prototype.getStatus=Pt.prototype.ba,Pt.prototype.getResponseJson=Pt.prototype.Qa,Pt.prototype.getResponseText=Pt.prototype.ga,Pt.prototype.send=Pt.prototype.ea;var _de=bs.createWebChannelTransport=function(){return new Km},yde=bs.getStatEventTarget=function(){return Pm()},cS=bs.ErrorCode=Rm,vde=bs.EventType=j$,wde=bs.Event=ya,Aj=bs.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ede=bs.FetchXmlHttpFactory=mh,Qm=bs.WebChannel=G$,bde=bs.XhrIo=Pt;const xj="@firebase/firestore";class Zt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let Eu="9.8.4";const Zs=new sa("@firebase/firestore");function dS(){return Zs.logLevel}function M(n,...e){if(Zs.logLevel<=be.DEBUG){const t=e.map(hS);Zs.debug(`Firestore (${Eu}): ${n}`,...t)}}function Rt(n,...e){if(Zs.logLevel<=be.ERROR){const t=e.map(hS);Zs.error(`Firestore (${Eu}): ${n}`,...t)}}function Ym(n,...e){if(Zs.logLevel<=be.WARN){const t=e.map(hS);Zs.warn(`Firestore (${Eu}): ${n}`,...t)}}function hS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function G(n="Unexpected state"){const e=`FIRESTORE (${Eu}) INTERNAL ASSERTION FAILED: `+n;throw Rt(e),new Error(e)}function re(n,e){n||G()}function F(n,e){return n}const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class x extends ds{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class en{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Mj{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Cde{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zt.UNAUTHENTICATED))}shutdown(){}}class Ide{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=u=>this.i!==i?(i=this.i,t(u)):Promise.resolve();let o=new en;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new en,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable(_(function*(){yield u.promise,yield s(r.currentUser)}))},l=u=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new en)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(re("string"==typeof r.accessToken),new Mj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return re(null===e||"string"==typeof e),new Zt(e)}}class Dde{constructor(e,t,r){this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Sde{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Dde(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ade{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=s=>{null!=s.error&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,M("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(re("string"==typeof t.token),this.p=t.token,new kj(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function xde(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Nj{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=xde(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function de(n,e){return n<e?-1:n>e?1:0}function bu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class dt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new x(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new x(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new x(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new x(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new dt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Z(e)}static min(){return new Z(new dt(0,0))}static max(){return new Z(new dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Eh{constructor(e,t,r){void 0===t?t=0:t>e.length&&G(),void 0===r?r=e.length-t:r>e.length-t&&G(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Eh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Eh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Te extends Eh{construct(e,t,r){return new Te(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new x(b.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Te(t)}static emptyPath(){return new Te([])}}const Mde=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends Eh{construct(e,t,r){return new Ot(e,t,r)}static isValidIdentifier(e){return Mde.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ot(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new x(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new x(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new x(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new x(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(t)}static emptyPath(){return new Ot([])}}class R{constructor(e){this.path=e}static fromPath(e){return new R(Te.fromString(e))}static fromName(e){return new R(Te.fromString(e).popFirst(5))}static empty(){return new R(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Te.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Te.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new R(new Te(e.slice()))}}function Oj(n){return new Tr(n.readTime,n.key,-1)}class Tr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Tr(Z.min(),R.empty(),-1)}static max(){return new Tr(Z.max(),R.empty(),-1)}}function pS(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=R.comparator(n.documentKey,e.documentKey),0!==t?t:de(n.largestBatchId,e.largestBatchId))}const Fj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function eo(n){return gS.apply(this,arguments)}function gS(){return gS=_(function*(n){if(n.code!==b.FAILED_PRECONDITION||n.message!==Fj)throw n;M("LocalStore","Unexpectedly lost primary lease")}),gS.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof w?t:w.resolve(t)}catch(t){return w.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):w.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):w.reject(t)}static resolve(e){return new w((t,r)=>{t(e)})}static reject(e){return new w((t,r)=>{r(e)})}static waitFor(e){return new w((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=w.resolve(!1);for(const r of e)t=t.next(i=>i?w.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;t(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,t){return new w((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function to(n){return"IndexedDbTransactionError"===n.name}class sr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.it(r),this.rt=r=>t.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function Vj(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ia(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Bj(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}sr.ot=-1;class wt{constructor(e,t){this.comparator=e,this.root=t||En.EMPTY}insert(e,t){return new wt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new e_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new e_(this.root,e,this.comparator,!1)}getReverseIterator(){return new e_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new e_(this.root,e,this.comparator,!0)}}class e_{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??En.RED,this.left=i??En.EMPTY,this.right=s??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new En(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return En.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();const e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1,En.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(n,e,t,r,i){return this}insert(n,e,t){return new En(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Be{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Uj(this.data.getIterator())}getIteratorFrom(e){return new Uj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Be)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Be(this.comparator);return t.data=e,t}}class Uj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ir{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new Ir([])}unionWith(e){let t=new Be(Ot.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ir(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new zt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const Fde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function no(n){if(re(!!n),"string"==typeof n){let e=0;const t=Fde.exec(n);if(re(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(n.seconds),nanos:Et(n.nanos)}}function Et(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Da(n){return"string"==typeof n?zt.fromBase64String(n):zt.fromUint8Array(n)}function _S(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function $j(n){const e=n.mapValue.fields.__previous_value__;return _S(e)?$j(e):e}function Th(n){const e=no(n.mapValue.fields.__local_write_time__.timestampValue);return new dt(e.seconds,e.nanos)}class Lde{constructor(e,t,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class ro{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ro("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ro&&e.projectId===this.projectId&&e.database===this.database}}function Ih(n){return null==n}function Dh(n){return 0===n&&1/n==-1/0}const io_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Sa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_S(n)?4:Wj(n)?9007199254740991:10:G()}function Mi(n,e){if(n===e)return!0;const t=Sa(n);if(t!==Sa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Th(n).isEqual(Th(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=no(r.timestampValue),o=no(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Da(n.bytesValue).isEqual(Da(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Et(r.geoPointValue.latitude)===Et(i.geoPointValue.latitude)&&Et(r.geoPointValue.longitude)===Et(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Et(r.integerValue)===Et(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Et(r.doubleValue),o=Et(i.doubleValue);return s===o?Dh(s)===Dh(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return bu(n.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Vj(s)!==Vj(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Mi(s[a],o[a])))return!1;return!0}(n,e);default:return G()}var i}function Sh(n,e){return void 0!==(n.values||[]).find(t=>Mi(t,e))}function so(n,e){if(n===e)return 0;const t=Sa(n),r=Sa(e);if(t!==r)return de(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return de(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Et(i.integerValue||i.doubleValue),a=Et(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return Hj(n.timestampValue,e.timestampValue);case 4:return Hj(Th(n),Th(e));case 5:return de(n.stringValue,e.stringValue);case 6:return function(i,s){const o=Da(i),a=Da(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=de(o[l],a[l]);if(0!==u)return u}return de(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=de(Et(i.latitude),Et(s.latitude));return 0!==o?o:de(Et(i.longitude),Et(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=so(o[l],a[l]);if(u)return u}return de(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===io_mapValue&&s===io_mapValue)return 0;if(i===io_mapValue)return 1;if(s===io_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=de(a[c],u[c]);if(0!==d)return d;const h=so(o[a[c]],l[u[c]]);if(0!==h)return h}return de(a.length,u.length)}(n.mapValue,e.mapValue);default:throw G()}}function Hj(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return de(n,e);const t=no(n),r=no(e),i=de(t.seconds,r.seconds);return 0!==i?i:de(t.nanos,r.nanos)}function Tu(n){return yS(n)}function yS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=no(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Da(n.bytesValue).toBase64():"referenceValue"in n?R.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=yS(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${yS(r.fields[a])}`;return s+"}"}(n.mapValue):G();var e}function vS(n){return!!n&&"integerValue"in n}function Ah(n){return!!n&&"arrayValue"in n}function Gj(n){return!!n&&"nullValue"in n}function qj(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function n_(n){return!!n&&"mapValue"in n}function xh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ia(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=xh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Wj(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!n_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xh(t)}setAll(e){let t=Ot.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=xh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());n_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];n_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ia(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new bn(xh(this.value))}}function Qj(n){const e=[];return Ia(n.fields,(t,r)=>{const i=new Ot([t]);if(n_(r)){const s=Qj(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ir(e)}class Je{constructor(e,t,r,i,s,o){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Je(e,0,Z.min(),Z.min(),bn.empty(),0)}static newFoundDocument(e,t,r){return new Je(e,1,t,Z.min(),r,0)}static newNoDocument(e,t){return new Je(e,2,t,Z.min(),bn.empty(),0)}static newUnknownDocument(e,t){return new Je(e,3,t,Z.min(),bn.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Je&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ude{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ut=null}}function Yj(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Ude(n,e,t,r,i,s,o)}function xa(n){const e=F(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Tu(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Ih(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Tu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Tu(r)).join(",")),e.ut=t}return e.ut}function Mh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!Qde(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Mi(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!tH(n.startAt,e.startAt)&&tH(n.endAt,e.endAt)}function r_(n){return R.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Cn extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new jde(e,t,r):"array-contains"===t?new qde(e,r):"in"===t?new Wde(e,r):"not-in"===t?new zde(e,r):"array-contains-any"===t?new Kde(e,r):new Cn(e,t,r)}static ct(e,t,r){return"in"===t?new Hde(e,r):new Gde(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(so(t,this.value)):null!==t&&Sa(this.value)===Sa(t)&&this.at(so(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return G()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class jde extends Cn{constructor(e,t,r){super(e,t,r),this.key=R.fromName(r.referenceValue)}matches(e){const t=R.comparator(e.key,this.key);return this.at(t)}}class Hde extends Cn{constructor(e,t){super(e,"in",t),this.keys=Zj(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Gde extends Cn{constructor(e,t){super(e,"not-in",t),this.keys=Zj(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Zj(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>R.fromName(r.referenceValue))}class qde extends Cn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ah(t)&&Sh(t.arrayValue,this.value)}}class Wde extends Cn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Sh(this.value.arrayValue,t)}}class zde extends Cn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Sh(this.value.arrayValue,t)}}class Kde extends Cn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ah(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Sh(this.value.arrayValue,r))}}class oo{constructor(e,t){this.position=e,this.inclusive=t}}class Iu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Qde(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function eH(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?R.comparator(R.fromName(o.referenceValue),t.key):so(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function tH(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Mi(n.position[t],e.position[t]))return!1;return!0}class Is{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.lt=null,this.ft=null}}function Du(n){return new Is(n)}function Su(n){const e=F(n);if(null===e.lt){e.lt=[];const t=function ES(n){for(const e of n.filters)if(e.ht())return e.field;return null}(e),r=function wS(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.lt.push(new Iu(t)),e.lt.push(new Iu(Ot.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.lt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new Iu(Ot.keyField(),s))}}}return e.lt}function Ur(n){const e=F(n);if(!e.ft)if("F"===e.limitType)e.ft=Yj(e.path,e.collectionGroup,Su(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Su(e))t.push(new Iu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new oo(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new oo(e.startAt.position,e.startAt.inclusive):null;e.ft=Yj(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.ft}function kh(n,e){return Mh(Ur(n),Ur(e))&&n.limitType===e.limitType}function iH(n){return`${xa(Ur(n))}|lt:${n.limitType}`}function CS(n){return`Query(target=${function $de(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Tu(r.value)}`;var r}).join(", ")}]`),Ih(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Tu(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Tu(t)).join(",")),`Target(${e})`}(Ur(n))}; limitType=${n.limitType})`}function TS(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):R.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=eH(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,Su(t),r)||t.endAt&&!function(i,s,o){const a=eH(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,Su(t),r)));var t,r}function oH(n){return(e,t)=>{let r=!1;for(const i of Su(n)){const s=Jde(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Jde(n,e,t){const r=n.field.isKeyField()?R.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return null!==a&&null!==l?so(a,l):G()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return G()}}function aH(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(e)?"-0":e}}function lH(n){return{integerValue:""+n}}function uH(n,e){return function jj(n){return"number"==typeof n&&Number.isInteger(n)&&!Dh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?lH(e):aH(n,e)}class s_{constructor(){this._=void 0}}function Xde(n,e,t){return n instanceof Au?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Ma?dH(n,e):n instanceof ka?hH(n,e):function(r,i){const s=cH(r,i),o=fH(s)+fH(r._t);return vS(s)&&vS(r._t)?lH(o):aH(r.wt,o)}(n,e)}function Zde(n,e,t){return n instanceof Ma?dH(n,e):n instanceof ka?hH(n,e):t}function cH(n,e){return n instanceof xu?vS(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Au extends s_{}class Ma extends s_{constructor(e){super(),this.elements=e}}function dH(n,e){const t=pH(e);for(const r of n.elements)t.some(i=>Mi(i,r))||t.push(r);return{arrayValue:{values:t}}}class ka extends s_{constructor(e){super(),this.elements=e}}function hH(n,e){let t=pH(e);for(const r of n.elements)t=t.filter(i=>!Mi(i,r));return{arrayValue:{values:t}}}class xu extends s_{constructor(e,t){super(),this.wt=e,this._t=t}}function fH(n){return Et(n.integerValue||n.doubleValue)}function pH(n){return Ah(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class the{constructor(e,t){this.version=e,this.transformResults=t}}class ht{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ht}static exists(e){return new ht(void 0,e)}static updateTime(e){return new ht(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function o_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class a_{}function gH(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ku(n.key,ht.none()):new Mu(n.key,n.data,ht.none());{const t=n.data,r=bn.empty();let i=new Be(Ot.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Ds(n.key,r,new Ir(i.toArray()),ht.none())}}function nhe(n,e,t){n instanceof Mu?function(r,i,s){const o=r.value.clone(),a=yH(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Ds?function(r,i,s){if(!o_(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=yH(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(_H(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ph(n,e,t,r){return n instanceof Mu?function(i,s,o,a){if(!o_(i.precondition,s))return o;const l=i.value.clone(),u=vH(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ds?function(i,s,o,a){if(!o_(i.precondition,s))return o;const l=vH(i.fieldTransforms,a,s),u=s.data;return u.setAll(_H(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(n,e,t,r):(o=t,o_(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function rhe(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=cH(r.transform,i||null);null!=s&&(null===t&&(t=bn.empty()),t.set(r.field,s))}return t||null}function mH(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&bu(t,r,(i,s)=>function ehe(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ma&&r instanceof Ma||t instanceof ka&&r instanceof ka?bu(t.elements,r.elements,Mi):t instanceof xu&&r instanceof xu?Mi(t._t,r._t):t instanceof Au&&r instanceof Au);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Mu extends a_{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ds extends a_{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function _H(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function yH(n,e,t){const r=new Map;re(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Zde(o,a,t[i]))}return r}function vH(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Xde(s,o,e))}return r}class ku extends a_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IS extends a_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ihe{constructor(e){this.count=e}}var Ft,Ie;function wH(n){switch(n){default:return G();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0}}function EH(n){if(void 0===n)return Rt("GRPC error has no .code"),b.UNKNOWN;switch(n){case Ft.OK:return b.OK;case Ft.CANCELLED:return b.CANCELLED;case Ft.UNKNOWN:return b.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return b.INTERNAL;case Ft.UNAVAILABLE:return b.UNAVAILABLE;case Ft.UNAUTHENTICATED:return b.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case Ft.NOT_FOUND:return b.NOT_FOUND;case Ft.ALREADY_EXISTS:return b.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return b.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case Ft.ABORTED:return b.ABORTED;case Ft.OUT_OF_RANGE:return b.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return b.UNIMPLEMENTED;case Ft.DATA_LOSS:return b.DATA_LOSS;default:return G()}}(Ie=Ft||(Ft={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";class ao{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ia(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Bj(this.inner)}size(){return this.innerSize}}const she=new wt(R.comparator);function or(){return she}const bH=new wt(R.comparator);function Rh(...n){let e=bH;for(const t of n)e=e.insert(t.key,t);return e}function CH(n){let e=bH;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ki(){return Oh()}function TH(){return Oh()}function Oh(){return new ao(n=>n.toString(),(n,e)=>n.isEqual(e))}const ohe=new wt(R.comparator),ahe=new Be(R.comparator);function pe(...n){let e=ahe;for(const t of n)e=e.add(t);return e}const lhe=new Be(de);function l_(){return lhe}class Fh{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Lh.createSynthesizedTargetChangeForCurrentChange(e,t)),new Fh(Z.min(),r,l_(),or(),pe())}}class Lh{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Lh(zt.EMPTY_BYTE_STRING,t,pe(),pe(),pe())}}class u_{constructor(e,t,r,i){this.gt=e,this.removedTargetIds=t,this.key=r,this.yt=i}}class IH{constructor(e,t){this.targetId=e,this.It=t}}class DH{constructor(e,t,r=zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class SH{constructor(){this.Tt=0,this.Et=xH(),this.At=zt.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=pe(),t=pe(),r=pe();return this.Et.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:G()}}),new Lh(this.At,this.Rt,e,t,r)}Dt(){this.bt=!1,this.Et=xH()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class uhe{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=or(),this.Bt=AH(),this.Lt=new Be(de)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const r=this.Qt(t);switch(e.state){case 0:this.jt(t)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),r.Vt(e.resumeToken));break;default:G()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((r,i)=>{this.jt(i)&&t(i)})}zt(e){const t=e.targetId,r=e.It.count,i=this.Ht(t);if(i){const s=i.target;if(r_(s))if(0===r){const o=new R(s.path);this.Kt(t,o,Je.newNoDocument(o,Z.min()))}else re(1===r);else this.Jt(t)!==r&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((s,o)=>{const a=this.Ht(o);if(a){if(s.current&&r_(a.target)){const l=new R(a.target.path);null!==this.$t.get(l)||this.Xt(o,l)||this.Kt(o,l,Je.newNoDocument(l,e))}s.vt&&(t.set(o,s.St()),s.Dt())}});let r=pe();this.Bt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ht(l);return!u||2===u.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.$t.forEach((s,o)=>o.setReadTime(e));const i=new Fh(e,t,this.Lt,this.$t,r);return this.$t=or(),this.Bt=AH(),this.Lt=new Be(de),i}qt(e,t){if(!this.jt(e))return;const r=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,r),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,r){if(!this.jt(e))return;const i=this.Qt(e);this.Xt(e,t)?i.Ct(t,1):i.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),r&&(this.$t=this.$t.insert(t,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new SH,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new Be(de),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||M("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new SH),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function AH(){return new wt(R.comparator)}function xH(){return new wt(R.comparator)}const che={asc:"ASCENDING",desc:"DESCENDING"},dhe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class hhe{constructor(e,t){this.databaseId=e,this.dt=t}}function Vh(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MH(n,e){return n.dt?e.toBase64():e.toUint8Array()}function fhe(n,e){return Vh(n,e.toTimestamp())}function tn(n){return re(!!n),Z.fromTimestamp(function(e){const t=no(e);return new dt(t.seconds,t.nanos)}(n))}function DS(n,e){return(t=n,new Te(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function kH(n){const e=Te.fromString(n);return re(UH(e)),e}function Bh(n,e){return DS(n.databaseId,e.path)}function Ni(n,e){const t=kH(e);if(t.get(1)!==n.databaseId.projectId)throw new x(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new x(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new R(PH(t))}function SS(n,e){return DS(n.databaseId,e)}function Uh(n){return new Te(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function PH(n){return re(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function RH(n,e,t){return{name:Bh(n,e),fields:t.value.mapValue.fields}}function FH(n,e){return{documents:[SS(n,e.path)]}}function LH(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=SS(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=SS(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0===l.length)return;const u=l.map(c=>function(d){if("=="===d.op){if(qj(d.value))return{unaryFilter:{field:Nu(d.field),op:"IS_NAN"}};if(Gj(d.value))return{unaryFilter:{field:Nu(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(qj(d.value))return{unaryFilter:{field:Nu(d.field),op:"IS_NOT_NAN"}};if(Gj(d.value))return{unaryFilter:{field:Nu(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nu(d.field),op:vhe(d.op),value:d.value}}}(c));return 1===u.length?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(u=>{return{field:Nu((c=u).field),direction:yhe(c.dir)};var c})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(u=e.limit,n.dt||Ih(u)?u:{value:u});var u,a,l;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function VH(n){let e=function NH(n){const e=kH(n);return 4===e.length?Te.emptyPath():PH(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){re(1===r);const c=t.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];t.where&&(s=BH(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(c=>{return new Iu(Pu((d=c).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(c){let d;return d="object"==typeof c?c.value:c,Ih(d)?null:d}(t.limit));let l=null;var c;t.startAt&&(l=new oo((c=t.startAt).values||[],!!c.before));let u=null;return t.endAt&&(u=function(c){return new oo(c.values||[],!c.before)}(t.endAt)),function nH(n,e,t,r,i,s,o,a){return new Is(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",l,u)}function BH(n){return n?void 0!==n.unaryFilter?[Ehe(n)]:void 0!==n.fieldFilter?[whe(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>BH(e)).reduce((e,t)=>e.concat(t)):G():[]}function yhe(n){return che[n]}function vhe(n){return dhe[n]}function Nu(n){return{fieldPath:n.canonicalString()}}function Pu(n){return Ot.fromServerFormat(n.fieldPath)}function whe(n){return Cn.create(Pu(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(n.fieldFilter.op),n.fieldFilter.value)}function Ehe(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Pu(n.unaryFilter.field);return Cn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Pu(n.unaryFilter.field);return Cn.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Pu(n.unaryFilter.field);return Cn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Pu(n.unaryFilter.field);return Cn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return G()}}function bhe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function UH(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class MS{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&nhe(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ph(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ph(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=TH();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=gH(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pe())}isEqual(e){return this.batchId===e.batchId&&bu(this.mutations,e.mutations,(t,r)=>mH(t,r))&&bu(this.baseMutations,e.baseMutations,(t,r)=>mH(t,r))}}class kS{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){re(e.mutations.length===r.length);let i=ohe;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new kS(e,t,r,i)}}class NS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class lo{constructor(e,t,r,i,s=Z.min(),o=Z.min(),a=zt.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new lo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class zH{constructor(e){this.ne=e}}function PS(n){const e=VH({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?function rH(n,e,t){return new Is(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}(e,e.limit,"L"):e}class Oa{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Et(e.integerValue));else if("doubleValue"in e){const r=Et(e.doubleValue);isNaN(r)?this.ce(t,13):(this.ce(t,15),Dh(r)?t.ae(0):t.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he(`${r.seconds||""}`),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Da(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(t,45),t.ae(r.latitude||0),t.ae(r.longitude||0)}else"mapValue"in e?Wj(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):G()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const r=e.fields||{};this.ce(t,55);for(const i of Object.keys(r))this.le(i,t),this.oe(r[i],t)}me(e,t){const r=e.values||[];this.ce(t,50);for(const i of r)this.oe(i,t)}_e(e,t){this.ce(t,37),R.fromName(e).path.forEach(r=>{this.ce(t,60),this.ge(r,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}Oa.ye=new Oa;class Khe{constructor(){this.ze=new OS}addToCollectionParentIndex(e,t){return this.ze.add(t),w.resolve()}getCollectionParents(e,t){return w.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return w.resolve()}deleteFieldIndex(e,t){return w.resolve()}getDocumentsMatchingTarget(e,t){return w.resolve(null)}getIndexType(e,t){return w.resolve(0)}getFieldIndexes(e,t){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,t){return w.resolve(Tr.min())}getMinOffsetFromCollectionGroup(e,t){return w.resolve(Tr.min())}updateCollectionGroup(e,t,r){return w.resolve()}updateIndexEntries(e,t){return w.resolve()}}class OS{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Be(Te.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Be(Te.comparator)).toArray()}}new Uint8Array(0);class ar{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ar(e,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ar.DEFAULT_COLLECTION_PERCENTILE=10,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ar.DEFAULT=new ar(41943040,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ar.DISABLED=new ar(-1,0,0);class Va{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new Va(0)}static Rn(){return new Va(-1)}}class ife{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class pG{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&Ph(r.mutation,i,Ir.empty(),dt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=pe()){const i=ki();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Rh();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=ki();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,pe()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=or();const o=Oh(),a=Oh();return t.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(void 0===c||c.mutation instanceof Ds)?s=s.insert(u.key,u):void 0!==c&&(o.set(u.key,c.mutation.getFieldMask()),Ph(c.mutation,u,c.mutation.getFieldMask(),dt.now()))}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),t.forEach((u,c)=>{var d;return a.set(u,new ife(c,null!==(d=o.get(u))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Oh();let i=new wt((o,a)=>o-a),s=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=t.get(l);if(null===u)return;let c=r.get(l)||Ir.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||pe()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=TH();c.forEach(h=>{if(!s.has(h)){const f=gH(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return R.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function bS(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):w.resolve(ki());let a=-1,l=s;return o.next(u=>w.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?w.resolve():this.getBaseDocument(e,c,d).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,pe())).next(c=>({batchId:a,changes:CH(c)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new R(t)).next(r=>{let i=Rh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=Rh();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const l=(u=t,c=a.child(i),new Is(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt));var u,c;return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const u=l.getKey();null===i.get(u)&&(i=i.insert(u,Je.newInvalidDocument(u)))});let o=Rh();return i.forEach((a,l)=>{const u=s.get(a);void 0!==u&&Ph(u.mutation,l,Ir.empty(),dt.now()),TS(t,l)&&(o=o.insert(a,l))}),o})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):w.resolve(Je.newInvalidDocument(t))}}class sfe{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return w.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var r;return this.Jn.set(t.id,{id:(r=t).id,version:r.version,createTime:tn(r.createTime)}),w.resolve()}getNamedQuery(e,t){return w.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(r=t).name,query:PS(r.bundledQuery),readTime:tn(r.readTime)}),w.resolve();var r}}class ofe{constructor(){this.overlays=new wt(R.comparator),this.Xn=new Map}getOverlay(e,t){return w.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ki();return w.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ie(e,t,s)}),w.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Xn.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Xn.delete(r)),w.resolve()}getOverlaysForCollection(e,t,r){const i=ki(),s=t.length+1,o=new R(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return w.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new wt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let c=s.get(u.largestBatchId);null===c&&(c=ki(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=ki(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return w.resolve(a)}ie(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.Xn.get(i.largestBatchId).delete(r.key);this.Xn.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new NS(t,r));let s=this.Xn.get(t);void 0===s&&(s=pe(),this.Xn.set(t,s)),this.Xn.set(t,s.add(r.key))}}class FS{constructor(){this.Zn=new Be(rn.ts),this.es=new Be(rn.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new rn(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new rn(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new R(new Te([])),r=new rn(t,e),i=new rn(t,e+1),s=[];return this.es.forEachInRange([r,i],o=>{this.rs(o),s.push(o.key)}),s}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new R(new Te([])),r=new rn(t,e),i=new rn(t,e+1);let s=pe();return this.es.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new rn(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class rn{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return R.comparator(e.key,t.key)||de(e.ls,t.ls)}static ns(e,t){return de(e.ls,t.ls)||R.comparator(e.key,t.key)}}class afe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new Be(rn.ts)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.fs;this.fs++;const o=new MS(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.ds=this.ds.add(new rn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,t){return w.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ws(t+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new rn(t,0),i=new rn(t,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([r,i],o=>{const a=this._s(o.ls);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Be(de);return t.forEach(i=>{const s=new rn(i,0),o=new rn(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,o],a=>{r=r.add(a.ls)})}),w.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;R.isDocumentKey(s)||(s=s.child(""));const o=new rn(new R(s),0);let a=new Be(de);return this.ds.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.ls)),!0)},o),w.resolve(this.gs(a))}gs(e){const t=[];return e.forEach(r=>{const i=this._s(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){re(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return w.forEach(t.mutations,i=>{const s=new rn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,t){const r=new rn(t,0),i=this.ds.firstAfterOrEqual(r);return w.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class lfe{constructor(e){this.ps=e,this.docs=new wt(R.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return w.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(t))}getEntries(e,t){let r=or();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Je.newInvalidDocument(i))}),w.resolve(r)}getAllFromCollection(e,t,r){let i=or();const s=new R(t.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!t.isPrefixOf(a.path))break;a.path.length>t.length+1||pS(Oj(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return w.resolve(i)}getAllFromCollectionGroup(e,t,r,i){G()}Is(e,t){return w.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new ufe(this)}getSize(e){return w.resolve(this.size)}}class ufe extends class tfe{constructor(){this.changes=new ao(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Je.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?w.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.zn.addEntry(e,i)):this.zn.removeEntry(r)}),w.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class cfe{constructor(e){this.persistence=e,this.Ts=new ao(t=>xa(t),Mh),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Es=0,this.As=new FS,this.targetCount=0,this.Rs=Va.An()}forEachTarget(e,t){return this.Ts.forEach((r,i)=>t(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Es&&(this.Es=t),w.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Va(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,w.resolve()}updateTargetData(e,t){return this.vn(t),w.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Ts.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Ts.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,t){const r=this.Ts.get(t)||null;return w.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),w.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),w.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return w.resolve(r)}containsKey(e,t){return w.resolve(this.As.containsKey(t))}}class gG{constructor(e,t){this.bs={},this.overlays={},this.Ps=new sr(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new cfe(this),this.indexManager=new Khe,this.remoteDocumentCache=new lfe(r=>this.referenceDelegate.Ss(r)),this.wt=new zH(t),this.Ds=new sfe(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ofe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.bs[e.toKey()];return r||(r=new afe(t,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,r){M("MemoryPersistence","Starting transaction:",e);const i=new dfe(this.Ps.next());return this.referenceDelegate.Cs(),r(i).next(s=>this.referenceDelegate.xs(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ns(e,t){return w.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class dfe extends class kde{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class y_{constructor(e){this.persistence=e,this.ks=new FS,this.Os=null}static Ms(e){return new y_(e)}get Fs(){if(this.Os)return this.Os;throw G()}addReference(e,t,r){return this.ks.addReference(r,t),this.Fs.delete(r.toString()),w.resolve()}removeReference(e,t,r){return this.ks.removeReference(r,t),this.Fs.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),w.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(i=>this.Fs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Fs.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Fs,r=>{const i=R.fromPath(r);return this.$s(e,i).next(s=>{s||t.removeEntry(i,Z.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return w.or([()=>w.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class US{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Pi=r,this.vi=i}static Vi(e,t){let r=pe(),i=pe();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new US(e,t.fromCache,r,i)}}class _G{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ci(e,t).next(s=>s||this.xi(e,t,i,r)).next(s=>s||this.Ni(e,t))}Ci(e,t){return w.resolve(null)}xi(e,t,r,i){return function Yde(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(Z.min())?this.Ni(e,t):this.Di.getDocuments(e,r).next(s=>{const o=this.ki(t,s);return this.Oi(t,o,r,i)?this.Ni(e,t):(dS()<=be.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),CS(t)),this.Mi(e,o,t,function Rj(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(1e9===r?new dt(t+1,0):new dt(t,r));return new Tr(i,R.empty(),e)}(i,-1)))})}ki(e,t){let r=new Be(oH(e));return t.forEach((i,s)=>{TS(e,s)&&(r=r.add(s))}),r}Oi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ni(e,t){return dS()<=be.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",CS(t)),this.Di.getDocumentsMatchingQuery(e,t,Tr.min())}Mi(e,t,r,i){return this.Di.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class ffe{constructor(e,t,r,i){this.persistence=e,this.Fi=t,this.wt=i,this.$i=new wt(de),this.Bi=new ao(s=>xa(s),Mh),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pG(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function vG(n,e){return $S.apply(this,arguments)}function $S(){return $S=_(function*(n,e){const t=F(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.qi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=pe();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return t.localDocuments.getDocuments(r,l).next(u=>({Ki:u,removedBatchIds:o,addedBatchIds:a}))})})}),$S.apply(this,arguments)}function pfe(n,e){const t=F(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Ui.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>u.getEntry(a,f)).next(p=>{const g=l.docVersions.get(f);re(null!==g),p.version.compareTo(g)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=pe();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function wG(n){const e=F(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function gfe(n,e){const t=F(n),r=e.snapshotVersion;let i=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Ui.newChangeBuffer({trackRemovals:!0});i=t.$i;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(t.Vs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>t.Vs.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;e.targetMismatches.has(d)?f=f.withResumeToken(zt.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),g=f,m=c,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(t.Vs.updateTargetData(s,f))});let l=or(),u=pe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function EG(n,e,t){let r=pe(),i=pe();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=or();return t.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Z.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||0===l.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):M("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Gi:o,Qi:i}})}(s,o,e.documentUpdates).next(c=>{l=c.Gi,u=c.Qi})),!r.isEqual(Z.min())){const c=t.Vs.getLastRemoteSnapshotVersion(s).next(d=>t.Vs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(t.$i=i,s))}function mfe(n,e){const t=F(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Fu(n,e){const t=F(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Vs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):t.Vs.allocateTargetId(r).next(o=>(i=new lo(e,o,0,r.currentSequenceNumber),t.Vs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.$i.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.$i=t.$i.insert(r.targetId,r),t.Bi.set(e,r.targetId)),r})}function Lu(n,e,t){return jS.apply(this,arguments)}function jS(){return jS=_(function*(n,e,t){const r=F(n),i=r.$i.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!to(o))throw o;M("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.$i=r.$i.remove(e),r.Bi.delete(i.target)}),jS.apply(this,arguments)}function w_(n,e,t){const r=F(n);let i=Z.min(),s=pe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=F(a),d=c.Bi.get(u);return void 0!==d?w.resolve(c.$i.get(d)):c.Vs.getTargetData(l,u)}(r,o,Ur(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fi.getDocumentsMatchingQuery(o,e,t?i:Z.min(),t?s:pe())).next(a=>(function TG(n,e,t){let r=Z.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Li.set(e,r)}(r,function sH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ji:s})))}class zS{constructor(){this.activeTargetIds=l_()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SG{constructor(){this.Fr=new zS,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new zS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vfe{Br(e){}shutdown(){}}class AG{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const wfe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Efe{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class bfe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,s){const o=this.oo(e,t);M("RestConnection","Sending: ",o,r);const a={};return this.uo(a,i,s),this.co(e,o,a,r).then(l=>(M("RestConnection","Received: ",l),l),l=>{throw Ym("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}ao(e,t,r,i,s,o){return this.ro(e,t,r,i,s)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Eu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}oo(e,t){return`${this.so}/v1/${t}:${wfe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,i){return new Promise((s,o)=>{const a=new bde;a.listenOnce(vde.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case cS.NO_ERROR:const u=a.getResponseJson();M("Connection","XHR received:",JSON.stringify(u)),s(u);break;case cS.TIMEOUT:M("Connection",'RPC "'+e+'" timed out'),o(new x(b.DEADLINE_EXCEEDED,"Request time out"));break;case cS.HTTP_ERROR:const c=a.getStatus();if(M("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(p)>=0?p:b.UNKNOWN}(d.status);o(new x(h,d.message))}else o(new x(b.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new x(b.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{M("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(t,"POST",l,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=_de(),o=yde(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Ede({})),this.uo(a.initMessageHeaders,t,r),Ug()||tC()||function zne(){return Er().indexOf("Electron/")>=0}()||function Kne(){const n=Er();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()||function Qne(){return Er().indexOf("MSAppHost/")>=0}()||$g()||(a.httpHeadersOverwriteParam="$httpHeaders");const l=i.join("");M("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,d=!1;const h=new Efe({jr:p=>{d?M("Connection","Not sending because WebChannel is closed:",p):(c||(M("Connection","Opening WebChannel transport."),u.open(),c=!0),M("Connection","WebChannel sending:",p),u.send(p))},Wr:()=>u.close()}),f=(p,g,m)=>{p.listen(g,v=>{try{m(v)}catch(I){setTimeout(()=>{throw I},0)}})};return f(u,Qm.EventType.OPEN,()=>{d||M("Connection","WebChannel transport opened.")}),f(u,Qm.EventType.CLOSE,()=>{d||(d=!0,M("Connection","WebChannel transport closed"),h.eo())}),f(u,Qm.EventType.ERROR,p=>{d||(d=!0,Ym("Connection","WebChannel transport errored:",p),h.eo(new x(b.UNAVAILABLE,"The operation could not be completed")))}),f(u,Qm.EventType.MESSAGE,p=>{var g;if(!d){const m=p.data[0];re(!!m);const v=m,I=v.error||(null===(g=v[0])||void 0===g?void 0:g.error);if(I){M("Connection","WebChannel received error:",I);const y=I.status;let S=function(H){const ge=Ft[H];if(void 0!==ge)return EH(ge)}(y),L=I.message;void 0===S&&(S=b.INTERNAL,L="Unknown error status: "+y+" with message "+I.message),d=!0,h.eo(new x(S,L)),u.close()}else M("Connection","WebChannel received:",m),h.no(m)}}),f(o,wde.STAT_EVENT,p=>{p.stat===Aj.PROXY?M("Connection","Detected buffering proxy"):p.stat===Aj.NOPROXY&&M("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.Zr()},0),h}}function C_(){return typeof document<"u"?document:null}function Yh(n){return new hhe(n,!0)}class QS{constructor(e,t,r=1e3,i=1.5,s=6e4){this.js=e,this.timerId=t,this.lo=r,this.fo=i,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&M("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class MG{constructor(e,t,r,i,s,o,a,l){this.js=e,this.Ao=r,this.Ro=i,this.bo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new QS(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return _(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return _(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var r=this;return _(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===b.RESOURCE_EXHAUSTED?(Rt(t.toString()),Rt("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===b.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new x(b.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io(_(function*(){e.state=0,e.start()}))}qo(e){return M("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Cfe extends MG{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.wt=s}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function ghe(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:G(),i=e.targetChange.targetIds||[],s=function(l,u){return l.dt?(re(void 0===u||"string"==typeof u),zt.fromBase64String(u||"")):(re(void 0===u||u instanceof Uint8Array),zt.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=void 0===l.code?b.UNKNOWN:EH(l.code);return new x(u,l.message||"")}(o);t=new DH(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ni(n,r.document.name),s=tn(r.document.updateTime),o=new bn({mapValue:{fields:r.document.fields}}),a=Je.newFoundDocument(i,s,o);t=new u_(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Ni(n,r.document),s=r.readTime?tn(r.readTime):Z.min(),o=Je.newNoDocument(i,s);t=new u_([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Ni(n,r.document);t=new u_([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return G();{const r=e.filter,s=new ihe(r.count||0);t=new IH(r.targetId,s)}}var l;return t}(this.wt,e),r=function(i){if(!("targetChange"in i))return Z.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Z.min():s.readTime?tn(s.readTime):Z.min()}(e);return this.listener.Go(t,r)}Qo(e){const t={};t.database=Uh(this.wt),t.addTarget=function(i,s){let o;const a=s.target;return o=r_(a)?{documents:FH(i,a)}:{query:LH(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=MH(i,s.resumeToken):s.snapshotVersion.compareTo(Z.min())>0&&(o.readTime=Vh(i,s.snapshotVersion.toTimestamp())),o}(this.wt,e);const r=function _he(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return G()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Mo(t)}jo(e){const t={};t.database=Uh(this.wt),t.removeTarget=e,this.Mo(t)}}class Tfe extends MG{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.wt=s,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function mhe(n,e){return n&&n.length>0?(re(void 0!==e),n.map(t=>function(r,i){let s=tn(r.updateTime?r.updateTime:i);return s.isEqual(Z.min())&&(s=tn(i)),new the(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=tn(e.commitTime);return this.listener.Jo(r,t)}return re(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Uh(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function $h(n,e){let t;if(e instanceof Mu)t={update:RH(n,e.key,e.value)};else if(e instanceof ku)t={delete:Bh(n,e.key)};else if(e instanceof Ds)t={update:RH(n,e.key,e.data),updateMask:bhe(e.fieldMask)};else{if(!(e instanceof IS))return G();t={verify:Bh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Au)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ma)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ka)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof xu)return{fieldPath:s.field.canonicalString(),increment:o._t};throw G()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:fhe(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:G()),t;var i}(this.wt,r))};this.Mo(t)}}class Ife extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new x(b.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.ro(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new x(b.UNKNOWN,i.toString())})}ao(e,t,r,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.bo.ao(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new x(b.UNKNOWN,s.toString())})}terminate(){this.Zo=!0}}class Dfe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Rt(t),this.su=!1):M("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class Sfe{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br(a=>{r.enqueueAndForget(_(function*(){var l;ho(o)&&(M("RemoteStore","Restarting streams for network reachability change."),yield(l=_(function*(u){const c=F(u);c.lu.add(4),yield Vu(c),c._u.set("Unknown"),c.lu.delete(4),yield Jh(c)}),function(u){return l.apply(this,arguments)})(o))}))}),this._u=new Dfe(r,i)}}function Jh(n){return YS.apply(this,arguments)}function YS(){return YS=_(function*(n){if(ho(n))for(const e of n.fu)yield e(!0)}),YS.apply(this,arguments)}function Vu(n){return JS.apply(this,arguments)}function JS(){return JS=_(function*(n){for(const e of n.fu)yield e(!1)}),JS.apply(this,arguments)}function T_(n,e){const t=F(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),eA(t)?ZS(t):Uu(t).Co()&&XS(t,e))}function Xh(n,e){const t=F(n),r=Uu(t);t.hu.delete(e),r.Co()&&kG(t,e),0===t.hu.size&&(r.Co()?r.ko():ho(t)&&t._u.set("Unknown"))}function XS(n,e){n.wu.Nt(e.targetId),Uu(n).Qo(e)}function kG(n,e){n.wu.Nt(e),Uu(n).jo(e)}function ZS(n){n.wu=new uhe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),Uu(n).start(),n._u.iu()}function eA(n){return ho(n)&&!Uu(n).Do()&&n.hu.size>0}function ho(n){return 0===F(n).lu.size}function NG(n){n.wu=void 0}function Afe(n){return tA.apply(this,arguments)}function tA(){return tA=_(function*(n){n.hu.forEach((e,t)=>{XS(n,e)})}),tA.apply(this,arguments)}function xfe(n,e){return nA.apply(this,arguments)}function nA(){return nA=_(function*(n,e){NG(n),eA(n)?(n._u.uu(e),ZS(n)):n._u.set("Unknown")}),nA.apply(this,arguments)}function Mfe(n,e,t){return rA.apply(this,arguments)}function rA(){return rA=_(function*(n,e,t){if(n._u.set("Online"),e instanceof DH&&2===e.state&&e.cause)try{yield(r=_(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.hu.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.hu.delete(a),i.wu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){M("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield I_(n,r)}else if(e instanceof u_?n.wu.Ut(e):e instanceof IH?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(Z.min()))try{const r=yield wG(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.wu.Yt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.hu.get(l);u&&i.hu.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.hu.get(a);if(!l)return;i.hu.set(a,l.withResumeToken(zt.EMPTY_BYTE_STRING,l.snapshotVersion)),kG(i,a);const u=new lo(l.target,a,1,l.sequenceNumber);XS(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){M("RemoteStore","Failed to raise snapshot:",r),yield I_(n,r)}var r}),rA.apply(this,arguments)}function I_(n,e,t){return iA.apply(this,arguments)}function iA(){return iA=_(function*(n,e,t){if(!to(e))throw e;n.lu.add(1),yield Vu(n),n._u.set("Offline"),t||(t=()=>wG(n.localStore)),n.asyncQueue.enqueueRetryable(_(function*(){M("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield Jh(n)}))}),iA.apply(this,arguments)}function PG(n,e){return e().catch(t=>I_(n,t,e))}function Bu(n){return sA.apply(this,arguments)}function sA(){return sA=_(function*(n){const e=F(n),t=fo(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;kfe(e);)try{const i=yield mfe(e.localStore,r);if(null===i){0===e.au.length&&t.ko();break}r=i.batchId,Nfe(e,i)}catch(i){yield I_(e,i)}RG(e)&&OG(e)}),sA.apply(this,arguments)}function kfe(n){return ho(n)&&n.au.length<10}function Nfe(n,e){n.au.push(e);const t=fo(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function RG(n){return ho(n)&&!fo(n).Do()&&n.au.length>0}function OG(n){fo(n).start()}function Pfe(n){return oA.apply(this,arguments)}function oA(){return oA=_(function*(n){fo(n).Xo()}),oA.apply(this,arguments)}function Rfe(n){return aA.apply(this,arguments)}function aA(){return aA=_(function*(n){const e=fo(n);for(const t of n.au)e.Ho(t.mutations)}),aA.apply(this,arguments)}function Ofe(n,e,t){return lA.apply(this,arguments)}function lA(){return lA=_(function*(n,e,t){const r=n.au.shift(),i=kS.from(r,e,t);yield PG(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Bu(n)}),lA.apply(this,arguments)}function Ffe(n,e){return uA.apply(this,arguments)}function uA(){return uA=_(function*(n,e){var t;e&&fo(n).zo&&(yield(t=_(function*(r,i){if(wH(s=i.code)&&s!==b.ABORTED){const o=r.au.shift();fo(r).No(),yield PG(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Bu(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),RG(n)&&OG(n)}),uA.apply(this,arguments)}function FG(n,e){return cA.apply(this,arguments)}function cA(){return cA=_(function*(n,e){const t=F(n);t.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");const r=ho(t);t.lu.add(3),yield Vu(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Jh(t)}),cA.apply(this,arguments)}function hA(){return hA=_(function*(n,e){const t=F(n);e?(t.lu.delete(2),yield Jh(t)):e||(t.lu.add(2),yield Vu(t),t._u.set("Unknown"))}),hA.apply(this,arguments)}function Uu(n){return n.mu||(n.mu=function(e,t,r){const i=F(e);return i.tu(),new Cfe(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:Afe.bind(null,n),Jr:xfe.bind(null,n),Go:Mfe.bind(null,n)}),n.fu.push(function(){var e=_(function*(t){t?(n.mu.No(),eA(n)?ZS(n):n._u.set("Unknown")):(yield n.mu.stop(),NG(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function fo(n){return n.gu||(n.gu=function(e,t,r){const i=F(e);return i.tu(),new Tfe(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:Pfe.bind(null,n),Jr:Ffe.bind(null,n),Yo:Rfe.bind(null,n),Jo:Ofe.bind(null,n)}),n.fu.push(function(){var e=_(function*(t){t?(n.gu.No(),yield Bu(n)):(yield n.gu.stop(),n.au.length>0&&(M("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class fA{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new en,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new fA(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new x(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $u(n,e){if(Rt("AsyncQueue",`${e}: ${n}`),to(n))return new x(b.UNAVAILABLE,`${e}: ${n}`);throw n}class ju{constructor(e){this.comparator=e?(t,r)=>e(t,r)||R.comparator(t.key,r.key):(t,r)=>R.comparator(t.key,r.key),this.keyedMap=Rh(),this.sortedSet=new wt(this.comparator)}static emptySet(e){return new ju(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ju)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new ju;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class LG{constructor(){this.yu=new wt(R.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):G():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Hu{constructor(e,t,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(e,t,r,i){const s=[];return t.forEach(o=>{s.push({type:0,doc:o})}),new Hu(e,t,ju.emptySet(t),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Lfe{constructor(){this.Iu=void 0,this.listeners=[]}}class Vfe{constructor(){this.queries=new ao(e=>iH(e),kh),this.onlineState="Unknown",this.Tu=new Set}}function gA(){return gA=_(function*(n,e){const t=F(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new Lfe),i)try{s.Iu=yield t.onListen(r)}catch(o){const a=$u(o,`Initialization of query '${CS(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Eu(t.onlineState),s.Iu&&e.Au(s.Iu)&&yA(t)}),gA.apply(this,arguments)}function _A(){return _A=_(function*(n,e){const t=F(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),_A.apply(this,arguments)}function Bfe(n,e){const t=F(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.Au(i)&&(r=!0);o.Iu=i}}r&&yA(t)}function Ufe(n,e,t){const r=F(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function yA(n){n.Tu.forEach(e=>{e.next()})}class vA{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Hu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class UG{constructor(e){this.key=e}}class $G{constructor(e){this.key=e}}class jG{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=pe(),this.mutatedKeys=pe(),this.Lu=oH(e),this.Uu=new ju(this.Lu)}get qu(){return this.Fu}Ku(e,t){const r=t?t.Gu:new LG,i=t?t.Uu:this.Uu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=TS(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.Qu(h,f)||(r.track({type:2,doc:f}),m=!0,(l&&this.Lu(f,l)>0||u&&this.Lu(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(l||u)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Uu:o,Gu:r,Oi:a,mutatedKeys:s}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const s=e.Gu.pu();s.sort((u,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return f(d)-f(h)}(u.type,c.type)||this.Lu(u.doc,c.doc)),this.ju(r);const o=t?this.Wu():[],a=0===this.Bu.size&&this.current?1:0,l=a!==this.$u;return this.$u=a,0!==s.length||l?{snapshot:new Hu(this.query,e.Uu,i,s,e.mutatedKeys,0===a,l,!1),zu:o}:{zu:o}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new LG,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=pe(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new $G(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new UG(r))}),t}Ju(e){this.Fu=e.ji,this.Bu=pe();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return Hu.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class Hfe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Gfe{constructor(e){this.key=e,this.Xu=!1}}class qfe{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new ao(a=>iH(a),kh),this.ec=new Map,this.nc=new Set,this.sc=new wt(R.comparator),this.ic=new Map,this.rc=new FS,this.oc={},this.uc=new Map,this.cc=Va.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function Wfe(n,e){return wA.apply(this,arguments)}function wA(){return wA=_(function*(n,e){const t=HA(n);let r,i;const s=t.tc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.Yu();else{const o=yield Fu(t.localStore,Ur(e));t.isPrimaryClient&&T_(t.remoteStore,o);const a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield EA(t,e,r,"current"===a)}return i}),wA.apply(this,arguments)}function EA(n,e,t,r){return bA.apply(this,arguments)}function bA(){return bA=_(function*(n,e,t,r){n.hc=(c,d,h)=>{return(f=_(function*(p,g,m,v){let I=g.view.Ku(m);I.Oi&&(I=yield w_(p.localStore,g.query,!1).then(({documents:L})=>g.view.Ku(L,I)));const y=v&&v.targetChanges.get(g.targetId),S=g.view.applyChanges(I,p.isPrimaryClient,y);return NA(p,g.targetId,S.zu),S.snapshot}),function(p,g,m,v){return f.apply(this,arguments)})(n,c,d,h);var f};const i=yield w_(n.localStore,e,!0),s=new jG(e,i.ji),o=s.Ku(i.documents),a=Lh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),l=s.applyChanges(o,n.isPrimaryClient,a);NA(n,t,l.zu);const u=new Hfe(e,t,s);return n.tc.set(e,u),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),l.snapshot}),bA.apply(this,arguments)}function zfe(n,e){return CA.apply(this,arguments)}function CA(){return CA=_(function*(n,e){const t=F(n),r=t.tc.get(e),i=t.ec.get(r.targetId);if(i.length>1)return t.ec.set(r.targetId,i.filter(s=>!kh(s,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Lu(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Xh(t.remoteStore,r.targetId),Gu(t,r.targetId)}).catch(eo))):(Gu(t,r.targetId),yield Lu(t.localStore,r.targetId,!0))}),CA.apply(this,arguments)}function TA(){return TA=_(function*(n,e,t){const r=GA(n);try{const i=yield function(s,o){const a=F(s),l=dt.now(),u=o.reduce((h,f)=>h.add(f.key),pe());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=or(),p=pe();return a.Ui.getEntries(h,u).next(g=>{f=g,f.forEach((m,v)=>{v.isValidDocument()||(p=p.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{c=g;const m=[];for(const v of o){const I=rhe(v,c.get(v.key).overlayedDocument);null!=I&&m.push(new Ds(v.key,I,Qj(I.value.mapValue),ht.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,m,o)}).next(g=>{d=g;const m=g.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,m)})}).then(()=>({batchId:d.batchId,changes:CH(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.oc[s.currentUser.toKey()];l||(l=new wt(de)),l=l.insert(o,a),s.oc[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Ss(r,i.changes),yield Bu(r.remoteStore)}catch(i){const s=$u(i,"Failed to persist write");t.reject(s)}}),TA.apply(this,arguments)}function HG(n,e){return IA.apply(this,arguments)}function IA(){return IA=_(function*(n,e){const t=F(n);try{const r=yield gfe(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.ic.get(s);o&&(re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Xu=!0:i.modifiedDocuments.size>0?re(o.Xu):i.removedDocuments.size>0&&(re(o.Xu),o.Xu=!1))}),yield Ss(t,r,e)}catch(r){yield eo(r)}}),IA.apply(this,arguments)}function GG(n,e,t){const r=F(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.tc.forEach((s,o)=>{const a=o.view.Eu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=F(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Eu(o)&&(l=!0)}),l&&yA(a)}(r.eventManager,e),i.length&&r.Zu.Go(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Qfe(n,e,t){return DA.apply(this,arguments)}function DA(){return DA=_(function*(n,e,t){const r=F(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ic.get(e),s=i&&i.key;if(s){let o=new wt(R.comparator);o=o.insert(s,Je.newNoDocument(s,Z.min()));const a=pe().add(s),l=new Fh(Z.min(),new Map,new Be(de),o,a);yield HG(r,l),r.sc=r.sc.remove(s),r.ic.delete(e),PA(r)}else yield Lu(r.localStore,e,!1).then(()=>Gu(r,e,t)).catch(eo)}),DA.apply(this,arguments)}function Yfe(n,e){return SA.apply(this,arguments)}function SA(){return SA=_(function*(n,e){const t=F(n),r=e.batch.batchId;try{const i=yield pfe(t.localStore,e);kA(t,r,null),MA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ss(t,i)}catch(i){yield eo(i)}}),SA.apply(this,arguments)}function Jfe(n,e,t){return AA.apply(this,arguments)}function AA(){return AA=_(function*(n,e,t){const r=F(n);try{const i=yield function(s,o){const a=F(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(re(null!==c),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);kA(r,e,t),MA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ss(r,i)}catch(i){yield eo(i)}}),AA.apply(this,arguments)}function MA(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function kA(n,e,t){const r=F(n);let i=r.oc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.oc[r.currentUser.toKey()]=i}}function Gu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ec.get(e))n.tc.delete(r),t&&n.Zu.lc(r,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(r=>{n.rc.containsKey(r)||qG(n,r)})}function qG(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(Xh(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),PA(n))}function NA(n,e,t){for(const r of t)r instanceof UG?(n.rc.addReference(r.key,e),Zfe(n,r)):r instanceof $G?(M("SyncEngine","Document no longer in limbo: "+r.key),n.rc.removeReference(r.key,e),n.rc.containsKey(r.key)||qG(n,r.key)):G()}function Zfe(n,e){const t=e.key,r=t.path.canonicalString();n.sc.get(t)||n.nc.has(r)||(M("SyncEngine","New document in limbo: "+t),n.nc.add(r),PA(n))}function PA(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new R(Te.fromString(e)),r=n.cc.next();n.ic.set(r,new Gfe(t)),n.sc=n.sc.insert(t,r),T_(n.remoteStore,new lo(Ur(Du(t.path)),r,2,sr.ot))}}function Ss(n,e,t){return RA.apply(this,arguments)}function RA(){return RA=_(function*(n,e,t){const r=F(n),i=[],s=[],o=[];var a;r.tc.isEmpty()||(r.tc.forEach((a,l)=>{o.push(r.hc(l,e,t).then(u=>{if(u){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u.fromCache?"not-current":"current"),i.push(u);const c=US.Vi(l.targetId,u);s.push(c)}}))}),yield Promise.all(o),r.Zu.Go(i),yield(a=_(function*(l,u){const c=F(l);try{yield c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(u,h=>w.forEach(h.Pi,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.vi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!to(d))throw d;M("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.$i.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);c.$i=c.$i.insert(h,g)}}}),function(l,u){return a.apply(this,arguments)})(r.localStore,s))}),RA.apply(this,arguments)}function epe(n,e){return OA.apply(this,arguments)}function OA(){return OA=_(function*(n,e){const t=F(n);if(!t.currentUser.isEqual(e)){M("SyncEngine","User change. New user:",e.toKey());const r=yield vG(t.localStore,e);t.currentUser=e,(i=t).uc.forEach(o=>{o.forEach(a=>{a.reject(new x(b.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.uc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ss(t,r.Ki)}var i}),OA.apply(this,arguments)}function tpe(n,e){const t=F(n),r=t.ic.get(e);if(r&&r.Xu)return pe().add(r.key);{let i=pe();const s=t.ec.get(e);if(!s)return i;for(const o of s){const a=t.tc.get(o);i=i.unionWith(a.view.qu)}return i}}function HA(n){const e=F(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=HG.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tpe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Qfe.bind(null,e),e.Zu.Go=Bfe.bind(null,e.eventManager),e.Zu.lc=Ufe.bind(null,e.eventManager),e}function GA(n){const e=F(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Yfe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Jfe.bind(null,e),e}class cpe{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return _(function*(){t.wt=Yh(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return function yG(n,e,t,r){return new ffe(n,e,t,r)}(this.persistence,new _G,e.initialUser,this.wt)}_c(e){return new gG(y_.Ms,this.wt)}dc(e){return new SG}terminate(){var e=this;return _(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class qA{initialize(e,t){var r=this;return _(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>GG(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=epe.bind(null,r.syncEngine),yield function dA(n,e){return hA.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Vfe}createDatastore(e){const t=Yh(e.databaseInfo.databaseId),r=new bfe(e.databaseInfo);return new Ife(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>GG(this.syncEngine,a,0),o=AG.V()?new AG:new vfe,new Sfe(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,l,u){const c=new qfe(r,i,s,o,a,l);return u&&(c.ac=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=_(function*(t){const r=F(t);M("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield Vu(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class D_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class mpe{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Zt.UNAUTHENTICATED,this.clientId=Nj.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=_(function*(a){M("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(M("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new x(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new en;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=$u(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function QG(n,e){return WA.apply(this,arguments)}function WA(){return WA=_(function*(n,e){n.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=_(function*(s){r.isEqual(s)||(yield vG(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),WA.apply(this,arguments)}function YG(n,e){return zA.apply(this,arguments)}function zA(){return zA=_(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield KA(n);M("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>FG(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>FG(e.remoteStore,s)),n.onlineComponents=e}),zA.apply(this,arguments)}function KA(n){return QA.apply(this,arguments)}function QA(){return QA=_(function*(n){return n.offlineComponents||(M("FirestoreClient","Using default OfflineComponentProvider"),yield QG(n,new cpe)),n.offlineComponents}),QA.apply(this,arguments)}function S_(n){return YA.apply(this,arguments)}function YA(){return YA=_(function*(n){return n.onlineComponents||(M("FirestoreClient","Using default OnlineComponentProvider"),yield YG(n,new qA)),n.onlineComponents}),YA.apply(this,arguments)}function qu(n){return ZA.apply(this,arguments)}function ZA(){return ZA=_(function*(n){const e=yield S_(n),t=e.eventManager;return t.onListen=Wfe.bind(null,e.syncEngine),t.onUnlisten=zfe.bind(null,e.syncEngine),t}),ZA.apply(this,arguments)}const t3=new Map;function ex(n,e,t){if(!t)throw new x(b.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function n3(n){if(!R.isDocumentKey(n))throw new x(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function r3(n){if(R.isDocumentKey(n))throw new x(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function A_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":G()}function De(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new x(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=A_(n);throw new x(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class s3{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new x(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new x(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Ipe(n,e,t,r){if(!0===e&&!0===r)throw new x(b.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s3({}),this._settingsFrozen=!1,e instanceof ro?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new x(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ro(i.options.projectId)}(e))}get app(){if(!this._app)throw new x(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new x(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s3(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Cde;switch(t.type){case"gapi":const r=t.client;return re(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Sde(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new x(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=t3.get(e);t&&(M("ComponentProvider","Removing Datastore"),t3.delete(e),t.terminate())}(this),Promise.resolve()}}class Tt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}}class Rn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Rn(this.firestore,e,this._query)}}class Ri extends Rn{constructor(e,t,r){super(e,t,Du(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new R(e))}withConverter(e){return new Ri(this.firestore,e,this._path)}}function Dpe(n,e,...t){if(n=kn(n),ex("collection","path",e),n instanceof Zh){const r=Te.fromString(e,...t);return r3(r),new Ri(n,null,r)}{if(!(n instanceof Tt||n instanceof Ri))throw new x(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Te.fromString(e,...t));return r3(r),new Ri(n.firestore,null,r)}}function o3(n,e,...t){if(n=kn(n),1===arguments.length&&(e=Nj.I()),ex("doc","path",e),n instanceof Zh){const r=Te.fromString(e,...t);return n3(r),new Tt(n,null,new R(r))}{if(!(n instanceof Tt||n instanceof Ri))throw new x(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Te.fromString(e,...t));return n3(r),new Tt(n.firestore,n instanceof Ri?n.converter:null,new R(r))}}class Ape{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new QS(this,"async_queue_retry"),this.Kc=()=>{const t=C_();t&&M("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=C_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=C_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new en;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return _(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!to(t))throw t;M("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,Rt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Oc=t,t}enqueueAfterDelay(e,t,r){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const i=fA.createAndSchedule(this,e,t,r,s=>this.Wc(s));return this.$c.push(i),i}Gc(){this.Bc&&G()}verifyOperationInProgress(){}zc(){var e=this;return _(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function tx(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class st extends Zh{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new Ape,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||a3(this),this._firestoreClient.terminate()}}function Mpe(n=yC()){return Bd(n,"firestore").getImmediate()}function Kt(n){return n._firestoreClient||a3(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function a3(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Lde(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new mpe(n._authCredentials,n._appCheckCredentials,n._queue,r)}class Wu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new x(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ua(zt.fromBase64String(e))}catch(t){throw new x(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ua(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class nx{constructor(e){this._methodName=e}}class rx{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new x(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new x(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}}const kpe=/^__.*__$/;class Npe{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ds(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mu(e,this.data,t,this.fieldTransforms)}}class c3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ds(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function d3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}class x_{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.wt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Xc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new x_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.sa(e),i}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.Xc(),i}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return k_(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(d3(this.Zc)&&kpe.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class Ppe{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=r||Yh(e)}aa(e,t,r,i=!1){return new x_({Zc:e,methodName:t,ca:r,path:Ot.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function zu(n){const e=n._freezeSettings(),t=Yh(n._databaseId);return new Ppe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ix(n,e,t,r,i,s={}){const o=n.aa(s.merge||s.mergeFields?2:0,e,t,i);ox("Data must be an object, but it was:",o,r);const a=m3(r,o);let l,u;if(s.merge)l=new Ir(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=ax(e,d,t);if(!o.contains(h))throw new x(b.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);y3(c,h)||c.push(h)}l=new Ir(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new Npe(new bn(a),l,u)}class ef extends nx{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ef}}function $a(n,e){if(_3(n=kn(n)))return ox("Unsupported field value:",e,n),m3(n,e);if(n instanceof nx)return function(t,r){if(!d3(r.Zc))throw r.oa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=$a(o,r.ra(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=kn(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return uH(r.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=dt.fromDate(t);return{timestampValue:Vh(r.wt,i)}}if(t instanceof dt){const i=new dt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Vh(r.wt,i)}}if(t instanceof rx)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ua)return{bytesValue:MH(r.wt,t._byteString)};if(t instanceof Tt){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.oa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:DS(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.oa(`Unsupported field value: ${A_(t)}`)}(n,e)}function m3(n,e){const t={};return Bj(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ia(n,(r,i)=>{const s=$a(i,e.ea(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function _3(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof dt||n instanceof rx||n instanceof Ua||n instanceof Tt||n instanceof nx)}function ox(n,e,t){if(!_3(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=A_(t);throw e.oa("an object"===r?n+" a custom object":n+" "+r)}var r}function ax(n,e,t){if((e=kn(e))instanceof Wu)return e._internalPath;if("string"==typeof e)return M_(n,e);throw k_("Field path arguments must be of type string or ",n,!1,void 0,t)}const Lpe=new RegExp("[~\\*/\\[\\]]");function M_(n,e,t){if(e.search(Lpe)>=0)throw k_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Wu(...e.split("."))._internalPath}catch{throw k_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function k_(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new x(b.INVALID_ARGUMENT,a+n+l)}function y3(n,e){return n.some(t=>t.isEqual(e))}class lx{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Vpe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(N_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Vpe extends lx{data(){return super.data()}}function N_(n,e){return"string"==typeof e?M_(n,e):e instanceof Wu?e._internalPath:e._delegate._internalPath}class ja{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ku extends lx{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new P_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(N_("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class P_ extends Ku{data(e={}){return super.data(e)}}class Qu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ja(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new P_(this._firestore,this._userDataWriter,r.key,r,new ja(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new x(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new P_(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ja(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new P_(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ja(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return 0!==o.type&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:Bpe(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Bpe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}class Ha extends class Hpe{convertValue(e,t="none"){switch(Sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw G()}}convertObject(e,t){const r={};return Ia(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new rx(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=$j(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Th(e));default:return null}}convertTimestamp(e){const t=no(e);return new dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Te.fromString(e);re(UH(r));const i=new ro(r.get(1),r.get(3)),s=new R(r.popFirst(5));return i.isEqual(t)||Rt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ua(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,t)}}function qpe(n,e,t){n=De(n,Tt);const r=De(n.firestore,st),i=function ux(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);return tf(r,[ix(zu(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,ht.none())])}function Wpe(n,e,t,...r){n=De(n,Tt);const i=De(n.firestore,st),s=zu(i);let o;return o="string"==typeof(e=kn(e))||e instanceof Wu?function p3(n,e,t,r,i,s){const o=n.aa(1,e,t),a=[ax(e,r,t)],l=[i];if(s.length%2!=0)throw new x(b.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(ax(e,s[h])),l.push(s[h+1]);const u=[],c=bn.empty();for(let h=a.length-1;h>=0;--h)if(!y3(u,a[h])){const f=a[h];let p=l[h];p=kn(p);const g=o.ia(f);if(p instanceof ef)u.push(f);else{const m=$a(p,g);null!=m&&(u.push(f),c.set(f,m))}}const d=new Ir(u);return new c3(c,d,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,r):function f3(n,e,t,r){const i=n.aa(1,e,t);ox("Data must be an object, but it was:",i,r);const s=[],o=bn.empty();Ia(r,(l,u)=>{const c=M_(e,l,t);u=kn(u);const d=i.ia(c);if(u instanceof ef)s.push(c);else{const h=$a(u,d);null!=h&&(s.push(c),o.set(c,h))}});const a=new Ir(s);return new c3(o,a,i.fieldTransforms)}(s,"updateDoc",n._key,e),tf(i,[o.toMutation(n._key,ht.exists(!0))])}function zpe(n){return tf(De(n.firestore,st),[new ku(n._key,ht.none())])}function tf(n,e){return function(t,r){const i=new en;return t.asyncQueue.enqueueAndForget(_(function*(){return function Kfe(n,e,t){return TA.apply(this,arguments)}(yield function XA(n){return S_(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Kt(n),e)}!function(n,e=!0){Eu="9.8.4",Nn(new gn("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),s=new st(i,new Ide(t.getProvider("auth-internal")),new Ade(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),rt(xj,"3.4.11",n),rt(xj,"3.4.11","esm2017")}();var Ype={includeMetadataChanges:!1};function dx(n,e){return void 0===e&&(e=Ype),new at(function(t){var r=function Kpe(n,...e){var t,r,i;n=kn(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||tx(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(tx(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let l,u,c;if(n instanceof Tt)u=De(n.firestore,st),c=Du(n._key.path),l={next:d=>{e[o]&&e[o](function cx(n,e,t){const r=t.docs.get(e._key),i=new Ha(n);return new Ku(n,i,e._key,r,new ja(t.hasPendingWrites,t.fromCache),e.converter)}(u,n,d))},error:e[o+1],complete:e[o+2]};else{const d=De(n,Rn);u=De(d.firestore,st),c=d._query;const h=new Ha(u);l={next:f=>{e[o]&&e[o](new Qu(u,h,d,f))},error:e[o+1],complete:e[o+2]},function v3(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new x(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,f,p){const g=new D_(p),m=new vA(h,g,f);return d.asyncQueue.enqueueAndForget(_(function*(){return function pA(n,e){return gA.apply(this,arguments)}(yield qu(d),m)})),()=>{g.Tc(),d.asyncQueue.enqueueAndForget(_(function*(){return function mA(n,e){return _A.apply(this,arguments)}(yield qu(d),m)}))}}(Kt(u),c,a,l)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function Xpe(n,e){return void 0===e&&(e={}),function Jpe(n){return dx(n,{includeMetadataChanges:!0})}(n).pipe(Ue(function(t){return function A3(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(t,e)}))}class O_{constructor(e){return e}}const N3="firestore",px=new Q("angularfire2.firestore-instances");function oge(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new O_(r)}}const age={provide:class ige{constructor(){return nm(N3)}},deps:[[new ut,px]]},lge={provide:O_,useFactory:function sge(n,e){const t=tm(N3,n,e);return t&&new O_(t)},deps:[[new ut,px],fa]};let uge=(()=>{class n{constructor(){rt("angularfire",em.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=St({type:n}),n.\u0275inj=bt({providers:[lge,age]}),n})();function cge(n,...e){return{ngModule:uge,providers:[{provide:px,useFactory:oge(n),multi:!0,deps:[Ve,jt,tI,nI,[new ut,e0],[new ut,y0],...e]}]}}const dge=_s(Xpe,!0),hge=_s(Dpe,!0),fge=_s(zpe,!0),F_=_s(o3,!0),pge=_s(Mpe,!0),gge=_s(qpe,!0),mge=_s(Wpe,!0),_ge={id:"",player:{name:"",origin:"none",sparkEffect:"",currentLife:0,totalLife:0,currentStability:0,totalStability:0,defence:!1},history:"",annotations:"",weapons:[],fa:{id:-1,level:"D"},attributes:{FOR:{name:"For\xe7a",totalValue:0,shortName:"FOR",info:"",color:"C724B1"},DES:{name:"Destreza",totalValue:0,shortName:"DES",info:"",color:"E0E722"},CON:{name:"Constitui\xe7\xe3o",totalValue:0,shortName:"CON",info:"",color:"44D62C"},POD:{name:"Poder",totalValue:0,shortName:"POD",info:"",color:"4D4DFF"},PER:{name:"Percep\xe7\xe3o",totalValue:0,shortName:"PER",info:"",color:"D22730"},MED:{name:"Medicina",totalValue:0,shortName:"MED",info:"",color:"FFAD00"},OUT:{name:"Outros",totalValue:0,shortName:"OUT",info:"",color:"FFAD00"}}};let gx=(()=>{class n{constructor(t,r){this.firestore=t,this.toastr=r,this.collection=hge(t,"page")}getsheet(t){var r=this;return _(function*(){return dge(F_(r.collection,t))})()}create(t){var r=this;return _(function*(){const i=_ge;yield gge(F_(r.collection,t),{...i,id:t}).then(()=>{r.toastr.success("Ficha criada","Parab\xe9ns!")}).catch(s=>{r.toastr.error("Erro na cria\xe7\xe3o da ficha","Algo deu errado!")})})()}update(t,r){var i=this;return _(function*(){console.log("Ficha salva: ",r),yield mge(F_(i.collection,t),{...r}).then(()=>{i.toastr.success("Ficha atualizada","Parab\xe9ns!")}).catch(s=>{console.error(s),i.toastr.error("Erro na atualiza\xe7\xe3o da ficha","Algo deu errado!")})})()}delete(t){var r=this;return _(function*(){yield fge(F_(r.collection,t)).then(()=>{r.toastr.error("At\xe9 a pr\xf3xima","Tchau ficha!")}).catch(i=>{console.error(i),r.toastr.warning("Erro na dele\xe7\xe3o da ficha","Algo deu errado!")})})()}}return n.\u0275fac=function(t){return new(t||n)(N(O_),N(na))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mx=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Bt({type:n,selectors:[["app-footer"]],decls:11,vars:0,consts:[[1,"accent-container"],[1,"p2","flex","flex-column","align-center","gap1"],[1,"font-size-title"],[1,"flex","justify-center","flex-wrap","gap1"],["href","https://www.linkedin.com/in/ofelipescherer/","target","_blank","alt","Linkedin"],["alt","Linkedin","onerror","","src","https://img.shields.io/badge/-Linkedin-0e76a8?logo=Linkedin&logoColor=white&https://www.linkedin.com/in/ofelipescherer/"],["href","https://github.com/ofelipescherer","target","_blank","alt","Github"],["alt","Github","onerror","","src","https://img.shields.io/badge/-Github-100000?logo=github&logoColor=white&link=https://github.com/ofelipescherer"],["alt","Github","onerror","","src","https://img.shields.io/github/license/ofelipescherer/rpg-angular-v2.svg"]],template:function(t,r){1&t&&(C(0,"footer",0)(1,"div",1)(2,"span",2),D(3,"Created By Felipe Scherer"),E(),C(4,"div",3)(5,"a",4),Fe(6,"img",5),E(),C(7,"a",6),Fe(8,"img",7),E(),C(9,"a",6),Fe(10,"img",8),E()()()())}}),n})();function yge(n,e){if(1&n&&(C(0,"span",17),D(1),E()),2&n){const t=Ae();k(1),un("Code: ",t.id,"")}}function vge(n,e){1&n&&(C(0,"span",18),D(1," dark_mode "),E())}function wge(n,e){1&n&&(C(0,"span",18),D(1," light_mode "),E())}let _x=(()=>{class n{constructor(t,r){this.router=t,this.utilService=r,this.theme=document.documentElement.getAttribute("data-theme")||"light",this.id=this.router.url.split("/")[2]}ngOnInit(){this.utilService.changeID(this.id)}changeTheme(){let t=document.documentElement.getAttribute("data-theme");document.documentElement.setAttribute("data-theme","dark"===t?"light":"dark"),this.theme="dark"===t?"light":"dark"}openNav(){document.getElementById("mySidenav").style.display="flex",document.getElementById("overlay").style.display="block",document.getElementById("mySidenav").style.zIndex="20"}closeNav(){document.getElementById("mySidenav").style.display="none",document.getElementById("overlay").style.display="none",document.getElementById("mySidenav").style.zIndex="1"}}return n.\u0275fac=function(t){return new(t||n)(T(hn),T(Di))},n.\u0275cmp=Bt({type:n,selectors:[["app-header"]],decls:27,vars:3,consts:[[1,"accent-container"],[1,"max-size","p05","flex","flex-column"],[1,"flex","justify-between"],[1,"font-size-title"],["class","font-size-text mt05",4,"ngIf"],[1,"flex","gap05","align-center"],[3,"click"],["class","material-symbols-outlined",4,"ngIf"],[2,"font-size","30px","cursor","pointer",3,"click"],["id","overlay",1,"overlay",3,"click"],["id","mySidenav",1,"sidenav","background-accent"],[1,"material-symbols-outlined","btn-close",3,"click"],["href","https://github.com/ofelipescherer/rpg-angular-v2/blob/main/src/rules-readme/rules.md","target","_blank"],["href","https://github.com/ofelipescherer/rpg-angular-v2/blob/main/src/rules-readme/notes.md","target","_blank"],["href","https://github.com/ofelipescherer/rpg-angular-v2/blob/main/src/rules-readme/combat.md","target","_blank"],["href","https://github.com/ofelipescherer/rpg-angular-v2/blob/main/src/rules-readme/equipment.md","target","_blank"],["href","https://github.com/ofelipescherer/rpg-angular-v2/blob/main/src/rules-readme/stability.md","target","_blank"],[1,"font-size-text","mt05"],[1,"material-symbols-outlined"]],template:function(t,r){1&t&&(C(0,"nav",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),D(5,"What Happened in that Day"),E(),Oe(6,yge,2,1,"span",4),E(),C(7,"div",5)(8,"button",6),ne("click",function(){return r.changeTheme()}),Oe(9,vge,2,0,"span",7),Oe(10,wge,2,0,"span",7),E(),C(11,"span",8),ne("click",function(){return r.openNav()}),D(12,"\u2630"),E(),C(13,"div",9),ne("click",function(){return r.closeNav()}),E(),C(14,"div",10)(15,"span",11),ne("click",function(){return r.closeNav()}),D(16," close "),E(),C(17,"a",12),D(18,"Documento de Regras"),E(),C(19,"a",13),D(20,"Notas"),E(),C(21,"a",14),D(22,"Regras de Combate"),E(),C(23,"a",15),D(24,"Lista de Equipamentos"),E(),C(25,"a",16),D(26,"Regras de Estabilidade"),E()()()()()()),2&t&&(k(6),z("ngIf",r.id),k(3),z("ngIf","dark"===r.theme),k(1),z("ngIf","light"===r.theme))},dependencies:[ru],styles:["[_ngcontent-%COMP%]:root, html[data-theme=light][_ngcontent-%COMP%]{--background-color: #f4f4f4;--background-input: #ffffff;--background-accent: #231b6b;--text-color: #121218;--subtext-color: #00000080;--text-accent-color: #ffffff;--card-shadow: rgba(0, 0, 0, 25%)}html[data-theme=dark][_ngcontent-%COMP%]{--background-color: #1d1d1d;--background-input: #313131;--background-accent: #000630;--text-color: #ececec;--subtext-color: #ffffff80;--text-accent-color: #f3f3f3;--card-shadow: rgba(255, 255, 255, 25%)}.background-color[_ngcontent-%COMP%]{background-color:var(--background-color)}.background-accent[_ngcontent-%COMP%], .accent-container[_ngcontent-%COMP%]{background-color:var(--background-accent)}.text-color[_ngcontent-%COMP%]{color:var(--text-color)!important}.subtext-color[_ngcontent-%COMP%]{color:var(--subtext-color)!important}.text-accent-color[_ngcontent-%COMP%], .accent-container[_ngcontent-%COMP%]{color:var(--text-accent-color)}.card-shadow[_ngcontent-%COMP%]{box-shadow:0 4px 4px 4px var(--card-shadow)}.sidenav[_ngcontent-%COMP%]{display:none;flex-direction:column;align-items:flex-end;padding:0 2rem 1rem 0;height:100%;width:0;position:fixed;width:260px;z-index:1;gap:1rem;top:0;right:0;overflow-x:hidden;transition:.5s;transition:visibility 0s,opacity .5s linear;animation-name:showHide;animation-duration:.5s}.sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-accent-color);font-size:12px;text-align:end}.sidenav[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{color:var(--text-accent-color);height:1.2rem;width:1.2rem;font-size:1.2rem;cursor:pointer;margin:1rem 0}@keyframes showHide{0%{width:0px}to{width:260px}}.overlay[_ngcontent-%COMP%]{position:fixed;top:0px;right:0px;bottom:0px;left:0px;width:100%;height:100%;z-index:10;background-color:#0000006c;display:none}"]}),n})(),Ege=(()=>{class n{constructor(t,r,i){this.firestoreService=t,this.router=r,this.utilService=i,this.unsubscribe$=new et,this.id=this.router.url.split("/")[2]}ngOnInit(){var t=this;return _(function*(){yield t.isSheetAlreadyCreated()})()}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}isSheetAlreadyCreated(){var t=this;return _(function*(){(yield t.firestoreService.getsheet(t.id)).pipe(ls(t.unsubscribe$)).subscribe(r=>{console.log(r),r?t.utilService.changeSheet(r):(t.firestoreService.create(t.id),t.utilService.changeID(t.id))})})()}}return n.\u0275fac=function(t){return new(t||n)(T(gx),T(hn),T(Di))},n.\u0275cmp=Bt({type:n,selectors:[["app-body"]],decls:6,vars:0,consts:[[1,"flex","flex-column","min-h-100"],[1,"background-color","text-color","flex-fill"],[1,"p1","max-size"]],template:function(t,r){1&t&&(C(0,"div",0),Fe(1,"app-header"),C(2,"div",1)(3,"div",2),Fe(4,"router-outlet"),E()(),Fe(5,"app-footer"),E())},dependencies:[vg,mx,_x]}),n})();function P3(n,e=qB){return Lt((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const u=s;s=null,r.next(u)}};function l(){const u=o+n,c=e.now();if(c<u)return i=this.schedule(void 0,u-c),void r.add(i);a()}t.subscribe(Dt(r,u=>{s=u,o=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function yx(n){return Wo((e,t)=>n<=t)}function bge(n,e){if(1&n){const t=jl();C(0,"div",25),ne("click",function(){const s=Ps(t).index;return Rs(Ae().changeCounterAttack(s))}),E()}2&n&&z("ngClass",e.$implicit?"selected":"")}let R3=(()=>{class n{constructor(t,r){this.utilService=t,this.toastr=r,this.playerForm=new xd({name:new fn("",Vr.required),sparkEffect:new fn(""),origin:new fn("",Vr.required),currentLife:new fn(0,Vr.required),totalLife:new fn(0,Vr.required),currentStability:new fn(0,Vr.required),totalStability:new fn(0,Vr.required),defence:new fn(!1,Vr.required)}),this.counterAttacks=[!1,!1,!1],this.unsubscribe$=new et}ngOnInit(){this.init(),this.onFormInit()}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}onFormInit(){this.playerForm?.valueChanges.pipe(P3(500),ls(this.unsubscribe$)).subscribe(()=>{this.utilService.changePlayer(this.playerForm.value)})}init(){this.utilService.player.pipe(ls(this.unsubscribe$),yx(1),ko(1)).subscribe(t=>{this.playerForm.get("name")?.setValue(t?.name),this.playerForm.get("sparkEffect")?.setValue(t?.sparkEffect),this.playerForm.get("origin")?.setValue(t?.origin),this.playerForm.get("currentLife")?.setValue(t?.currentLife),this.playerForm.get("totalLife")?.setValue(t?.totalLife),this.playerForm.get("currentStability")?.setValue(t?.currentStability),this.playerForm.get("totalStability")?.setValue(t?.totalStability),this.playerForm.get("defence")?.setValue(t?.defence||!1)})}changeCounterAttack(t){this.counterAttacks[t]=!this.counterAttacks[t]}changeValue(t,r){const i=prompt(`Please enter your value of ${t} in NUMBERS please`);null!=i&&parseInt(i)<99&&parseInt(i)>0?this.playerForm.get(r)?.setValue(i):this.toastr.error("Precisa ser um n\xfamero entre 0 e 99","Inv\xe1lido")}addLife(){this.playerForm.get("currentLife").setValue(this.playerForm.get("currentLife").value+1)}removeLife(){this.playerForm.get("currentLife")?.setValue(parseInt(this.playerForm.get("currentLife")?.value)-1)}addStability(){this.playerForm.get("currentStability")?.setValue(this.playerForm.get("currentStability")?.value+1)}removeStability(){this.playerForm.get("currentStability")?.setValue(this.playerForm.get("currentStability")?.value-1)}}return n.\u0275fac=function(t){return new(t||n)(T(Di),T(na))},n.\u0275cmp=Bt({type:n,selectors:[["app-player-traits"]],inputs:{data:"data"},decls:73,vars:8,consts:[[1,"flex","flex-column","gap05"],[1,"flex","flex-column","gap05",3,"formGroup"],[1,"search-container","mt-2","mb-05"],["formControlName","name","type","text","placeholder","Nome",1,"w-100"],["formControlName","sparkEffect","type","text","placeholder","Efeito Spark",1,"w-100"],[1,"flex","align-center","justify-between"],["for","description"],["name","origin","formControlName","origin"],["value","none","selected","","disabled","","hidden",""],["value","central_plaza"],["value","little_floreasp"],["value","high_forwib"],["value","industrial_district"],["value","great_hill"],["value","downtown"],["value","fewscraps_district"],["value","midnight_subdistrict"],[1,"flex","gap1","align-center","justify-between","flex-wrap","font-size-text"],[1,"flex","flex-column","align-center","gap025"],[1,"flex","gap05","counter-attacks"],[1,"btn-icon"],[1,"material-symbols-outlined",3,"click"],[1,"pointer",3,"click"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"defence-button",3,"ngClass","click"],[3,"ngClass","click"]],template:function(t,r){1&t&&(C(0,"div",0)(1,"h2"),D(2,"Personagem:"),E(),C(3,"form",1)(4,"div",2),Fe(5,"input",3),E(),C(6,"div",2),Fe(7,"input",4),E(),C(8,"div",5)(9,"label",6),D(10,"Origem: "),E(),C(11,"select",7)(12,"option",8),D(13,"Choose here"),E(),C(14,"option",9),D(15,"Central Plaza"),E(),C(16,"option",10),D(17,"Little Floreasp"),E(),C(18,"option",11),D(19,"High Forwib"),E(),C(20,"option",12),D(21,"Industrial District"),E(),C(22,"option",13),D(23,"Great Hill"),E(),C(24,"option",14),D(25,"Downtown"),E(),C(26,"option",15),D(27,"Fewscraps District"),E(),C(28,"option",16),D(29,"Midnight Subdistrict"),E()()()(),C(30,"div",17)(31,"div",18)(32,"span"),D(33,"Vida"),E(),C(34,"div",19)(35,"button",20)(36,"span",21),ne("click",function(){return r.addLife()}),D(37," add "),E()(),C(38,"span",22),ne("click",function(){return r.changeValue("vida atual","currentLife")}),D(39),E(),C(40,"span"),D(41,"/"),E(),C(42,"span",22),ne("click",function(){return r.changeValue("vida total","totalLife")}),D(43),E(),C(44,"button",20)(45,"span",21),ne("click",function(){return r.removeLife()}),D(46," remove "),E()()()(),C(47,"div",18)(48,"span"),D(49,"Estabilidade"),E(),C(50,"div",19)(51,"button",20)(52,"span",21),ne("click",function(){return r.addStability()}),D(53," add "),E()(),C(54,"span",22),ne("click",function(){return r.changeValue("estabilidade atual","currentStability")}),D(55),E(),C(56,"span"),D(57,"/"),E(),C(58,"span",22),ne("click",function(){return r.changeValue("estabilidade total","totalStability")}),D(59),E(),C(60,"button",20)(61,"span",21),ne("click",function(){return r.removeStability()}),D(62," remove "),E()()()(),C(63,"div",18)(64,"span"),D(65,"Contra-ataque"),E(),C(66,"div",19),Oe(67,bge,1,1,"div",23),E()(),C(68,"div",18)(69,"span"),D(70,"Defesa"),E(),C(71,"button",24),ne("click",function(){let s;return null==(s=r.playerForm.get("defence"))?null:s.setValue(!(null!=r.playerForm&&null!=r.playerForm.value&&r.playerForm.value.defence))}),D(72),E()()()()),2&t&&(k(3),z("formGroup",r.playerForm),k(36),un(" ",null==r.playerForm||null==r.playerForm.value?null:r.playerForm.value.currentLife," "),k(4),un(" ",null==r.playerForm||null==r.playerForm.value?null:r.playerForm.value.totalLife," "),k(12),un(" ",null==r.playerForm||null==r.playerForm.value?null:r.playerForm.value.currentStability," "),k(4),un(" ",null==r.playerForm||null==r.playerForm.value?null:r.playerForm.value.totalStability," "),k(8),z("ngForOf",r.counterAttacks),k(4),z("ngClass",null!=r.playerForm&&null!=r.playerForm.value&&r.playerForm.value.defence?"activate":""),k(1),un(" ",null!=r.playerForm&&null!=r.playerForm.value&&r.playerForm.value.defence?"Ativada":"Desativada"," "))},dependencies:[WE,zE,Hb,zb,Qb,ea,Pd,Dd,Pb,Nd,Fg],styles:["[_ngcontent-%COMP%]:root, html[data-theme=light][_ngcontent-%COMP%]{--background-color: #f4f4f4;--background-input: #ffffff;--background-accent: #231b6b;--text-color: #121218;--subtext-color: #00000080;--text-accent-color: #ffffff;--card-shadow: rgba(0, 0, 0, 25%)}html[data-theme=dark][_ngcontent-%COMP%]{--background-color: #1d1d1d;--background-input: #313131;--background-accent: #000630;--text-color: #ececec;--subtext-color: #ffffff80;--text-accent-color: #f3f3f3;--card-shadow: rgba(255, 255, 255, 25%)}.background-color[_ngcontent-%COMP%]{background-color:var(--background-color)}.background-accent[_ngcontent-%COMP%], .accent-container[_ngcontent-%COMP%]{background-color:var(--background-accent)}.text-color[_ngcontent-%COMP%]{color:var(--text-color)!important}.subtext-color[_ngcontent-%COMP%]{color:var(--subtext-color)!important}.text-accent-color[_ngcontent-%COMP%], .accent-container[_ngcontent-%COMP%]{color:var(--text-accent-color)}.card-shadow[_ngcontent-%COMP%]{box-shadow:0 4px 4px 4px var(--card-shadow)}.search-container[_ngcontent-%COMP%]{background-color:var(--background-input);display:flex;align-items:center;border-bottom:1px solid red;transition:.05s;border-radius:6px;max-height:2.8rem;width:100%;border:1px solid rgba(14,14,14,.1215686275)}.search-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:#535353a3;opacity:1;font-size:12px;font-weight:400}.search-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:-ms-input-placeholder{color:#73737366}.search-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-ms-input-placeholder{color:#73737366}.search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:var(--text-color);font-size:1rem;padding:.5rem;border:none;width:100%;background-color:transparent}.search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.search-container[_ngcontent-%COMP%]:focus-within{outline:1px solid red}.btn-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;border:1px solid gray;padding:.25rem;border-radius:50%}.btn-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px;width:10px;height:10px}select[_ngcontent-%COMP%]{background:var(--background-input);color:var(--text-color);border:1px solid rgba(14,14,14,.1215686275);padding:4px;border-radius:3px}.counter-attacks[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:30px;height:12px;cursor:pointer;border-radius:3px;background-color:red}.counter-attacks[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{background-color:#b10000}.counter-attacks[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{background-color:#016901}.counter-attacks[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]:hover{background-color:#040}.defence-button[_ngcontent-%COMP%]{border:1px solid rgba(14,14,14,.1215686275);border-radius:5px;width:110px;padding:.25rem 1rem;color:#fff;background-color:red}.defence-button[_ngcontent-%COMP%]:hover{background-color:#b10000}.activate[_ngcontent-%COMP%]{background-color:#016901}.activate[_ngcontent-%COMP%]:hover{background-color:#040}.pointer[_ngcontent-%COMP%]{cursor:pointer}.pointer[_ngcontent-%COMP%]:hover{color:#666666b9}"]}),n})();const Cge={FOR:{name:"For\xe7a",shortName:"FOR",info:"FOR\xc7A TOP",totalValue:0,color:"C724B1"},DES:{name:"Destreza",shortName:"DES",info:"DES TOP",totalValue:0,color:"44D62C"},CON:{name:"Constitui\xe7\xe3o",shortName:"CON",info:"CON TOP",totalValue:0,color:"E0E722"},POD:{name:"Poder",shortName:"POD",info:"POD TOP",totalValue:0,color:"4D4DFF"},PER:{name:"Percep\xe7\xe3o",shortName:"PER",info:"PER TOP",totalValue:0,color:"FFAD00"},MED:{name:"Medicina",shortName:"MED",info:"MED TOP",totalValue:0,color:"FFAD00"},OUT:{name:"Outros",shortName:"OUT",info:"OUT TOP",totalValue:0,color:"D22730"}};let O3=(()=>{class n{transform(t){return(parseInt(t)/4).toFixed(0)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=gt({name:"calcExtreme",type:n,pure:!0}),n})();const Tge=["input"],Ige=function(n){return{"box-shadow":n}},Dge=function(n){return{"background-color":n}};let F3=(()=>{class n{constructor(t){this.toastr=t}ngOnInit(){this.fullData=this.data[this.type]}changeValue(){const t=prompt("Please enter your value in NUMBERS please");null!=t&&parseInt(t)<=85&&parseInt(t)>=40?this.fullData.totalValue=t:this.toastr.error("Precisa ser um n\xfamero entre 40 e 85","Atributo inv\xe1lido")}}return n.\u0275fac=function(t){return new(t||n)(T(na))},n.\u0275cmp=Bt({type:n,selectors:[["app-player-attribute"]],viewQuery:function(t,r){if(1&t&&wO(Tge,5),2&t){let i;Vp(i=function Bp(){return function j9(n,e){return n[19].queries[e].queryList}(A(),z1())}())&&(r.input=i.first)}},inputs:{data:"data",type:"type"},decls:15,vars:17,consts:[[1,"flex","align-center","container",3,"ngStyle"],[1,"container-value","flex","p05","flex-column","align-center",3,"ngStyle","click"],[1,"title","font-size-title"],[1,"subtitle","font-size-text"],[1,"relative","flex","flex-fill","justify-center"],[1,"btn-info"],[1,"material-symbols-outlined"]],template:function(t,r){1&t&&(C(0,"div",0)(1,"div",1),ne("click",function(){return r.changeValue()}),C(2,"span",2),D(3),wr(4,"number"),E(),C(5,"span",3),D(6),wr(7,"number"),wr(8,"calcExtreme"),E()(),C(9,"div",4)(10,"button",5)(11,"span",6),D(12," info "),E()(),C(13,"span"),D(14),E()()()),2&t&&(z("ngStyle",oE(13,Ige,"2px 2px 7px #"+(null==r.fullData?null:r.fullData.color))),k(1),z("ngStyle",oE(15,Dge,"#"+(null==r.fullData?null:r.fullData.color))),k(2),un(" ",Jl(4,5,null==r.fullData?null:r.fullData.totalValue,"3.0")," "),k(3),Qe(Jl(7,8,Us(8,11,null==r.fullData?null:r.fullData.totalValue),"3.0")),k(8),Qe(null==r.fullData?null:r.fullData.name))},dependencies:[RF,FF,O3],styles:[".btn-info[_ngcontent-%COMP%]{position:absolute;top:-13px;right:15px}.btn-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px;width:10px;height:10px}.container[_ngcontent-%COMP%]{margin-top:1rem;border-radius:7px;min-width:150px}.container[_ngcontent-%COMP%]   .container-value[_ngcontent-%COMP%]{color:#fff;border-radius:5px 0 0 5px;cursor:pointer}"]}),n})();function Sge(n,e){if(1&n&&(C(0,"div",1),Fe(1,"app-player-attribute",2)(2,"app-player-attribute",2)(3,"app-player-attribute",2)(4,"app-player-attribute",2)(5,"app-player-attribute",2)(6,"app-player-attribute",2)(7,"app-player-attribute",2),E()),2&n){const t=Ae();k(1),z("data",t.attributes)("type","FOR"),k(1),z("data",t.attributes)("type","DES"),k(1),z("data",t.attributes)("type","CON"),k(1),z("data",t.attributes)("type","POD"),k(1),z("data",t.attributes)("type","PER"),k(1),z("data",t.attributes)("type","MED"),k(1),z("data",t.attributes)("type","OUT")}}let L3=(()=>{class n{constructor(t){this.utilService=t,this.unsubscribe$=new et}ngOnInit(){this.utilService?.attributes.pipe(yx(1),ls(this.unsubscribe$)).subscribe(t=>{t||this.utilService.changeAttributes(Cge),this.attributes=t})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}}return n.\u0275fac=function(t){return new(t||n)(T(Di))},n.\u0275cmp=Bt({type:n,selectors:[["app-player-attributes"]],decls:1,vars:1,consts:[["class","flex flex-wrap gap05 justify-center align-center",4,"ngIf"],[1,"flex","flex-wrap","gap05","justify-center","align-center"],[3,"data","type"]],template:function(t,r){1&t&&Oe(0,Sge,8,14,"div",0),2&t&&z("ngIf",r.attributes)},dependencies:[ru,F3]}),n})(),V3=(()=>{class n{constructor(t){this.utilService=t,this.text=new fn(""),this.unsubscribe$=new et}ngOnInit(){this.init(),this.onFormInit()}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}onFormInit(){this.text?.valueChanges.pipe(P3(500),ls(this.unsubscribe$)).subscribe(()=>{"annotations"===this.type?this.utilService.changeAnnotations(this.text.value):this.utilService.changeHistory(this.text.value)})}init(){("annotations"===this.type?this.utilService.annotations:this.utilService.history).pipe(ls(this.unsubscribe$),yx(1),ko(1)).subscribe(r=>this.text.setValue(r))}}return n.\u0275fac=function(t){return new(t||n)(T(Di))},n.\u0275cmp=Bt({type:n,selectors:[["app-text-area-component"]],inputs:{type:"type"},decls:4,vars:2,consts:[[1,"mt1","flex","flex-column","justify-center"],[3,"formControl"]],template:function(t,r){1&t&&(C(0,"div",0)(1,"h2"),D(2),E(),Fe(3,"textarea",1),E()),2&t&&(k(2),un("","history"===r.type?"Hist\xf3ria":"Anota\xe7\xf5es",":"),k(1),z("formControl",r.text))},dependencies:[ea,Dd,Og]}),n})(),B3=(()=>{class n{constructor(t){this.el=t}onError(){this.el.nativeElement.style.display="none"}}return n.\u0275fac=function(t){return new(t||n)(T(er))},n.\u0275dir=J({type:n,selectors:[["img","appHideMissing",""]],hostBindings:function(t,r){1&t&&ne("error",function(){return r.onError()})}}),n})();var L_=(()=>(function(n){n["melee-light"]="Melee Leve",n["melee-heavy"]="Melee Pesada",n.pistol="Pistola",n.shotgun="Fuzil",n["machine-gun"]="Metralhadora"}(L_||(L_={})),L_))(),V_=(()=>(function(n){n.a="+A",n.b="+B",n.c="+C",n.d="+D"}(V_||(V_={})),V_))();const vx={a:{"melee-light":{damage:"2D4 + 3D2",aimed:"+3 de dano",special:"Ganha vantagem de teste de acerto (Teste de for\xe7a)"},"melee-heavy":{damage:"8 + D4",aimed:"+3 de dano",special:"Ganha vantagem de teste de acerto (Teste de for\xe7a)"},pistol:{damage:"2 + 1D12",aimed:"Aumenta o threshold em 2",special:"Tirar Baixo + 6"},shotgun:{damage:"1D12",aimed:"Debuff de baixo some e fica s\xf3 o alto",special:"Tirar Alto + 6, baixo 0"},"machine-gun":{damage:"6D2",aimed:"Metade dos dados \xe9 sempre 2",special:"Sem threshold"}},b:{"melee-light":{damage:"D6",aimed:"dasdasd",special:""},"melee-heavy":{damage:"D6",aimed:"dasdasd",special:""},pistol:{damage:"D6",aimed:"dasdasd",special:""},shotgun:{damage:"D6",aimed:"dasdasd",special:""},"machine-gun":{damage:"D6",aimed:"dasdasd",special:""}},c:{"melee-light":{damage:"2D4 + 3D2",aimed:"+3 de dano",special:"Ganha vantagem de teste de acerto (Teste de for\xe7a)"},"melee-heavy":{damage:"8 + D4",aimed:"+3 de dano",special:"Ganha vantagem de teste de acerto (Teste de for\xe7a)"},pistol:{damage:"2 + 1D12",aimed:"Aumenta o threshold em 2",special:"Tirar Baixo + 6"},shotgun:{damage:"1D12",aimed:"Debuff de baixo some e fica s\xf3 o alto",special:"Tirar Alto + 6, baixo 0"},"machine-gun":{damage:"6D2",aimed:"Metade dos dados \xe9 sempre 2",special:"Sem threshold"}},d:{"melee-light":{damage:"D6",aimed:"dasdasd",special:""},"melee-heavy":{damage:"D6",aimed:"dasdasd",special:""},pistol:{damage:"D6",aimed:"dasdasd",special:""},shotgun:{damage:"D6",aimed:"dasdasd",special:""},"machine-gun":{damage:"D6",aimed:"dasdasd",special:""}}};let U3=(()=>{class n{transform(t){return L_[t]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=gt({name:"weaponType",type:n,pure:!0}),n})(),$3=(()=>{class n{transform(t){return V_[t]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=gt({name:"weaponClass",type:n,pure:!0}),n})(),j3=(()=>{class n{transform(t,r){return vx[r][t]?.damage}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=gt({name:"weaponDamage",type:n,pure:!0}),n})(),H3=(()=>{class n{transform(t,r){return vx[r][t]?.aimed}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=gt({name:"weaponDamageAimed",type:n,pure:!0}),n})(),G3=(()=>{class n{transform(t,r){return vx[r][t]?.special}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=gt({name:"weaponDamageSpecial",type:n,pure:!0}),n})(),q3=(()=>{class n{constructor(t){this.utilService=t,this.data={},this.unsubscribe$=new et}ngOnInit(){this.utilService.weapon.pipe(ls(this.unsubscribe$)).subscribe(t=>this.weapons=t)}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}closeCard(){const t=this.weapons.filter(r=>r.name!==this.data.name);this.utilService.changeWeapon(t)}}return n.\u0275fac=function(t){return new(t||n)(T(Di))},n.\u0275cmp=Bt({type:n,selectors:[["app-weapon-card"]],inputs:{data:"data"},decls:36,vars:21,consts:[[1,"relative"],[1,"close",3,"click"],[1,"container-title","subtext-color","font-size-text","justify-around","flex","p025","pt05"],[1,"flex","flex-column","h-100","card","p05"],[1,"flex","align-center","gap05","container-description"],["alt","weapon","appHideMissing","",1,"img-weapon",3,"src"],[1,"title"],[1,"description","flex","flex-fill","mt05"],[1,"flex","flex-column","gap025","container-damage","mt1"],[1,"flex","align-center","gap05"],[1,"material-symbols-outlined","orange"],[1,"material-symbols-outlined"],[1,"sm-font","subtext-color"]],template:function(t,r){1&t&&(C(0,"div",0)(1,"button",1),ne("click",function(){return r.closeCard()}),D(2,"X"),E(),C(3,"div",2)(4,"span"),D(5),wr(6,"weaponType"),E(),C(7,"span"),D(8),wr(9,"weaponClass"),E()(),C(10,"div",3)(11,"div",4),Fe(12,"img",5),C(13,"span",6),D(14),E()(),C(15,"span",7),D(16),E(),C(17,"div",8)(18,"div",9)(19,"span",10),D(20," local_fire_department "),E(),C(21,"span"),D(22),wr(23,"weaponDamage"),E()(),C(24,"div",9)(25,"span",11),D(26," sports_mma "),E(),C(27,"span",12),D(28),wr(29,"weaponDamageAimed"),E()(),C(30,"div",9)(31,"span",11),D(32," sports_mma "),E(),C(33,"span",12),D(34),wr(35,"weaponDamageSpecial"),E()()()()()),2&t&&(k(5),Qe(Us(6,8,(null==r.data?null:r.data.type)||"")),k(3),Qe(Us(9,10,(null==r.data?null:r.data.class)||"")),k(4),z("src",null==r.data?null:r.data.url,Tl),k(2),Qe((null==r.data?null:r.data.name)||""),k(2),Qe((null==r.data?null:r.data.description)||""),k(6),Qe(Jl(23,12,(null==r.data?null:r.data.type)||"",(null==r.data?null:r.data.class)||"")),k(6),Qe(Jl(29,15,(null==r.data?null:r.data.type)||"",(null==r.data?null:r.data.class)||"")),k(6),Qe(Jl(35,18,(null==r.data?null:r.data.type)||"",(null==r.data?null:r.data.class)||"")))},dependencies:[B3,U3,$3,G3,H3,j3],styles:[".card[_ngcontent-%COMP%]{border-left:1px solid rgba(246,211,25,.6509803922);border-right:1px solid rgba(246,211,25,.6509803922);border-bottom:1px solid rgba(246,211,25,.6509803922);border-radius:0 0 23px 23px;background-color:transparent;height:200px;width:145px}.container-title[_ngcontent-%COMP%]{border-radius:23px 23px 0 0;background-color:#f6d319a6!important}.container-description[_ngcontent-%COMP%]{font-size:.75rem}.container-damage[_ngcontent-%COMP%]{justify-self:flex-end}.description[_ngcontent-%COMP%]{font-size:.63rem}.sm-font[_ngcontent-%COMP%]{font-size:.8rem}.img-weapon[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%}.orange[_ngcontent-%COMP%]{color:#dd561c}.close[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;font-size:10px;left:46%;top:-3%;background-color:#d10000c0;color:#ffffffcb;border-radius:50%;width:15px;height:15px;cursor:pointer}.close[_ngcontent-%COMP%]:hover{background-color:#ad0000d5}"]}),n})();function Age(n,e){1&n&&Fe(0,"app-weapon-card",6),2&n&&z("data",e.$implicit)}let W3=(()=>{class n{constructor(t){this.utilService=t,this.unsubscribe$=new et}ngOnInit(){this.utilService.weapon.pipe(ls(this.unsubscribe$)).subscribe(t=>this.data=t)}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}}return n.\u0275fac=function(t){return new(t||n)(T(Di))},n.\u0275cmp=Bt({type:n,selectors:[["app-weapons-list"]],decls:9,vars:1,consts:[[1,"flex","flex-column","mt1"],[1,"flex","justify-between"],["routerLink","create-weapon",1,"button-add"],[1,"material-symbols-outlined"],[1,"flex","flex-wrap","mt05","justify-around"],[3,"data",4,"ngFor","ngForOf"],[3,"data"]],template:function(t,r){1&t&&(C(0,"div",0)(1,"div",1)(2,"h2"),D(3,"Equipamento:"),E(),C(4,"button",2)(5,"span",3),D(6," add "),E()()(),C(7,"div",4),Oe(8,Age,1,1,"app-weapon-card",5),E()()),2&t&&(k(8),z("ngForOf",r.data))},dependencies:[zE,Id,q3],styles:[".button-add[_ngcontent-%COMP%]{color:#fff;background-color:#004e00c7;display:flex;align-items:center;justify-content:center;border-radius:50%}.button-add[_ngcontent-%COMP%]:hover{background-color:#0a330ac7}"]}),n})(),z3=(()=>{class n{constructor(){this.isMobile$=new Nt(window.innerWidth<750)}completeService(){this.isMobile$&&this.isMobile$.complete()}get isMobile(){return this.isMobile$}nextIsMobile(t){this.isMobile$.next(t<750)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xge=[{id:0,displayName:"Samyaza",value:"samyaza",title:"Angel of Pride",description:"Samyaza \xe9 o l\xedder dos Watchers.\n Foi o primeiro a receber seu nome",powers:[{title:"",cost:"",desc:""},{title:"",cost:"",desc:""},{title:"",cost:"",desc:""}],image:"https://images.squarespace-cdn.com/content/v1/54243095e4b07ee637a9f812/1617135050172-PKFS8WTG3O5XTNYK1VH3/Samyaza.jpg?format=500w"},{id:1,displayName:"Azazel",value:"azazel",title:"Angel of Sacrifices",description:"lorem",powers:[{title:"",cost:"",desc:""},{title:"",cost:"",desc:""},{title:"",cost:"",desc:""}],image:"https://images.squarespace-cdn.com/content/v1/54243095e4b07ee637a9f812/1617135069197-JKK8SS1R8315T7E3UKTH/Azazel.jpg?format=500w"},{id:2,displayName:"Sariel",value:"sariel",title:"Angel of the Waning Moon",description:"lorem",powers:[{title:"Te dou meu sangue",cost:"Qualquer D at\xe9 o D8 de estabilidade",desc:"Sariel n\xe3o gosta de se machucar, mas \xe9 orgulhoso de mais para reprimir o desejo do usu\xe1rio. Voc\xea pode curar algu\xe9m da sua party jogando qualquer D at\xe9 um D8, o membro da party receber\xe1 a metade + 2 de vida"},{title:"Cura sobrenatural",cost:"D8 de estabilidade",desc:"Sariel n\xe3o morrer\xe1. Toda vez que voc\xea sofrer um dano, ele pode ser curado jogando esse dado"},{title:"Personifica\xe7\xe3o do orgulho",cost:"D8 de estabilidade para cada vez lan\xe7ado",desc:"Anula qualquer poder lan\xe7ado a voc\xea, todos os que te atacarem receberam uma desvantagem e dano reduzido em 2"}],image:"https://images.squarespace-cdn.com/content/v1/54243095e4b07ee637a9f812/1454542062623-QU93WAHZDPKATGWZW0DV/sariel_watchers_grigori_moon_Mohrbacher?format=500w"},{id:3,displayName:"Baraqiel",value:"baraqiel",title:"Angel of Lightining",description:"N\xe3o me toque\nSeu dem\xf4nio, seu terror\nNem por um momento\n\nVoc\xea mudou minha mente\nVoc\xea parou meu cora\xe7\xe3o\nSeu dem\xf4nio, seu terror\nEu quero que voc\xea me toque novamente\n\nN\xe3o me tente\nN\xe3o me tente\nEu quero ver voc\xea marchar novamente",powers:[{title:"Carga",cost:"D4 de estabilidade para cada D4 de dano, podendo no m\xe1ximo 4D4",desc:"Baraqiel \xe9 insano, tudo que ele deseja \xe9 queimar tudo. Voc\xea pode trocar estabilidade por dano"},{title:"Energiza\xe7\xe3o",cost:"2D4 de estabilidade para deixar sua arma com 2D6 a mais de dano por D4 rodadas",desc:"Minha arma solta raios e trov\xf5es. Voc\xea pode energizar uma arma de sua prefer\xeancia"},{title:"Manipula\xe7\xe3o da Eletricidade",cost:"",desc:""}],image:"https://images.squarespace-cdn.com/content/v1/54243095e4b07ee637a9f812/1617135237947-2SWVXU20L3UBJDYJ8HJZ/baraqiel.jpg?format=500w"},{id:4,displayName:"Af",value:"af",title:"Angel of Anger",description:"Bem-vindo\nComo epifania\n\nSolte-o\nComo a can\xe7\xe3o\n\nHonre o que voc\xea ama\nCom ru\xedna",powers:[{title:"Troca Equivalente",cost:"2D4",desc:"Af te d\xe1 o que voc\xea mais quer, ela s\xf3 pede uma coisa em troca... Que voc\xea mate todos.\n Durante 3 rodadas voc\xea conseguir\xe1 invocar um ser para te auxiliar no combate. Ele faz com que voc\xea fique com inciativa priorit\xe1ria e pode fazer duas a\xe7\xf5es tanto normais quanto de combate."},{title:"Redu\xe7\xe3o de dano",cost:"",desc:""},{title:"",cost:"",desc:""}],image:"https://images.squarespace-cdn.com/content/v1/54243095e4b07ee637a9f812/1465259667157-6VO479Q1FOPUH3DNTKMH/Af.jpg?format=500w"},{id:5,displayName:"Penemue",value:"penemue",title:"Angel of Written Word",description:"O que foi feito\nDo outro lado da colina de fogo\n\nEssas esculturas de homens\nCujos nomes os anjos esqueceram",powers:[{title:"",cost:"",desc:""},{title:"",cost:"",desc:""},{title:"Viva",cost:"D6",desc:"Gasta uma p\xe1gina do caderno, mas consegue invocar qualquer coisa desenhada nela"}],image:"https://images.squarespace-cdn.com/content/v1/54243095e4b07ee637a9f812/1465256923958-C6QB6GCCOJTJRUM4PAPJ/PenemueF.jpg?format=500w"},{id:6,displayName:"Bezaliel",value:"bezaliel",title:"Angel of Shadows",description:"Caindo pelos galhos\nParado entre as folhas tr\xeamulas\nPare e ou\xe7a\n\nMinha abordagem,\nmeu toque.\n\nO vento muda e l\xe1 estou eu\nfresco contra sua pele.\nEu n\xe3o vou te deixar.",powers:[{title:"Invoca\xe7\xe3o de seres da sombra",cost:"D4 para cada ser",desc:"Bezaliel \xe9 um rei, e por isso manda os outros fazerem. O jogador pode escolher quantos seres da sombra ser\xe3o invocados com m\xe1ximo de 4 seres. Eles podem realizar a\xe7\xf5es simples (Inclusive dever\xe1 ser tirado uma iniciativa para cada) e o dano de cada um vai variar com um D3. Obs: O jogador precisa escolher quantos seres ser\xe3o invocados antes de jogar os dados."},{title:"Reanima\xe7\xe3o dos mortos",cost:"2D4 + 1D2",desc:"Ao encontrar um ser morto, o portador de Bezaliel pode tentar reanim\xe1-lo e fazer esse ser se juntar ao ser ex\xe9rcito. Os stats dele ser\xe3o combinados com o mestre posteriormente no jogo."},{title:"Ex\xe9rcito da sombra",cost:"2D4 + 1D2",desc:"Bezaliel conta com um ex\xe9rcito escondido. Voc\xea agora pode usar ele."}],image:"https://images.squarespace-cdn.com/content/v1/54243095e4b07ee637a9f812/1462028406480-13LRA35CMV1M68T8E66A/bezalielF.jpg?format=500w"},{id:7,displayName:"Chazaqiel",value:"chazaqiel",title:"Angel of Mists",description:"lorem",powers:[{title:"",cost:"",desc:""},{title:"",cost:"",desc:""},{title:"",cost:"",desc:""}],image:"https://images.squarespace-cdn.com/content/v1/54243095e4b07ee637a9f812/1456773844384-TGKEF3LTX8YSEH44DLAZ/chazaqielF.jpg?format=500w"},{id:8,displayName:"Asbeel",value:"asbeel",title:"Angel of Ruin",description:"Onde voc\xea acabou de ir?\nVoc\xea estava aqui conosco, e ent\xe3o\nN\xf3s n\xe3o vimos voc\xea sair\n\nNo vento ou\xe7o meu nome\nEles cantam minha hist\xf3ria\nDe bra\xe7os abertos, eles esperam\nchamando-me para me juntar a eles.\n\nOh, para ver seu rosto novamente\nBem vindo amigo\nVoc\xea esteve longe por muito tempo\nQue contos voc\xea traz?\nQue sabedoria?\n\nO amor que t\xednhamos\nEle nunca se desvanece\nEssas horas douradas, me ligue\nEles dizem meu nome",powers:[{title:"Escudo de areia",cost:"3D2",desc:"Asbeel proteger\xe1 sua rainha a qualquer custo (Inclusive a estabilidade dela). Esse poder pode ser usado quando algum mostro atacar ela e bloqueia 100% do dano que seria sofrido."},{title:"",cost:"",desc:""},{title:"",cost:"",desc:""}],image:"https://images.squarespace-cdn.com/content/v1/54243095e4b07ee637a9f812/1465259734105-ESQDPZZA3Y9W6CU82504/asbeelF.jpg?format=500w"},{id:9,displayName:"Kokabiel",value:"kokabiel",title:"Angel of the Stars",description:"lorem",powers:[{title:"",cost:"",desc:""},{title:"",cost:"",desc:""},{title:"",cost:"",desc:""}],image:"https://images.squarespace-cdn.com/content/v1/54243095e4b07ee637a9f812/1465258873952-3CHIREOLHKSQPWQZRNGW/kokabiel_watchers_grigori_star_light_fallen_angel_Mohrbacher?format=500w"}],Mge={A:3,B:2,C:1,D:0};let K3=(()=>{class n{transform(t){return xge[t]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=gt({name:"faLevel",type:n,pure:!0}),n})(),Q3=(()=>{class n{transform(t){return Mge[t]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=gt({name:"faLevelNumber",type:n,pure:!0}),n})();function kge(n,e){if(1&n&&(C(0,"p",14),D(1),E()),2&n){const t=Ae(2).ngIf;k(1),Qe(null==t?null:t.description)}}function Nge(n,e){if(1&n&&(C(0,"ul",15)(1,"li"),D(2),E()()),2&n){const t=Ae(2).ngIf;k(2),Qe(t.powers[0].title)}}const Pge=function(n,e){return[n,e]};function Rge(n,e){if(1&n){const t=jl();C(0,"div",7)(1,"div",8)(2,"div",9)(3,"h3"),D(4),E(),C(5,"span",10),ne("click",function(){Ps(t);const i=Ae(2);return Rs(i.isPoemType=!i.isPoemType)}),D(6," published_with_changes "),E()(),Oe(7,kge,2,1,"p",11),Oe(8,Nge,3,1,"ul",12),E(),C(9,"img",13),ne("click",function(){Ps(t);const i=Ae(2);return Rs(i.isFaImgHide=!i.isFaImgHide)}),E()()}if(2&n){const t=Ae().ngIf,r=Ae();k(4),Qe(r.isPoemType?"Poema":"Poderes"),k(3),z("ngIf",r.isPoemType),k(1),z("ngIf",!r.isPoemType),k(1),z("ngClass",function uO(n,e,t,r,i){return dO(A(),Bn(),n,e,t,r,i)}(6,Pge,r.isFaImgHide?"fa-img-hide":"",null==t?null:t.value))("src",null==t?null:t.image,Tl)("alt",null==t?null:t.value)}}function Oge(n,e){if(1&n&&(C(0,"p",14),D(1),E()),2&n){const t=Ae(2).ngIf;k(1),Qe(null==t?null:t.description)}}function Fge(n,e){if(1&n&&(C(0,"li",21)(1,"div",22)(2,"span",23),D(3),E(),C(4,"span",24),D(5),E()(),C(6,"span",25),D(7),E()()),2&n){const t=Ae(3).ngIf;k(3),Qe(null==t||null==t.powers[0]?null:t.powers[0].title),k(2),Qe(null==t||null==t.powers[0]?null:t.powers[0].cost),k(2),Qe(null==t||null==t.powers[0]?null:t.powers[0].desc)}}function Lge(n,e){if(1&n&&(C(0,"li",21)(1,"div",22)(2,"span",23),D(3),E(),C(4,"span",24),D(5),E()(),C(6,"span",25),D(7),E()()),2&n){const t=Ae(3).ngIf;k(3),Qe(null==t||null==t.powers[1]?null:t.powers[1].title),k(2),Qe(null==t||null==t.powers[1]?null:t.powers[1].cost),k(2),Qe(null==t||null==t.powers[1]?null:t.powers[1].desc)}}function Vge(n,e){if(1&n&&(C(0,"li",21)(1,"div",22)(2,"span",23),D(3),E(),C(4,"span",24),D(5),E()(),C(6,"span",25),D(7),E()()),2&n){const t=Ae(3).ngIf;k(3),Qe(null==t||null==t.powers[2]?null:t.powers[2].title),k(2),Qe(null==t||null==t.powers[2]?null:t.powers[2].cost),k(2),Qe(null==t||null==t.powers[2]?null:t.powers[2].desc)}}function Bge(n,e){if(1&n&&(C(0,"ul",19),Oe(1,Fge,8,3,"li",20),wr(2,"faLevelNumber"),Oe(3,Lge,8,3,"li",20),wr(4,"faLevelNumber"),Oe(5,Vge,8,3,"li",20),wr(6,"faLevelNumber"),E()),2&n){const t=Ae(3);k(1),z("ngIf",Us(2,3,t.fa.level)>=1),k(2),z("ngIf",Us(4,5,t.fa.level)>=2),k(2),z("ngIf",Us(6,7,t.fa.level)>=3)}}function Uge(n,e){if(1&n){const t=jl();C(0,"div",16)(1,"img",13),ne("click",function(){Ps(t);const i=Ae(2);return Rs(i.isFaImgHide=!i.isFaImgHide)}),E(),C(2,"div",8)(3,"div",17)(4,"h3"),D(5),E(),C(6,"span",10),ne("click",function(){Ps(t);const i=Ae(2);return Rs(i.isPoemType=!i.isPoemType)}),D(7," published_with_changes "),E()(),Oe(8,Oge,2,1,"p",11),Oe(9,Bge,7,9,"ul",18),E()()}if(2&n){const t=Ae().ngIf,r=Ae();k(1),z("ngClass",r.isFaImgHide?"fa-img-hide":"")("src",null==t?null:t.image,Tl)("alt",null==t?null:t.value),k(4),Qe(r.isPoemType?"Poema":"Poderes"),k(3),z("ngIf",r.isPoemType),k(1),z("ngIf",!r.isPoemType)}}function $ge(n,e){if(1&n&&(C(0,"div",1)(1,"h2"),D(2,"Anjo Ca\xeddo:"),E(),C(3,"div",2)(4,"div",3)(5,"h3"),D(6),E(),C(7,"span",4),D(8),E()(),Oe(9,Rge,10,9,"div",5),Oe(10,Uge,10,6,"div",6),E()()),2&n){const t=e.ngIf,r=Ae();k(6),Kw("",null==t?null:t.displayName,", ",null==t?null:t.title,""),k(2),Qe(r.fa.level),k(1),z("ngIf",!r.mobile),k(1),z("ngIf",r.mobile)}}let Y3=(()=>{class n{constructor(t,r){this.mobileService=t,this.utilService=r,this.isFaImgHide=!1,this.isPoemType=!1}ngOnInit(){this.mobileService.isMobile.subscribe(t=>this.mobile=t),this.utilService.fa.subscribe(t=>this.fa=t)}}return n.\u0275fac=function(t){return new(t||n)(T(z3),T(Di))},n.\u0275cmp=Bt({type:n,selectors:[["app-player-fa"]],decls:2,vars:3,consts:[["class","mt1 flex flex-column justify-center",4,"ngIf"],[1,"mt1","flex","flex-column","justify-center"],[1,"card"],[1,"flex","justify-between"],[1,"fa-class","font-size-title"],["class","flex justify-between gap1",4,"ngIf"],["class","flex flex-column align-center gap1",4,"ngIf"],[1,"flex","justify-between","gap1"],[1,"flex","flex-column","w100"],[1,"mt1","flex","justify-between","w100"],[1,"material-symbols-outlined","btn-change","noselect",3,"click"],["class","font-size-text break-line",4,"ngIf"],["class","font-size-text",4,"ngIf"],[1,"fa-img",3,"ngClass","src","alt","click"],[1,"font-size-text","break-line"],[1,"font-size-text"],[1,"flex","flex-column","align-center","gap1"],[1,"flex","justify-between","w100"],["class","font-size-text flex flex-column gap1",4,"ngIf"],[1,"font-size-text","flex","flex-column","gap1"],["class","flex flex-column gap05",4,"ngIf"],[1,"flex","flex-column","gap05"],[1,"flex","flex-column","gap025"],[1,"powers-title"],[1,"powers-cost"],[1,"powers-desc"]],template:function(t,r){1&t&&(Oe(0,$ge,11,5,"div",0),wr(1,"faLevel")),2&t&&z("ngIf",Us(1,1,r.fa.id))},dependencies:[WE,ru,K3,Q3],styles:[".card[_ngcontent-%COMP%]{margin:1rem 0;padding:.5rem;box-shadow:#091e4240 0 4px 8px -2px,#091e4214 0 0 0 1px}.fa-img[_ngcontent-%COMP%]{margin:1rem;width:12rem;border-radius:10px;box-shadow:5px 6px gray;cursor:pointer;height:100%;box-shadow:5px 6px var(--shadow-color)}.fa-img-hide[_ngcontent-%COMP%]{height:10px}.fa-class[_ngcontent-%COMP%]{margin-right:.5rem}.btn-change[_ngcontent-%COMP%]{cursor:pointer}.btn-change[_ngcontent-%COMP%]:hover{filter:brightness(.8)}.powers-cost[_ngcontent-%COMP%]{font-size:12px;color:#8a8a8a}.powers-title[_ngcontent-%COMP%]{font-size:14px}.powers-desc[_ngcontent-%COMP%]{font-size:10px;line-height:12px;color:#4c4c7b}"]}),n})();const jge=[{path:"",component:(()=>{class n{constructor(t,r,i){this.toastr=t,this.firestoreService=r,this.router=i,this.id=new fn("",Vr.required)}showSuccess(){this.toastr.error("Hello world!","Toastr fun!")}submit(){this.id.value&&this.id.valid&&this.firestoreService.create(this.id.value).then(()=>this.router.navigate([`/page/${this.id.value}`]))}}return n.\u0275fac=function(t){return new(t||n)(T(na),T(gx),T(hn))},n.\u0275cmp=Bt({type:n,selectors:[["app-home"]],decls:12,vars:1,consts:[[1,"flex","flex-column","min-h-100"],[1,"background-color","text-color","flex-fill","p1"],[1,"max-size"],[1,"search-container","mt1"],["type","text","placeholder","ID",1,"w-100",3,"formControl"],[1,"flex","justify-end","mt1"],[1,"btn-add",3,"click"]],template:function(t,r){1&t&&(C(0,"div",0),Fe(1,"app-header"),C(2,"div",1)(3,"div",2)(4,"h2"),D(5,"ID da ficha:"),E(),C(6,"div",3),Fe(7,"input",4),E(),C(8,"div",5)(9,"button",6),ne("click",function(){return r.submit()}),D(10,"Entrar"),E()()()(),Fe(11,"app-footer"),E()),2&t&&(k(7),z("formControl",r.id))},dependencies:[mx,_x,ea,Dd,Og],styles:["[_ngcontent-%COMP%]:root, html[data-theme=light][_ngcontent-%COMP%]{--background-color: #f4f4f4;--background-input: #ffffff;--background-accent: #231b6b;--text-color: #121218;--subtext-color: #00000080;--text-accent-color: #ffffff;--card-shadow: rgba(0, 0, 0, 25%)}html[data-theme=dark][_ngcontent-%COMP%]{--background-color: #1d1d1d;--background-input: #313131;--background-accent: #000630;--text-color: #ececec;--subtext-color: #ffffff80;--text-accent-color: #f3f3f3;--card-shadow: rgba(255, 255, 255, 25%)}.background-color[_ngcontent-%COMP%]{background-color:var(--background-color)}.background-accent[_ngcontent-%COMP%], .accent-container[_ngcontent-%COMP%]{background-color:var(--background-accent)}.text-color[_ngcontent-%COMP%]{color:var(--text-color)!important}.subtext-color[_ngcontent-%COMP%]{color:var(--subtext-color)!important}.text-accent-color[_ngcontent-%COMP%], .accent-container[_ngcontent-%COMP%]{color:var(--text-accent-color)}.card-shadow[_ngcontent-%COMP%]{box-shadow:0 4px 4px 4px var(--card-shadow)}.search-container[_ngcontent-%COMP%]{background-color:var(--background-input);display:flex;align-items:center;transition:.05s;border-radius:6px;max-height:2.8rem;width:100%;border:1px solid rgba(14,14,14,.1215686275)}.search-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:#535353a3;opacity:1;font-size:12px;font-weight:400}.search-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:-ms-input-placeholder{color:#73737366}.search-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-ms-input-placeholder{color:#73737366}.search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;color:var(--text-color);font-size:1rem;padding:.5rem;border:none;background-color:transparent}.search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.search-container[_ngcontent-%COMP%]:focus-within{outline:1px solid red}"]}),n})()},{path:"page/:id",component:Ege,children:[{path:"",component:(()=>{class n{constructor(t,r){this.firestoreService=t,this.utilService=r}ngOnInit(){this.utilService.characterSheet.subscribe(t=>this.service$=t),this.utilService.player.subscribe(t=>this.player$=t),this.utilService.id.subscribe(t=>this.id$=t),this.utilService.attributes.subscribe(t=>this.attributes$=t),this.utilService.weapon.subscribe(t=>this.weapon$=t),this.utilService.annotations.subscribe(t=>this.annotations$=t),this.utilService.history.subscribe(t=>this.history$=t),this.utilService.fa.subscribe(t=>this.fa$=t)}scrollTo(t){document.getElementById(t).scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}updateCS(){this.firestoreService.update(this.id$,{id:this.id$,player:this.player$,attributes:this.attributes$,weapons:this.weapon$,history:this.history$,annotations:this.annotations$,fa:this.fa$})}deleteCS(){this.firestoreService.delete(this.id$)}refresh(){location.reload()}}return n.\u0275fac=function(t){return new(t||n)(T(gx),T(Di))},n.\u0275cmp=Bt({type:n,selectors:[["app-character-sheet"]],decls:30,vars:1,consts:[[1,"flex","relative"],[1,"bookmarks","flex-column","mt1","flex"],[1,"material-symbols-outlined","border-radius-top",3,"click"],[1,"material-symbols-outlined",3,"click"],[1,"material-symbols-outlined","border-radius-bottom",3,"click"],[1,"flex","flex-column","gap1","align-end","pl1"],[1,"flex","flex-wrap","gap1"],[1,"btn-danger",3,"click"],[1,"btn-back",3,"click"],[1,"btn-add",3,"click"],["id","playerTraits",3,"data"],["type","history"],["id","annotations"],["type","annotations"]],template:function(t,r){1&t&&(C(0,"div",0)(1,"div",1)(2,"div")(3,"a",2),ne("click",function(){return r.scrollTo("playerTraits")}),D(4," star "),E()(),C(5,"div")(6,"a",3),ne("click",function(){return r.scrollTo("playerTraits")}),D(7," description "),E()(),C(8,"div")(9,"a",3),ne("click",function(){return r.scrollTo("playerTraits")}),D(10," backpack "),E()(),C(11,"div")(12,"a",4),ne("click",function(){return r.scrollTo("annotations")}),D(13," sports_martial_arts "),E()()(),C(14,"div",5)(15,"div",6)(16,"button",7),ne("click",function(){return r.deleteCS()}),D(17,"Deletar"),E(),C(18,"button",8),ne("click",function(){return r.refresh()}),D(19,"Atualizar"),E(),C(20,"button",9),ne("click",function(){return r.updateCS()}),D(21,"Salvar"),E()(),C(22,"div"),Fe(23,"app-player-traits",10)(24,"app-player-attributes")(25,"app-weapons-list")(26,"app-text-area-component",11),C(27,"div",12),Fe(28,"app-text-area-component",13),E(),Fe(29,"app-player-fa"),E()()()),2&t&&(k(23),z("data",r.service$))},dependencies:[R3,L3,V3,W3,Y3],styles:["[_ngcontent-%COMP%]:root, html[data-theme=light][_ngcontent-%COMP%]{--background-color: #f4f4f4;--background-input: #ffffff;--background-accent: #231b6b;--text-color: #121218;--subtext-color: #00000080;--text-accent-color: #ffffff;--card-shadow: rgba(0, 0, 0, 25%)}html[data-theme=dark][_ngcontent-%COMP%]{--background-color: #1d1d1d;--background-input: #313131;--background-accent: #000630;--text-color: #ececec;--subtext-color: #ffffff80;--text-accent-color: #f3f3f3;--card-shadow: rgba(255, 255, 255, 25%)}.background-color[_ngcontent-%COMP%]{background-color:var(--background-color)}.background-accent[_ngcontent-%COMP%], .accent-container[_ngcontent-%COMP%]{background-color:var(--background-accent)}.text-color[_ngcontent-%COMP%]{color:var(--text-color)!important}.subtext-color[_ngcontent-%COMP%]{color:var(--subtext-color)!important}.text-accent-color[_ngcontent-%COMP%], .accent-container[_ngcontent-%COMP%]{color:var(--text-accent-color)}.card-shadow[_ngcontent-%COMP%]{box-shadow:0 4px 4px 4px var(--card-shadow)}.bookmarks[_ngcontent-%COMP%]{cursor:pointer;position:fixed;color:var(--text-accent-color);left:-10px}.bookmarks[_ngcontent-%COMP%]:hover{left:0}.bookmarks[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{display:inline-block;padding:.25rem 0;background-color:var(--background-accent)}.bookmarks[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]:hover{padding-left:.75rem;left:15px}.bookmarks[_ngcontent-%COMP%]   .border-radius-top[_ngcontent-%COMP%]{border-radius:0 5px 0 0}.bookmarks[_ngcontent-%COMP%]   .border-radius-bottom[_ngcontent-%COMP%]{border-radius:0 0 5px}"]}),n})()},{path:"create-weapon",component:jne}]},{path:"**",redirectTo:"",pathMatch:"full"}];let Hge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=St({type:n}),n.\u0275inj=bt({imports:[ou.forRoot(jge),ou]}),n})(),Gge=(()=>{class n{constructor(t){this.mobileService=t,this.title="rpg-angular-v2"}onResize(){this.mobileService.nextIsMobile(window.innerWidth)}}return n.\u0275fac=function(t){return new(t||n)(T(z3))},n.\u0275cmp=Bt({type:n,selectors:[["app-root"]],hostBindings:function(t,r){1&t&&ne("resize",function(s){return r.onResize(s)},!1,qk)},decls:1,vars:0,template:function(t,r){1&t&&Fe(0,"router-outlet")},dependencies:[vg]}),n})();const qge=[];let Wge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=St({type:n}),n.\u0275inj=bt({imports:[ou.forChild(qge),ou]}),n})(),J3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=St({type:n}),n.\u0275inj=bt({imports:[ld]}),n})(),zge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=St({type:n}),n.\u0275inj=bt({imports:[ld,E2,gne,ou,J3]}),n})(),Kge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=St({type:n}),n.\u0275inj=bt({imports:[ld,Wge,zge,E2]}),n})();const X3="@firebase/database";let wx="";class Yge{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),pn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Vd(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Jge{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return hs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const eq=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Yge(e)}}catch{}return new Jge},Ga=eq("localStorage"),Ex=eq("sessionStorage"),Yu=new sa("@firebase/database"),tq=function(){let n=1;return function(){return n++}}(),nq=function(n){const e=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,O(r<n.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(n.charCodeAt(r)-56320)}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e}(n),t=new tre;t.update(e);const r=t.digest();return Vg.encodeByteArray(r)},nf=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=nf.apply(null,r):e+="object"==typeof r?pn(r):r,e+=" "}return e};let qa=null,rq=!0;const sn=function(...n){if(!0===rq&&(rq=!1,null===qa&&!0===Ex.get("logging_enabled")&&function(n,e){O(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Yu.logLevel=be.VERBOSE,qa=Yu.log.bind(Yu),e&&Ex.set("logging_enabled",!0)):"function"==typeof n?qa=n:(qa=null,Ex.remove("logging_enabled"))}(!0)),qa){const e=nf.apply(null,n);qa(e)}},rf=function(n){return function(...e){sn(n,...e)}},bx=function(...n){const e="FIREBASE INTERNAL ERROR: "+nf(...n);Yu.error(e)},Oi=function(...n){const e=`FIREBASE FATAL ERROR: ${nf(...n)}`;throw Yu.error(e),new Error(e)},On=function(...n){const e="FIREBASE WARNING: "+nf(...n);Yu.warn(e)},B_=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},As="[MIN_NAME]",Fi="[MAX_NAME]",Wa=function(n,e){if(n===e)return 0;if(n===As||e===Fi)return-1;if(e===As||n===Fi)return 1;{const t=U_(n),r=U_(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},eme=function(n,e){return n===e?0:n<e?-1:1},sf=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+pn(e))},Cx=function(n){if("object"!=typeof n||null===n)return pn(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=pn(e[r]),t+=":",t+=Cx(n[e[r]]);return t+="}",t},sq=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function on(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const oq=function(n){O(!B_(n),"Invalid JSON number");const r=1023;let i,s,o,a,l;0===n?(s=0,o=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const u=[];for(l=52;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},ime=new RegExp("^-?(0*)\\d{1,10}$"),U_=function(n){if(ime.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Ju=function(n){try{n()}catch(e){setTimeout(()=>{throw On("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},of=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class ome{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){On(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ame{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(sn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',On(e)}}let af=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const hq=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gq="websocket",mq="long_polling";class Dx{constructor(e,t,r,i,s=!1,o="",a=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ga.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ga.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function _q(n,e,t){let r;if(O("string"==typeof e,"typeof type must == string"),O("object"==typeof t,"typeof params must == object"),e===gq)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==mq)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function lme(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return on(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class ume{constructor(){this.counters_={}}incrementCounter(e,t=1){hs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Gne(this.counters_)}}const Sx={},Ax={};function xx(n){const e=n.toString();return Sx[e]||(Sx[e]=new ume),Sx[e]}class dme{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ju(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class po{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=rf(e),this.stats_=xx(t),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),_q(t,mq,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new dme(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Mx((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&hq.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){po.forceAllow_=!0}static forceDisallow(){po.forceDisallow_=!0}static isAvailable(){return!(!po.forceAllow_&&(po.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=pn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=P2(t),i=sq(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=pn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Mx{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=tq(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Mx.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){sn("frame writing exception"),a.stack&&sn(a.stack),sn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||sn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{sn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let j_=null;typeof MozWebSocket<"u"?j_=MozWebSocket:typeof WebSocket<"u"&&(j_=WebSocket);let Xu=(()=>{class n{constructor(t,r,i,s,o,a,l){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=rf(this.connId),this.stats_=xx(r),this.connURL=n.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,o){const a={v:"5"};return typeof location<"u"&&location.hostname&&hq.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),_q(t,gq,a)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ga.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new j_(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==j_&&!n.forceDisallow_}static previouslyFailed(){return Ga.isInMemoryStorage||!0===Ga.get("previous_websocket_failure")}markConnectionHealthy(){Ga.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=Vd(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(O(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=pn(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=sq(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),Tq=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[po,Xu]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=Xu&&Xu.isAvailable();let i=r&&!Xu.previouslyFailed();if(t.webSocketOnly&&(r||On("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Xu];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class kq{constructor(e,t,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=rf("c:"+this.id+":"),this.transportManager_=new Tq(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=of(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=sf("t",e),r=sf("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=sf("t",e),r=sf("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=sf("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?bx("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bx("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&On("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),of(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):of(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ga.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Nq{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class Pq{constructor(e){this.allowedEvents_=e,this.listeners_={},O(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){O(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class H_ extends Pq{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ug()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new H_}getInitialEvent(e){return O("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Pe{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function xe(){return new Pe("")}function _e(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function go(n){return n.pieces_.length-n.pieceNum_}function qe(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Pe(n.pieces_,e)}function Nx(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function lf(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Fq(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Pe(e,0)}function ot(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Pe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new Pe(t,0)}function ye(n){return n.pieceNum_>=n.pieces_.length}function Yn(n,e){const t=_e(n),r=_e(e);if(null===t)return e;if(t===r)return Yn(qe(n),qe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Px(n,e){if(go(n)!==go(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function $r(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(go(n)>go(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class Rme{constructor(e,t){this.errorPrefix_=t,this.parts_=lf(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=qg(this.parts_[r]);Lq(this)}}function Lq(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+za(n))}function za(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Rx extends Pq{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Rx}getInitialEvent(e){return O("visible"===e,"Unknown event type: "+e),[this.visible_]}}const uf=1e3;let q_,Ka=(()=>{class n extends Nq{constructor(t,r,i,s,o,a,l,u){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=n.nextPersistentConnectionId_++,this.log_=rf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=uf,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Rx.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&H_.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,o={r:s,a:t,b:r};this.log_(pn(o)),O(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new Fd,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const a=this.outstandingGets_[o];void 0===a||s!==a||(delete this.outstandingGets_[o],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+o+" timed out on connection"),r.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(o),r.promise}listen(t,r,i,s){this.initConnection_();const o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),O(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),O(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};t.tag&&(o.q=r._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,l=>{const u=l.d,c=l.s;n.warnOnListenWarnings_(u,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",l),"ok"!==c&&this.removeListen_(i,s),t.onComplete&&t.onComplete(c,u))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&hs(t,"w")){const i=uu(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();On(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=jg(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=function(n){const t=jg(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),O(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const o={p:t};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+pn(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):bx("Unrecognized action received from server: "+pn(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){O(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=uf,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=uf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=uf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return _(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let l=!1,u=null;const c=function(){u?u.close():(l=!0,s())};t.realtime_={close:c,sendRequest:function(f){O(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(f)}};const h=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([t.authTokenProvider_.getToken(h),t.appCheckTokenProvider_.getToken(h)]);l?sn("getToken() completed but was canceled"):(sn("getToken() completed. Creating connection."),t.authToken_=f&&f.accessToken,t.appCheckToken_=p&&p.token,u=new kq(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,g=>{On(g+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(f){t.log_("Failed to get token: "+f),l||(t.repoInfo_.nodeAdmin&&On(f),c())}}})()}interrupt(t){sn("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){sn("Resuming connection for reason: "+t),delete this.interruptReasons_[t],O2(this.interruptReasons_)&&(this.reconnectDelay_=uf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(o=>Cx(o)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new Pe(t).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){sn("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){sn("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+wx.replace(/\./g,"-")]=1,Ug()?t["framework.cordova"]=1:tC()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=H_.getInstance().currentlyOnline();return O2(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class ve{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new ve(e,t)}}class G_{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new ve(As,e),i=new ve(As,t);return 0!==this.compare(r,i)}minPost(){return ve.MIN}}class Uq extends G_{static get __EMPTY_NODE(){return q_}static set __EMPTY_NODE(e){q_=e}compare(e,t){return Wa(e.name,t.name)}isDefinedOn(e){throw lu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ve.MIN}maxPost(){return new ve(Fi,q_)}makePost(e,t){return O("string"==typeof e,"KeyIndex indexValue must always be a string."),new ve(e,q_)}toString(){return".key"}}const Li=new Uq;class W_{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let Fx,ci=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=i??n.RED,this.left=s??lr.EMPTY_NODE,this.right=o??lr.EMPTY_NODE}copy(t,r,i,s,o){return new n(t??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return lr.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return lr.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class lr{constructor(e,t=lr.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new lr(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ci.BLACK,null,null))}remove(e){return new lr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ci.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new W_(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new W_(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new W_(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new W_(this.root_,null,this.comparator_,!0,e)}}function Hme(n,e){return Wa(n.name,e.name)}function Ox(n,e){return Wa(n,e)}lr.EMPTY_NODE=new class jme{copy(e,t,r,i,s){return this}insert(e,t,r){return new ci(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const $q=function(n){return"number"==typeof n?"number:"+oq(n):"string:"+n},jq=function(n){if(n.isLeafNode()){const e=n.val();O("string"==typeof e||"number"==typeof e||"object"==typeof e&&hs(e,".sv"),"Priority must be a string or number.")}else O(n===Fx||n.isEmpty(),"priority of unexpected type.");O(n===Fx||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Hq,Gq,qq,Zu=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,O(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),jq(this.priorityNode_)}static set __childrenNodeConstructor(t){Hq=t}static get __childrenNodeConstructor(){return Hq}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ye(t)?this:".priority"===_e(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=_e(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:(O(".priority"!==i||1===go(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(qe(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+$q(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?oq(this.value_):this.value_,this.lazyHash_=nq(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(O(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return O(s>=0,"Unknown leaf type: "+r),O(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Xe=new class zme extends G_{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?Wa(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ve.MIN}maxPost(){return new ve(Fi,new Zu("[PRIORITY-POST]",qq))}makePost(e,t){const r=Gq(e);return new ve(t,new Zu("[PRIORITY-POST]",r))}toString(){return".priority"}},Kme=Math.log(2);class Qme{constructor(e){this.count=parseInt(Math.log(e+1)/Kme,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const z_=function(n,e,t,r){n.sort(e);const i=function(l,u){const c=u-l;let d,h;if(0===c)return null;if(1===c)return d=n[l],h=t?t(d):d,new ci(h,d.node,ci.BLACK,null,null);{const f=parseInt(c/2,10)+l,p=i(l,f),g=i(f+1,u);return d=n[f],h=t?t(d):d,new ci(h,d.node,ci.BLACK,p,g)}},a=function(l){let u=null,c=null,d=n.length;const h=function(p,g){const m=d-p,v=d;d-=p;const I=i(m+1,v),y=n[m],S=t?t(y):y;f(new ci(S,y.node,g,null,I))},f=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),m=Math.pow(2,l.count-(p+1));g?h(m,ci.BLACK):(h(m,ci.BLACK),h(m,ci.RED))}return c}(new Qme(n.length));return new lr(r||e,a)};let Lx;const ec={};class xs{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return O(ec&&Xe,"ChildrenNode.ts has not been loaded"),Lx=Lx||new xs({".priority":ec},{".priority":Xe}),Lx}get(e){const t=uu(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof lr?t:null}hasIndex(e){return hs(this.indexSet_,e.toString())}addIndex(e,t){O(e!==Li,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(ve.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?z_(r,e.getCompare()):ec;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new xs(c,u)}addToIndexes(e,t){const r=Hg(this.indexes_,(i,s)=>{const o=uu(this.indexSet_,s);if(O(o,"Missing index implementation for "+s),i===ec){if(o.isDefinedOn(e.node)){const a=[],l=t.getIterator(ve.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),z_(a,o.getCompare())}return ec}{const a=t.get(e.name);let l=i;return a&&(l=l.remove(new ve(e.name,a))),l.insert(e,e.node)}});return new xs(r,this.indexSet_)}removeFromIndexes(e,t){const r=Hg(this.indexes_,i=>{if(i===ec)return i;{const s=t.get(e.name);return s?i.remove(new ve(e.name,s)):i}});return new xs(r,this.indexSet_)}}let cf,ue=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&jq(this.priorityNode_),this.children_.isEmpty()&&O(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return cf||(cf=new n(new lr(Ox),null,xs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||cf}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?cf:r}}getChild(t){const r=_e(t);return null===r?this:this.getImmediateChild(r).getChild(qe(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if(O(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new ve(t,r);let s,o;r.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?cf:this.priorityNode_;return new n(s,a,o)}}updateChild(t,r){const i=_e(t);if(null===i)return r;{O(".priority"!==_e(t)||1===go(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(qe(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(Xe,(a,l)=>{r[a]=l.val(t),i++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+$q(this.getPriority().val())+":"),this.forEachChild(Xe,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":nq(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new ve(t,r));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new ve(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new ve(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,ve.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,ve.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===df?-1:0}withIndex(t){if(t===Li||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Li||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Xe),s=r.getIterator(Xe);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(t){return t===Li?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const df=new class Yme extends ue{constructor(){super(new lr(Ox),ue.EMPTY_NODE,xs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ue.EMPTY_NODE}isEmpty(){return!1}};function ft(n,e=null){if(null===n)return ue.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),O(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Zu(n,ft(e));if(n instanceof Array){let t=ue.EMPTY_NODE;return on(n,(r,i)=>{if(hs(n,r)&&"."!==r.substring(0,1)){const s=ft(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(ft(e))}{const t=[];let r=!1;if(on(n,(o,a)=>{if("."!==o.substring(0,1)){const l=ft(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),t.push(new ve(o,l)))}}),0===t.length)return ue.EMPTY_NODE;const s=z_(t,Hme,o=>o.name,Ox);if(r){const o=z_(t,Xe.getCompare());return new ue(s,ft(e),new xs({".priority":o},{".priority":Xe}))}return new ue(s,ft(e),xs.Default)}}Object.defineProperties(ve,{MIN:{value:new ve(As,ue.EMPTY_NODE)},MAX:{value:new ve(Fi,df)}}),Uq.__EMPTY_NODE=ue.EMPTY_NODE,Zu.__childrenNodeConstructor=ue,function Gme(n){Fx=n}(df),function Wme(n){qq=n}(df),function qme(n){Gq=n}(ft);class Vx extends G_{constructor(e){super(),this.indexPath_=e,O(!ye(e)&&".priority"!==_e(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?Wa(e.name,t.name):s}makePost(e,t){const r=ft(e),i=ue.EMPTY_NODE.updateChild(this.indexPath_,r);return new ve(t,i)}maxPost(){const e=ue.EMPTY_NODE.updateChild(this.indexPath_,df);return new ve(Fi,e)}toString(){return lf(this.indexPath_,0).join("/")}}const Bx=new class Xme extends G_{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?Wa(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ve.MIN}maxPost(){return ve.MAX}makePost(e,t){const r=ft(e);return new ve(t,r)}toString(){return".value"}};function ff(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class jx{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xe}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return O(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return O(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:As}hasEnd(){return this.endSet_}getIndexEndValue(){return O(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return O(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Fi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return O(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Xe}copy(){const e=new jx;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Jq(n){const e={};if(n.isDefault())return e;let t;return n.index_===Xe?t="$priority":n.index_===Bx?t="$value":n.index_===Li?t="$key":(O(n.index_ instanceof Vx,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=pn(t),n.startSet_&&(e.startAt=pn(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+pn(n.indexStartName_))),n.endSet_&&(e.endAt=pn(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+pn(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Xq(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Xe&&(e.i=n.index_.toString()),e}class Q_ extends Nq{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=rf("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(O(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Q_.getListenId_(e,r),a={};this.listens_[o]=a;const l=Jq(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(404===u&&(d=null,u=null),null===u&&this.onDataUpdate_(s,d,!1,r),uu(this.listens_,o)===a){let h;h=u?401===u?"permission_denied":"rest_error:"+u:"ok",i(h,null)}})}unlisten(e,t){const r=Q_.getListenId_(e,t);delete this.listens_[r]}get(e){const t=Jq(e._queryParams),r=e._path.toString(),i=new Fd;return this.restRequest_(r+".json",t,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+iC(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Vd(a.responseText)}catch{On("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&On("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class a_e{constructor(){this.rootNode_=ue.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Y_(){return{value:null,children:new Map}}function rc(n,e,t){if(ye(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=_e(e);n.children.has(r)||n.children.set(r,Y_()),rc(n.children.get(r),e=qe(e),t)}}function Wx(n,e,t){null!==n.value?t(e,n.value):function l_e(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{Wx(i,new Pe(e.toString()+"/"+r),t)})}class u_e{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&on(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class h_e{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new u_e(e);const r=1e4+2e4*Math.random();of(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;on(e,(i,s)=>{s>0&&hs(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),of(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var jr=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(jr||(jr={})),jr))();function Qx(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class J_{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=jr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ye(this.path)){if(null!=this.affectedTree.value)return O(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Pe(e));return new J_(xe(),t,this.revert)}}return O(_e(this.path)===e,"operationForChild called for unrelated child."),new J_(qe(this.path),this.affectedTree,this.revert)}}class Qa{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=jr.OVERWRITE}operationForChild(e){return ye(this.path)?new Qa(this.source,xe(),this.snap.getImmediateChild(e)):new Qa(this.source,qe(this.path),this.snap)}}class ic{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=jr.MERGE}operationForChild(e){if(ye(this.path)){const t=this.children.subtree(new Pe(e));return t.isEmpty()?null:t.value?new Qa(this.source,xe(),t.value):new ic(this.source,xe(),t)}return O(_e(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ic(this.source,qe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class mo{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ye(e))return this.isFullyInitialized()&&!this.filtered_;const t=_e(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function mf(n,e,t,r,i,s){const o=r.filter(a=>a.type===t);o.sort((a,l)=>function m_e(n,e,t){if(null==e.childName||null==t.childName)throw lu("Should only compare child_ events.");const r=new ve(e.childName,e.snapshotNode),i=new ve(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,a,l)),o.forEach(a=>{const l=function g_e(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,n.query_))})})}function X_(n,e){return{eventCache:n,serverCache:e}}function _f(n,e,t,r){return X_(new mo(e,t,r),n.serverCache)}function eW(n,e,t,r){return X_(n.eventCache,new mo(e,t,r))}function Z_(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ya(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Yx;class Ze{constructor(e,t=(()=>(Yx||(Yx=new lr(eme)),Yx))()){this.value=e,this.children=t}static fromObject(e){let t=new Ze(null);return on(e,(r,i)=>{t=t.set(new Pe(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:xe(),value:this.value};if(ye(e))return null;{const r=_e(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(qe(e),t);return null!=s?{path:ot(new Pe(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ye(e))return this;{const t=_e(e),r=this.children.get(t);return null!==r?r.subtree(qe(e)):new Ze(null)}}set(e,t){if(ye(e))return new Ze(t,this.children);{const r=_e(e),s=(this.children.get(r)||new Ze(null)).set(qe(e),t),o=this.children.insert(r,s);return new Ze(this.value,o)}}remove(e){if(ye(e))return this.children.isEmpty()?new Ze(null):new Ze(null,this.children);{const t=_e(e),r=this.children.get(t);if(r){const i=r.remove(qe(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new Ze(null):new Ze(this.value,s)}return this}}get(e){if(ye(e))return this.value;{const t=_e(e),r=this.children.get(t);return r?r.get(qe(e)):null}}setTree(e,t){if(ye(e))return t;{const r=_e(e),s=(this.children.get(r)||new Ze(null)).setTree(qe(e),t);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new Ze(this.value,o)}}fold(e){return this.fold_(xe(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ot(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,xe(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(ye(e))return null;{const s=_e(e),o=this.children.get(s);return o?o.findOnPath_(qe(e),ot(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,xe(),t)}foreachOnPath_(e,t,r){if(ye(e))return this;{this.value&&r(t,this.value);const i=_e(e),s=this.children.get(i);return s?s.foreachOnPath_(qe(e),ot(t,i),r):new Ze(null)}}foreach(e){this.foreach_(xe(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(ot(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class di{constructor(e){this.writeTree_=e}static empty(){return new di(new Ze(null))}}function yf(n,e,t){if(ye(e))return new di(new Ze(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=Yn(i,e);return s=s.updateChild(o,t),new di(n.writeTree_.set(i,s))}{const i=new Ze(t),s=n.writeTree_.setTree(e,i);return new di(s)}}}function Jx(n,e,t){let r=n;return on(t,(i,s)=>{r=yf(r,ot(e,i),s)}),r}function tW(n,e){if(ye(e))return di.empty();{const t=n.writeTree_.setTree(e,new Ze(null));return new di(t)}}function Xx(n,e){return null!=Ja(n,e)}function Ja(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Yn(t.path,e)):null}function nW(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Xe,(r,i)=>{e.push(new ve(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new ve(r,i.value))}),e}function _o(n,e){if(ye(e))return n;{const t=Ja(n,e);return new di(null!=t?new Ze(t):n.writeTree_.subtree(e))}}function Zx(n){return n.writeTree_.isEmpty()}function sc(n,e){return rW(xe(),n.writeTree_,e)}function rW(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(O(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=rW(ot(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(ot(n,".priority"),r)),t}}function ey(n,e){return lW(e,n)}function b_e(n,e){if(n.snap)return $r(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&$r(ot(n.path,t),e))return!0;return!1}function T_e(n){return n.visible}function iW(n,e,t){let r=di.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let a;if(s.snap)$r(t,o)?(a=Yn(t,o),r=yf(r,a,s.snap)):$r(o,t)&&(a=Yn(o,t),r=yf(r,xe(),s.snap.getChild(a)));else{if(!s.children)throw lu("WriteRecord should have .snap or .children");if($r(t,o))a=Yn(t,o),r=Jx(r,a,s.children);else if($r(o,t))if(a=Yn(o,t),ye(a))r=Jx(r,xe(),s.children);else{const l=uu(s.children,_e(a));if(l){const u=l.getChild(qe(a));r=yf(r,xe(),u)}}}}}return r}function sW(n,e,t,r,i){if(r||i){const s=_o(n.visibleWrites,e);return!i&&Zx(s)?t:i||null!=t||Xx(s,xe())?sc(iW(n.allWrites,function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&($r(u.path,e)||$r(e,u.path))},e),t||ue.EMPTY_NODE):null}{const s=Ja(n.visibleWrites,e);if(null!=s)return s;{const o=_o(n.visibleWrites,e);return Zx(o)?t:null!=t||Xx(o,xe())?sc(o,t||ue.EMPTY_NODE):null}}}function ty(n,e,t,r){return sW(n.writeTree,n.treePath,e,t,r)}function eM(n,e){return function I_e(n,e,t){let r=ue.EMPTY_NODE;const i=Ja(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Xe,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=_o(n.visibleWrites,e);return t.forEachChild(Xe,(o,a)=>{const l=sc(_o(s,new Pe(o)),a);r=r.updateImmediateChild(o,l)}),nW(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return nW(_o(n.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(n.writeTree,n.treePath,e)}function oW(n,e,t,r){return function D_e(n,e,t,r,i){O(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ot(e,t);if(Xx(n.visibleWrites,s))return null;{const o=_o(n.visibleWrites,s);return Zx(o)?i.getChild(t):sc(o,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function ny(n,e){return function A_e(n,e){return Ja(n.visibleWrites,e)}(n.writeTree,ot(n.treePath,e))}function tM(n,e,t){return function S_e(n,e,t,r){const i=ot(e,t),s=Ja(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?sc(_o(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function aW(n,e){return lW(ot(n.treePath,e),n.writeTree)}function lW(n,e){return{treePath:n,writeTree:e}}class N_e{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;O("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),O(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,ff(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,function hf(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,function nc(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw lu("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,ff(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const uW=new class P_e{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class nM{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new mo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return tM(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ya(this.viewCache_),s=function k_e(n,e,t,r,i,s){return function x_e(n,e,t,r,i,s,o){let a;const l=_o(n.visibleWrites,e),u=Ja(l,xe());if(null!=u)a=u;else{if(null==t)return[];a=sc(l,t)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&c.length<i;)0!==d(f,r)&&c.push(f),f=h.getNext();return c}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function cW(n,e,t,r,i,s){const o=e.eventCache;if(null!=ny(r,t))return e;{let a,l;if(ye(t))if(O(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Ya(e),d=eM(r,u instanceof ue?u:ue.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=ty(r,Ya(e));a=n.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=_e(t);if(".priority"===u){O(1===go(t),"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=oW(r,t,c,l);a=null!=d?n.filter.updatePriority(c,d):o.getNode()}else{const c=qe(t);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=oW(r,t,o.getNode(),l);d=null!=h?o.getNode().getImmediateChild(u).updateChild(c,h):o.getNode().getImmediateChild(u)}else d=tM(r,u,e.serverCache);a=null!=d?n.filter.updateChild(o.getNode(),u,d,c,i,s):o.getNode()}}return _f(e,a,o.isFullyInitialized()||ye(t),n.filter.filtersNodes())}}function ry(n,e,t,r,i,s,o,a){const l=e.serverCache;let u;const c=o?n.filter:n.filter.getIndexedFilter();if(ye(t))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(t,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=_e(t);if(!l.isCompleteForPath(t)&&go(t)>1)return e;const p=qe(t),m=l.getNode().getImmediateChild(f).updateChild(p,r);u=".priority"===f?c.updatePriority(l.getNode(),m):c.updateChild(l.getNode(),f,m,p,uW,null)}const d=eW(e,u,l.isFullyInitialized()||ye(t),c.filtersNodes());return cW(n,d,t,i,new nM(i,d,s),a)}function rM(n,e,t,r,i,s,o){const a=e.eventCache;let l,u;const c=new nM(i,e,s);if(ye(t))u=n.filter.updateFullNode(e.eventCache.getNode(),r,o),l=_f(e,u,!0,n.filter.filtersNodes());else{const d=_e(t);if(".priority"===d)u=n.filter.updatePriority(e.eventCache.getNode(),r),l=_f(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=qe(t),f=a.getNode().getImmediateChild(d);let p;if(ye(h))p=r;else{const g=c.getCompleteChild(d);p=null!=g?".priority"===Nx(h)&&g.getChild(Fq(h)).isEmpty()?g:g.updateChild(h,r):ue.EMPTY_NODE}l=f.equals(p)?e:_f(e,n.filter.updateChild(a.getNode(),d,p,h,c,o),a.isFullyInitialized(),n.filter.filtersNodes())}}return l}function dW(n,e){return n.eventCache.isCompleteForChild(e)}function hW(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function iM(n,e,t,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u,l=e;u=ye(t)?r:new Ze(null).setTree(t,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const p=hW(0,e.serverCache.getNode().getImmediateChild(d),h);l=ry(n,l,new Pe(d),p,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&void 0===h.value;if(!c.hasChild(d)&&!f){const g=hW(0,e.serverCache.getNode().getImmediateChild(d),h);l=ry(n,l,new Pe(d),g,i,s,o,a)}}),l}function q_e(n,e){const t=Ya(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!ye(e)&&!t.getImmediateChild(_e(e)).isEmpty())?t.getChild(e):null}function gW(n,e,t,r){e.type===jr.MERGE&&null!==e.source.queryId&&(O(Ya(n.viewCache_),"We should always have a full cache before handling merges"),O(Z_(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function F_e(n,e,t,r,i){const s=new N_e;let o,a;if(t.type===jr.OVERWRITE){const u=t;u.source.fromUser?o=rM(n,e,u.path,u.snap,r,i,s):(O(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!ye(u.path),o=ry(n,e,u.path,u.snap,r,i,a,s))}else if(t.type===jr.MERGE){const u=t;u.source.fromUser?o=function V_e(n,e,t,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=ot(t,l);dW(e,_e(c))&&(a=rM(n,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=ot(t,l);dW(e,_e(c))||(a=rM(n,a,c,u,i,s,o))}),a}(n,e,u.path,u.children,r,i,s):(O(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=iM(n,e,u.path,u.children,r,i,a,s))}else if(t.type===jr.ACK_USER_WRITE){const u=t;o=u.revert?function $_e(n,e,t,r,i,s){let o;if(null!=ny(r,t))return e;{const a=new nM(r,e,i),l=e.eventCache.getNode();let u;if(ye(t)||".priority"===_e(t)){let c;if(e.serverCache.isFullyInitialized())c=ty(r,Ya(e));else{const d=e.serverCache.getNode();O(d instanceof ue,"serverChildren would be complete if leaf node"),c=eM(r,d)}u=n.filter.updateFullNode(l,c,s)}else{const c=_e(t);let d=tM(r,c,e.serverCache);null==d&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),u=null!=d?n.filter.updateChild(l,c,d,qe(t),a,s):e.eventCache.getNode().hasChild(c)?n.filter.updateChild(l,c,ue.EMPTY_NODE,qe(t),a,s):l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=ty(r,Ya(e)),o.isLeafNode()&&(u=n.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=ny(r,xe()),_f(e,u,o,n.filter.filtersNodes())}}(n,e,u.path,r,i,s):function B_e(n,e,t,r,i,s,o){if(null!=ny(i,t))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(ye(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return ry(n,e,t,l.getNode().getChild(t),i,s,a,o);if(ye(t)){let u=new Ze(null);return l.getNode().forEachChild(Li,(c,d)=>{u=u.set(new Pe(c),d)}),iM(n,e,t,u,i,s,a,o)}return e}{let u=new Ze(null);return r.foreach((c,d)=>{const h=ot(t,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),iM(n,e,t,u,i,s,a,o)}}(n,e,u.path,u.affectedTree,r,i,s)}else{if(t.type!==jr.LISTEN_COMPLETE)throw lu("Unknown operation type: "+t.type);o=function U_e(n,e,t,r,i){const s=e.serverCache;return cW(n,eW(e,s.getNode(),s.isFullyInitialized()||ye(t),s.isFiltered()),t,r,uW,i)}(n,e,t.path,r,s)}const l=s.getChanges();return function L_e(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Z_(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(function Yq(n){return{type:"value",snapshotNode:n}}(Z_(e)))}}(e,o,l),{viewCache:o,changes:l}}(n.processor_,i,e,t,r);return function O_e(n,e){O(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),O(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),O(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,function mW(n,e,t,r){return function p_e(n,e,t,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function e_e(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(o.childName,o.snapshotNode))}),mf(n,i,"child_removed",e,r,t),mf(n,i,"child_added",e,r,t),mf(n,i,"child_moved",s,r,t),mf(n,i,"child_changed",e,r,t),mf(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}(n,s.changes,s.viewCache.eventCache.getNode(),null)}let iy,oy;function sM(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return O(null!=s,"SyncTree gave us an op for an invalid query."),gW(s,e,t,r)}{let s=[];for(const o of n.views.values())s=s.concat(gW(o,e,t,r));return s}}function yo(n,e){let t=null;for(const r of n.views.values())t=t||q_e(r,e);return t}class EW{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ze(null),this.pendingWriteTree_=function M_e(){return{visibleWrites:di.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function aM(n,e,t,r,i){return function y_e(n,e,t,r,i){O(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=yf(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?oc(n,new Qa({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function wo(n,e,t=!1){const r=function w_e(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function E_e(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);O(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&b_e(a,r.path)?i=!1:$r(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function C_e(n){n.visibleWrites=iW(n.allWrites,T_e,xe()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=tW(n.visibleWrites,r.path):on(r.children,l=>{n.visibleWrites=tW(n.visibleWrites,ot(r.path,l))}),!0))}(n.pendingWriteTree_,e)){let s=new Ze(null);return null!=r.snap?s=s.set(xe(),!0):on(r.children,o=>{s=s.set(new Pe(o),!0)}),oc(n,new J_(r.path,s,t))}return[]}function vf(n,e,t){return oc(n,new Qa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function ly(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{const u=yo(a,Yn(o,e));if(u)return u});return sW(i,e,s,t,!0)}function oc(n,e){return IW(e,n.syncPointTree_,null,ey(n.pendingWriteTree_,xe()))}function IW(n,e,t,r){if(ye(n.path))return DW(n,e,t,r);{const i=e.get(xe());null==t&&null!=i&&(t=yo(i,xe()));let s=[];const o=_e(n.path),a=n.operationForChild(o),l=e.children.get(o);if(l&&a){const u=t?t.getImmediateChild(o):null,c=aW(r,o);s=s.concat(IW(a,l,u,c))}return i&&(s=s.concat(sM(i,n,r,t))),s}}function DW(n,e,t,r){const i=e.get(xe());null==t&&null!=i&&(t=yo(i,xe()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=t?t.getImmediateChild(o):null,u=aW(r,o),c=n.operationForChild(o);c&&(s=s.concat(DW(c,a,l,u)))}),i&&(s=s.concat(sM(i,n,r,t))),s}function lM(n,e){return n.tagToQueryMap.get(e)}function uM(n){const e=n.indexOf("$");return O(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Pe(n.substr(0,e))}}function cM(n,e,t){const r=n.syncPointTree_.get(e);return O(r,"Missing sync point for query tag that we're tracking"),sM(r,t,ey(n.pendingWriteTree_,e),null)}class dM{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new dM(t)}node(){return this.node_}}class hM{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=ot(this.path_,e);return new hM(this.syncTree_,t)}node(){return ly(this.syncTree_,this.path_)}}const AW=function(n,e,t){return n&&"object"==typeof n?(O(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?pye(n[".sv"],e,t):"object"==typeof n[".sv"]?gye(n[".sv"],e):void O(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},pye=function(n,e,t){if("timestamp"===n)return t.timestamp;O(!1,"Unexpected server value: "+n)},gye=function(n,e,t){n.hasOwnProperty("increment")||O(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&O(!1,"Unexpected increment value: "+r);const i=e.node();if(O(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},fM=function(n,e,t){return pM(n,new dM(e),t)};function pM(n,e,t){const r=n.getPriority().val(),i=AW(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,a=AW(o.getValue(),e,t);return a!==o.getValue()||i!==o.getPriority().val()?new Zu(a,ft(i)):n}{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Zu(i))),o.forEachChild(Xe,(a,l)=>{const u=pM(l,e.getImmediateChild(a),t);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}class gM{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function cy(n,e){let t=e instanceof Pe?e:new Pe(e),r=n,i=_e(t);for(;null!==i;){const s=uu(r.node.children,i)||{children:{},childCount:0};r=new gM(i,r,s),t=qe(t),i=_e(t)}return r}function Xa(n){return n.node.value}function mM(n,e){n.node.value=e,_M(n)}function MW(n){return n.node.childCount>0}function dy(n,e){on(n.node.children,(t,r)=>{e(new gM(t,n,r))})}function kW(n,e,t,r){t&&!r&&e(n),dy(n,i=>{kW(i,e,!0,r)}),t&&r&&e(n)}function bf(n){return new Pe(null===n.parent?n.name:bf(n.parent)+"/"+n.name)}function _M(n){null!==n.parent&&function yye(n,e,t){const r=function mye(n){return void 0===Xa(n)&&!MW(n)}(t),i=hs(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,_M(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,_M(n))}(n.parent,n.name,n)}const vye=/[\[\].#$\/\u0000-\u001F\u007F]/,wye=/[\[\].#$\u0000-\u001F\u007F]/,yM=10485760,hy=function(n){return"string"==typeof n&&0!==n.length&&!vye.test(n)},Tf=function(n,e,t){const r=t instanceof Pe?new Rme(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+za(r));if("function"==typeof e)throw new Error(n+"contains a function "+za(r)+" with contents = "+e.toString());if(B_(e))throw new Error(n+"contains "+e.toString()+" "+za(r));if("string"==typeof e&&e.length>yM/3&&qg(e)>yM)throw new Error(n+"contains a string greater than "+yM+" utf8 bytes "+za(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(on(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!hy(o)))throw new Error(n+" contains an invalid key ("+o+") "+za(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Ome(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=qg(e),Lq(n)})(r,o),Tf(n,a,r),function Fme(n){const e=n.parts_.pop();n.byteLength_-=qg(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+za(r)+" in addition to actual children.")}},RW=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!hy(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!wye.test(n)}(n)}(t))throw new Error(function Gg(n,e){return`${n} failed: ${e} argument `}(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Tye{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Hr(n,e,t){(function fy(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!Px(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)})(n,t),function FW(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(Iye(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>$r(r,e)||$r(e,r))}function Iye(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();qa&&sn("event: "+t.toString()),Ju(r)}}}class Sye{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Tye,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Y_(),this.transactionQueueTree_=new gM,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function VW(n){const t=n.infoData_.getNode(new Pe(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Df(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:VW(n)})}function BW(n,e,t,r,i){n.dataUpdateCount++;const s=new Pe(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const l=Hg(t,u=>ft(u));o=function aye(n,e,t,r){const i=lM(n,r);if(i){const s=uM(i),o=s.path,a=s.queryId,l=Yn(o,e),u=Ze.fromObject(t);return cM(n,o,new ic(Qx(a),l,u))}return[]}(n.serverSyncTree_,s,l,i)}else{const l=ft(t);o=function bW(n,e,t,r){const i=lM(n,r);if(null!=i){const s=uM(i),o=s.path,a=s.queryId,l=Yn(o,e);return cM(n,o,new Qa(Qx(a),l,t))}return[]}(n.serverSyncTree_,s,l,i)}else if(r){const l=Hg(t,u=>ft(u));o=function rye(n,e,t){const r=Ze.fromObject(t);return oc(n,new ic({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,l)}else{const l=ft(t);o=vf(n.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=ac(n,s)),Hr(n.eventQueue_,a,o)}function UW(n,e){EM(n,"connected",e),!1===e&&function Nye(n){Za(n,"onDisconnectEvents");const e=Df(n),t=Y_();Wx(n.onDisconnect_,xe(),(i,s)=>{const o=function(n,e,t,r){return pM(e,new hM(t,n),r)}(i,s,n.serverSyncTree_,e);rc(t,i,o)});let r=[];Wx(t,xe(),(i,s)=>{r=r.concat(vf(n.serverSyncTree_,i,s));const o=function IM(n,e){const t=bf(HW(n,e)),r=cy(n.transactionQueueTree_,e);return function _ye(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{DM(n,i)}),DM(n,r),kW(r,i=>{DM(n,i)}),t}(n,i);ac(n,o)}),n.onDisconnect_=Y_(),Hr(n.eventQueue_,xe(),r)}(n)}function EM(n,e,t){const r=new Pe("/.info/"+e),i=ft(t);n.infoData_.updateSnapshot(r,i);const s=vf(n.infoSyncTree_,r,i);Hr(n.eventQueue_,r,s)}function py(n){return n.nextWriteId_++}function Za(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),sn(t,...e)}function TM(n,e,t){return ly(n.serverSyncTree_,e,t)||ue.EMPTY_NODE}function gy(n,e=n.transactionQueueTree_){if(e||my(n,e),Xa(e)){const t=GW(n,e);O(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function Bye(n,e,t){const r=t.map(u=>u.currentWriteId),i=TM(n,e,r);let s=i;const o=i.hash();for(let u=0;u<t.length;u++){const c=t[u];O(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Yn(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;n.server_.put(l.toString(),a,u=>{Za(n,"transaction put response",{path:l.toString(),status:u});let c=[];if("ok"===u){const d=[];for(let h=0;h<t.length;h++)t[h].status=2,c=c.concat(wo(n.serverSyncTree_,t[h].currentWriteId)),t[h].onComplete&&d.push(()=>t[h].onComplete(null,!0,t[h].currentOutputSnapshotResolved)),t[h].unwatcher();my(n,cy(n.transactionQueueTree_,e)),gy(n,n.transactionQueueTree_),Hr(n.eventQueue_,e,c);for(let h=0;h<d.length;h++)Ju(d[h])}else{if("datastale"===u)for(let d=0;d<t.length;d++)t[d].status=3===t[d].status?4:0;else{On("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=u}ac(n,e)}},o)}(n,bf(e),t)}else MW(e)&&dy(e,t=>{gy(n,t)})}function ac(n,e){const t=HW(n,e),r=bf(t);return function Uye(n,e,t){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Yn(t,l.path);let d,c=!1;if(O(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)c=!0,d=l.abortReason,i=i.concat(wo(n.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)c=!0,d="maxretry",i=i.concat(wo(n.serverSyncTree_,l.currentWriteId,!0));else{const h=TM(n,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){Tf("transaction failed: Data returned ",f,l.path);let p=ft(f);"object"==typeof f&&null!=f&&hs(f,".priority")||(p=p.updatePriority(h.getPriority()));const m=l.currentWriteId,v=Df(n),I=fM(p,h,v);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=I,l.currentWriteId=py(n),o.splice(o.indexOf(m),1),i=i.concat(aM(n.serverSyncTree_,l.path,I,l.currentWriteId,l.applyLocally)),i=i.concat(wo(n.serverSyncTree_,m,!0))}else c=!0,d="nodata",i=i.concat(wo(n.serverSyncTree_,l.currentWriteId,!0))}Hr(n.eventQueue_,t,i),i=[],c&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}my(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)Ju(r[a]);gy(n,n.transactionQueueTree_)}(n,GW(n,t),r),r}function HW(n,e){let t,r=n.transactionQueueTree_;for(t=_e(e);null!==t&&void 0===Xa(r);)r=cy(r,t),t=_e(e=qe(e));return r}function GW(n,e){const t=[];return qW(n,e,t),t.sort((r,i)=>r.order-i.order),t}function qW(n,e,t){const r=Xa(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);dy(e,i=>{qW(n,i,t)})}function my(n,e){const t=Xa(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,mM(e,t.length>0?t:void 0)}dy(e,r=>{my(n,r)})}function DM(n,e){const t=Xa(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)3===t[o].status||(1===t[o].status?(O(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(O(0===t[o].status,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(wo(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?mM(e,void 0):t.length=s+1,Hr(n.eventQueue_,bf(e),i);for(let o=0;o<r.length;o++)Ju(r[o])}}const SM=function(n,e){const t=Hye(n),r=t.namespace;return"firebase.com"===t.domain&&Oi(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Oi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&On("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Dx(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new Pe(t.pathString)}},Hye=function(n){let e="",t="",r="",i="",s="",o=!0,a="https",l=443;if("string"==typeof n){let u=n.indexOf("//");u>=0&&(a=n.substring(0,u-1),n=n.substring(u+2));let c=n.indexOf("/");-1===c&&(c=n.length);let d=n.indexOf("?");-1===d&&(d=n.length),e=n.substring(0,Math.min(c,d)),c<d&&(i=function $ye(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(c,d)));const h=function jye(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):On(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,d)));u=e.indexOf(":"),u>=0?(o="https"===a||"wss"===a,l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if("localhost"===f.toLowerCase())t="localhost";else if(f.split(".").length<=2)t=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),t=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:t,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class Dr{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return ye(this._path)?null:Nx(this._path)}get ref(){return new hi(this._repo,this._path)}get _queryIdentifier(){const e=Xq(this._queryParams),t=Cx(e);return"{}"===t?"default":t}get _queryObject(){return Xq(this._queryParams)}isEqual(e){if(!((e=kn(e))instanceof Dr))return!1;const t=this._repo===e._repo,r=Px(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Nme(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class hi extends Dr{constructor(e,t){super(e,t,new jx,!1)}get parent(){const e=Fq(this._path);return null===e?null:new hi(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function K_e(n){O(!iy,"__referenceConstructor has already been defined"),iy=n})(hi),function Z_e(n){O(!oy,"__referenceConstructor has already been defined"),oy=n}(hi);const AM={};class lve{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Aye(n,e,t){if(n.stats_=xx(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Q_(n.repoInfo_,(r,i,s,o)=>{BW(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>UW(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{pn(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Ka(n.repoInfo_,e,(r,i,s,o)=>{BW(n,r,i,s,o)},r=>{UW(n,r)},r=>{!function xye(n,e){on(e,(t,r)=>{EM(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function cme(n,e){const t=n.toString();return Ax[t]||(Ax[t]=e()),Ax[t]}(n.repoInfo_,()=>new h_e(n.stats_,n.server_)),n.infoData_=new a_e,n.infoSyncTree_=new EW({startListening:(r,i,s,o)=>{let a=[];const l=n.infoData_.getNode(r._path);return l.isEmpty()||(a=vf(n.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),EM(n,"connected",!1),n.serverSyncTree_=new EW({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Hr(n.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new hi(this._repo,xe())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function sve(n,e){const t=AM[e];(!t||t[n.key]!==n)&&Oi(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function jW(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Oi("Cannot call "+e+" on a deleted database.")}}function uve(n=yC(),e){return Bd(n,"database").getImmediate({identifier:e})}Ka.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Ka.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function cve(n){(function Qge(n){wx=n})("9.8.4"),Nn(new gn("database",(e,{instanceIdentifier:t})=>function ive(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||Oi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),sn("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l,u,o=SM(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=SM(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new af(af.OWNER):new ame(n.name,n.options,e);RW("Invalid Firebase Database URL",o),ye(o.path)||Oi("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function ove(n,e,t,r){let i=AM[e.name];i||(i={},AM[e.name]=i);let s=i[n.toURLString()];return s&&Oi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Sye(n,!1,t,r),i[n.toURLString()]=s,s}(a,n,c,new ome(n.name,t));return new lve(d,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),rt(X3,"0.13.2",n),rt(X3,"0.13.2","esm2017")}();class xM{constructor(e){return e}}const ez="database",MM=new Q("angularfire2.database-instances");function gve(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new xM(r)}}const mve={provide:class fve{constructor(){return nm(ez)}},deps:[[new ut,MM]]},_ve={provide:xM,useFactory:function pve(n,e){const t=tm(ez,n,e);return t&&new xM(t)},deps:[[new ut,MM],fa]};let yve=(()=>{class n{constructor(){rt("angularfire",em.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=St({type:n}),n.\u0275inj=bt({providers:[_ve,mve]}),n})();function vve(n,...e){return{ngModule:yve,providers:[{provide:MM,useFactory:gve(n),multi:!0,deps:[Ve,jt,tI,nI,[new ut,e0],[new ut,y0],...e]}]}}const wve=_s(uve,!0);function tz(n){return new V(3e3,!1)}function twe(){return typeof window<"u"&&typeof window.document<"u"}function kM(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Co(n){switch(n.length){case 0:return new Od;case 1:return n[0];default:return new S2(n)}}function nz(n,e,t,r,i=new Map,s=new Map){const o=[],a=[];let l=-1,u=null;if(r.forEach(c=>{const d=c.get("offset"),h=d==l,f=h&&u||new Map;c.forEach((p,g)=>{let m=g,v=p;if("offset"!==g)switch(m=e.normalizePropertyName(m,o),v){case"!":v=i.get(g);break;case us:v=s.get(g);break;default:v=e.normalizeStyleValue(g,m,v,o)}f.set(m,v)}),h||a.push(f),u=f,l=d}),o.length)throw function Hve(n){return new V(3502,!1)}();return a}function NM(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&PM(t,"start",n)));break;case"done":n.onDone(()=>r(t&&PM(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&PM(t,"destroy",n)))}}function PM(n,e,t){const s=RM(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function RM(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Sr(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function rz(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let OM=(n,e)=>!1,iz=(n,e,t)=>[],sz=null;function FM(n){const e=n.parentNode||n.host;return e===sz?null:e}(kM()||typeof Element<"u")&&(twe()?(sz=(()=>document.documentElement)(),OM=(n,e)=>{for(;e;){if(e===n)return!0;e=FM(e)}return!1}):OM=(n,e)=>n.contains(e),iz=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let tl=null,oz=!1;const az=OM,lz=iz;let uz=(()=>{class n{validateStyleProperty(t){return function rwe(n){tl||(tl=function iwe(){return typeof document<"u"?document.body:null}()||{},oz=!!tl.style&&"WebkitAppearance"in tl.style);let e=!0;return tl.style&&!function nwe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in tl.style,!e&&oz&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in tl.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return az(t,r)}getParentElement(t){return FM(t)}query(t,r,i){return lz(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new Od(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),LM=(()=>{class n{}return n.NOOP=new uz,n})();const VM="ng-enter",Ey="ng-leave",by="ng-trigger",Cy=".ng-trigger",dz="ng-animating",BM=".ng-animating";function To(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:UM(parseFloat(e[1]),e[2])}function UM(n,e){return"s"===e?1e3*n:n}function Ty(n,e,t){return n.hasOwnProperty("duration")?n:function awe(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(tz()),{duration:0,delay:0,easing:""};i=UM(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=UM(parseFloat(l),a[4]));const u=a[5];u&&(o=u)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function Eve(){return new V(3100,!1)}()),a=!0),s<0&&(e.push(function bve(){return new V(3101,!1)}()),a=!0),a&&e.splice(l,0,tz())}return{duration:i,delay:s,easing:o}}(n,e,t)}function Af(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function hz(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Io(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function pz(n,e,t){return t?e+":"+t+";":""}function gz(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=pz(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=pz(0,dwe(t),n.style[t]));n.setAttribute("style",e)}function Ui(n,e,t){n.style&&(e.forEach((r,i)=>{const s=jM(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),kM()&&gz(n))}function nl(n,e){n.style&&(e.forEach((t,r)=>{const i=jM(r);n.style[i]=""}),kM()&&gz(n))}function xf(n){return Array.isArray(n)?1==n.length?n[0]:T2(n):n}const $M=new RegExp("{{\\s*(.+?)\\s*}}","g");function mz(n){let e=[];if("string"==typeof n){let t;for(;t=$M.exec(n);)e.push(t[1]);$M.lastIndex=0}return e}function Iy(n,e,t){const r=n.toString(),i=r.replace($M,(s,o)=>{let a=e[o];return null==a&&(t.push(function Tve(n){return new V(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function Dy(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const cwe=/-+([a-z0-9])/g;function jM(n){return n.replace(cwe,(...e)=>e[1].toUpperCase())}function dwe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ar(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Ive(n){return new V(3004,!1)}()}}function _z(n,e){return window.getComputedStyle(n)[e]}function _we(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function ywe(n,e,t){if(":"==n[0]){const l=function vwe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Bve(n){return new V(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Vve(n){return new V(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(yz(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(yz(o,i))}(r,t,e)):t.push(n),t}const My=new Set(["true","1"]),ky=new Set(["false","0"]);function yz(n,e){const t=My.has(n)||ky.has(n),r=My.has(e)||ky.has(e);return(i,s)=>{let o="*"==n||n==i,a="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?My.has(n):ky.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?My.has(e):ky.has(e)),o&&a}}const wwe=new RegExp("s*:selfs*,?","g");function HM(n,e,t,r){return new Ewe(n).build(e,t,r)}class Ewe{constructor(e){this._driver=e}build(e,t,r){const i=new Twe(t);return this._resetContextStyleTimingState(i),Ar(this,xf(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function Sve(){return new V(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(c=>{l.name=c,s.push(this.visitState(l,t))}),l.name=u}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function Ave(){return new V(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{mz(l).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size&&(Dy(s.values()),t.errors.push(function xve(n,e){return new V(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Ar(this,xf(e.animation),t);return{type:1,matchers:_we(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:rl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Ar(this,r,t)),options:rl(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Ar(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:rl(e.options)}}visitAnimate(e,t){const r=function Dwe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return GM(Ty(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=GM(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=Ty(t,e);return GM(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Rd({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const u={};r.easing&&(u.easing=r.easing),o=Rd(u)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===us?r.push(a):t.errors.push(new V(3002,!1)):r.push(hz(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const u=t.collectedStyles.get(t.currentQuerySelector),c=u.get(l);let d=!0;c&&(s!=i&&s>=c.startTime&&i<=c.endTime&&(t.errors.push(function kve(n,e,t,r,i){return new V(3010,!1)}()),d=!1),s=c.startTime),d&&u.set(l,{startTime:s,endTime:i}),t.options&&function uwe(n,e,t){const r=e.params||{},i=mz(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function Cve(n){return new V(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Nve(){return new V(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,u=0;const c=e.steps.map(v=>{const I=this._makeStyleAst(v,t);let y=null!=I.offset?I.offset:function Iwe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(I.styles),S=0;return null!=y&&(s++,S=I.offset=y),l=l||S<0||S>1,a=a||S<u,u=S,o.push(S),I});l&&t.errors.push(function Pve(){return new V(3012,!1)}()),a&&t.errors.push(function Rve(){return new V(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function Ove(){return new V(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,g=t.currentAnimateTimings,m=g.duration;return c.forEach((v,I)=>{const y=h>0?I==f?1:h*I:o[I],S=y*m;t.currentTime=p+g.delay+S,g.duration=S,this._validateStyleAst(v,t),v.offset=y,r.styles.push(v)}),r}visitReference(e,t){return{type:8,animation:Ar(this,xf(e.animation),t),options:rl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:rl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:rl(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function bwe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(wwe,"")),n=n.replace(/@\*/g,Cy).replace(/@\w+/g,t=>Cy+"-"+t.slice(1)).replace(/:animating/g,BM),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Sr(t.collectedStyles,t.currentQuerySelector,new Map);const a=Ar(this,xf(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:rl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Fve(){return new V(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Ty(e.timings,t.errors,!0);return{type:12,animation:Ar(this,xf(e.animation),t),timings:r,options:null}}}class Twe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set,this.nonAnimatableCSSPropertiesFound=new Set}}function rl(n){return n?(n=Af(n)).params&&(n.params=function Cwe(n){return n?Af(n):null}(n.params)):n={},n}function GM(n,e,t){return{duration:n,delay:e,easing:t}}function qM(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Ny{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const xwe=new RegExp(":enter","g"),kwe=new RegExp(":leave","g");function WM(n,e,t,r,i,s=new Map,o=new Map,a,l,u=[]){return(new Nwe).buildKeyframes(n,e,t,r,i,s,o,a,l,u)}class Nwe{buildKeyframes(e,t,r,i,s,o,a,l,u,c=[]){u=u||new Ny;const d=new zM(e,t,u,i,s,c,[]);d.options=l;const h=l.delay?To(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),Ar(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const m=f[g];if(m.element===t){p=m;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[qM(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?To(r.duration):null,a=null!=r.delay?To(r.delay):null;return 0!==o&&e.forEach(l=>{const u=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Ar(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Py);const o=To(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Ar(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?To(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Ar(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Ty(t.params?Iy(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?To(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Py);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((u,c)=>{t.currentQueryIndex=c;const d=t.createSubContext(e.options,u);s&&d.delayNextStep(s),u===t.element&&(l=d.currentTimeline),Ar(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const c=t.currentTimeline;l&&c.delayNextStep(l);const d=c.currentTime;Ar(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const Py={};class zM{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Py,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Ry(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=To(r.duration)),null!=r.delay&&(i.delay=To(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Iy(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new zM(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Py,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new Pwe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(xwe,"."+this._enterClassName)).replace(kwe,"."+this._leaveClassName);let u=this._driver.query(this.element,e,1!=r);0!==r&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!s&&0==a.length&&o.push(function Lve(n){return new V(3014,!1)}()),a}}class Ry{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Ry(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||us),this._currentKeyframe.set(t,us);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function Rwe(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,us)}else Io(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const u=Iy(l,s,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)||us),this._updateStyle(a,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const u=Io(a,new Map,this._backFill);u.forEach((c,d)=>{"!"===c?e.add(d):c===us&&t.add(d)}),r||u.set("offset",l/this.duration),i.push(u)});const s=e.size?Dy(e.values()):[],o=t.size?Dy(t.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return qM(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class Pwe extends Ry{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=Io(e[0]);l.set("offset",0),s.push(l);const u=Io(e[0]);u.set("offset",Ez(a)),s.push(u);const c=e.length-1;for(let d=1;d<=c;d++){let h=Io(e[d]);const f=h.get("offset");h.set("offset",Ez((t+f*r)/o)),s.push(h)}r=o,t=0,i="",e=s}return qM(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function Ez(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class KM{}const Owe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Fwe extends KM{normalizePropertyName(e,t){return jM(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(Owe.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Dve(n,e){return new V(3005,!1)}())}return o+s}}function bz(n,e,t,r,i,s,o,a,l,u,c,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:d,errors:h}}const QM={};class Cz{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Lwe(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,l,u,c){const d=[],h=this.ast.options&&this.ast.options.params||QM,p=this.buildStyles(r,a&&a.params||QM,d),g=l&&l.params||QM,m=this.buildStyles(i,g,d),v=new Set,I=new Map,y=new Map,S="void"===i,L={params:Vwe(g,h),delay:this.ast.options?.delay},H=c?[]:WM(e,t,this.ast.animation,s,o,p,m,L,u,d);let ge=0;if(H.forEach(Tn=>{ge=Math.max(Tn.duration+Tn.delay,ge)}),d.length)return bz(t,this._triggerName,r,i,S,p,m,[],[],I,y,ge,d);H.forEach(Tn=>{const Jn=Tn.element,cc=Sr(I,Jn,new Set);Tn.preStyleProps.forEach(fi=>cc.add(fi));const Ms=Sr(y,Jn,new Set);Tn.postStyleProps.forEach(fi=>Ms.add(fi)),Jn!==t&&v.add(Jn)});const It=Dy(v.values());return bz(t,this._triggerName,r,i,S,p,m,H,It,I,y,ge)}}function Vwe(n,e){const t=Af(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Bwe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Af(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Iy(o,i,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(l,o)})}),r}}class $we{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Bwe(i.style,i.options&&i.options.params||{},r))}),Tz(this.states,"true","1"),Tz(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Cz(e,i,this.states))}),this.fallbackTransition=function jwe(n,e,t){return new Cz(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function Tz(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Hwe=new Ny;class Gwe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=HM(this._driver,t,r,[]);if(r.length)throw function Gve(n){return new V(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=nz(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=WM(this._driver,t,s,VM,Ey,new Map,new Map,r,Hwe,i),o.forEach(c=>{const d=Sr(a,c.element,new Map);c.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function qve(){return new V(3300,!1)}()),o=[]),i.length)throw function Wve(n){return new V(3504,!1)}();a.forEach((c,d)=>{c.forEach((h,f)=>{c.set(f,this._driver.computeStyle(d,f,us))})});const u=Co(o.map(c=>{const d=a.get(c.element);return this._buildPlayer(c,new Map,d)}));return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function zve(n){return new V(3301,!1)}();return t}listen(e,t,r,i){const s=RM(t,"","","");return NM(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const Iz="ng-animate-queued",YM="ng-animate-disabled",Qwe=[],Dz={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ywe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Gr="__ng_removed";class JM{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function eEe(n){return n??null}(r?e.value:e),r){const s=Af(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Mf="void",XM=new JM(Mf);class Jwe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,qr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Kve(n,e){return new V(3302,!1)}();if(null==r||0==r.length)throw function Qve(n){return new V(3303,!1)}();if(!function tEe(n){return"start"==n||"done"==n}(r))throw function Yve(n,e){return new V(3400,!1)}();const s=Sr(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Sr(this._engine.statesByElement,e,new Map);return a.has(t)||(qr(e,by),qr(e,by+"-"+t),a.set(t,XM)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Jve(n){return new V(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new ZM(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(qr(e,by),qr(e,by+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const u=new JM(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(t,u),l||(l=XM),u.value!==Mf&&l.value===u.value){if(!function iEe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,u.params)){const g=[],m=s.matchStyles(l.value,l.params,g),v=s.matchStyles(u.value,u.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{nl(e,m),Ui(e,v)})}return}const h=Sr(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=s.matchTransition(l.value,u.value,e,u.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:u,player:o,isFallbackTransition:p}),p||(qr(e,Iz),o.onStart(()=>{uc(e,Iz)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const m=this._engine.playersByElement.get(e);if(m){let v=m.indexOf(o);v>=0&&m.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Cy,!0);r.forEach(i=>{if(i[Gr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,u)=>{if(o.set(u,l.value),this._triggers.has(u)){const c=this.trigger(e,u,Mf,i);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Co(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,u=r.get(o)||XM,c=new JM(Mf),d=new ZM(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:u,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Gr];(!s||s===Dz)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){qr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=RM(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,NM(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Xwe{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Jwe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const u=r.indexOf(l);r.splice(u+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(Oy(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Oy(t))return;const s=t[Gr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),qr(e,YM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),uc(e,YM))}removeNode(e,t,r,i){if(Oy(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Gr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return Oy(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Cy,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,BM,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Co(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Gr];if(t&&t.setForRemoval){if(e[Gr]=Dz,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(YM)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)qr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Co(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Xve(n){return new V(3402,!1)}()}_flushAnimations(e,t){const r=new Ny,i=[],s=new Map,o=[],a=new Map,l=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(j=>{c.add(j);const q=this.driver.query(j,".ng-animate-queued",!0);for(let ee=0;ee<q.length;ee++)c.add(q[ee])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=xz(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((j,q)=>{const ee=VM+g++;p.set(q,ee),j.forEach(Se=>qr(Se,ee))});const m=[],v=new Set,I=new Set;for(let j=0;j<this.collectedLeaveElements.length;j++){const q=this.collectedLeaveElements[j],ee=q[Gr];ee&&ee.setForRemoval&&(m.push(q),v.add(q),ee.hasAnimation?this.driver.query(q,".ng-star-inserted",!0).forEach(Se=>v.add(Se)):I.add(q))}const y=new Map,S=xz(h,Array.from(v));S.forEach((j,q)=>{const ee=Ey+g++;y.set(q,ee),j.forEach(Se=>qr(Se,ee))}),e.push(()=>{f.forEach((j,q)=>{const ee=p.get(q);j.forEach(Se=>uc(Se,ee))}),S.forEach((j,q)=>{const ee=y.get(q);j.forEach(Se=>uc(Se,ee))}),m.forEach(j=>{this.processLeaveNode(j)})});const L=[],H=[];for(let j=this._namespaceList.length-1;j>=0;j--)this._namespaceList[j].drainQueuedTransitions(t).forEach(ee=>{const Se=ee.player,an=ee.element;if(L.push(Se),this.collectedEnterElements.length){const Fn=an[Gr];if(Fn&&Fn.setForMove){if(Fn.previousTriggersValues&&Fn.previousTriggersValues.has(ee.triggerName)){const il=Fn.previousTriggersValues.get(ee.triggerName),Wr=this.statesByElement.get(ee.element);if(Wr&&Wr.has(ee.triggerName)){const Vy=Wr.get(ee.triggerName);Vy.value=il,Wr.set(ee.triggerName,Vy)}}return void Se.destroy()}}const $i=!d||!this.driver.containsElement(d,an),xr=y.get(an),Do=p.get(an),pt=this._buildInstruction(ee,r,Do,xr,$i);if(pt.errors&&pt.errors.length)return void H.push(pt);if($i)return Se.onStart(()=>nl(an,pt.fromStyles)),Se.onDestroy(()=>Ui(an,pt.toStyles)),void i.push(Se);if(ee.isFallbackTransition)return Se.onStart(()=>nl(an,pt.fromStyles)),Se.onDestroy(()=>Ui(an,pt.toStyles)),void i.push(Se);const Vz=[];pt.timelines.forEach(Fn=>{Fn.stretchStartingKeyframe=!0,this.disabledNodes.has(Fn.element)||Vz.push(Fn)}),pt.timelines=Vz,r.append(an,pt.timelines),o.push({instruction:pt,player:Se,element:an}),pt.queriedElements.forEach(Fn=>Sr(a,Fn,[]).push(Se)),pt.preStyleProps.forEach((Fn,il)=>{if(Fn.size){let Wr=l.get(il);Wr||l.set(il,Wr=new Set),Fn.forEach((Vy,t1)=>Wr.add(t1))}}),pt.postStyleProps.forEach((Fn,il)=>{let Wr=u.get(il);Wr||u.set(il,Wr=new Set),Fn.forEach((Vy,t1)=>Wr.add(t1))})});if(H.length){const j=[];H.forEach(q=>{j.push(function Zve(n,e){return new V(3505,!1)}())}),L.forEach(q=>q.destroy()),this.reportError(j)}const ge=new Map,It=new Map;o.forEach(j=>{const q=j.element;r.has(q)&&(It.set(q,q),this._beforeAnimationBuild(j.player.namespaceId,j.instruction,ge))}),i.forEach(j=>{const q=j.element;this._getPreviousPlayers(q,!1,j.namespaceId,j.triggerName,null).forEach(Se=>{Sr(ge,q,[]).push(Se),Se.destroy()})});const Tn=m.filter(j=>kz(j,l,u)),Jn=new Map;Az(Jn,this.driver,I,u,us).forEach(j=>{kz(j,l,u)&&Tn.push(j)});const Ms=new Map;f.forEach((j,q)=>{Az(Ms,this.driver,new Set(j),l,"!")}),Tn.forEach(j=>{const q=Jn.get(j),ee=Ms.get(j);Jn.set(j,new Map([...Array.from(q?.entries()??[]),...Array.from(ee?.entries()??[])]))});const fi=[],dc=[],hc={};o.forEach(j=>{const{element:q,player:ee,instruction:Se}=j;if(r.has(q)){if(c.has(q))return ee.onDestroy(()=>Ui(q,Se.toStyles)),ee.disabled=!0,ee.overrideTotalTime(Se.totalTime),void i.push(ee);let an=hc;if(It.size>1){let xr=q;const Do=[];for(;xr=xr.parentNode;){const pt=It.get(xr);if(pt){an=pt;break}Do.push(xr)}Do.forEach(pt=>It.set(pt,an))}const $i=this._buildAnimation(ee.namespaceId,Se,ge,s,Ms,Jn);if(ee.setRealPlayer($i),an===hc)fi.push(ee);else{const xr=this.playersByElement.get(an);xr&&xr.length&&(ee.parentPlayer=Co(xr)),i.push(ee)}}else nl(q,Se.fromStyles),ee.onDestroy(()=>Ui(q,Se.toStyles)),dc.push(ee),c.has(q)&&i.push(ee)}),dc.forEach(j=>{const q=s.get(j.element);if(q&&q.length){const ee=Co(q);j.setRealPlayer(ee)}}),i.forEach(j=>{j.parentPlayer?j.syncPlayerEvents(j.parentPlayer):j.destroy()});for(let j=0;j<m.length;j++){const q=m[j],ee=q[Gr];if(uc(q,Ey),ee&&ee.hasAnimation)continue;let Se=[];if(a.size){let $i=a.get(q);$i&&$i.length&&Se.push(...$i);let xr=this.driver.query(q,BM,!0);for(let Do=0;Do<xr.length;Do++){let pt=a.get(xr[Do]);pt&&pt.length&&Se.push(...pt)}}const an=Se.filter($i=>!$i.destroyed);an.length?nEe(this,q,an):this.processLeaveNode(q)}return m.length=0,fi.forEach(j=>{this.players.push(j),j.onDone(()=>{j.destroy();const q=this.players.indexOf(j);this.players.splice(q,1)}),j.play()}),fi}elementContainsData(e,t){let r=!1;const i=t[Gr];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==Mf;a.forEach(u=>{u.queued||!l&&u.triggerName!=i||o.push(u)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const u=l.element,c=u!==s,d=Sr(r,u,[]);this._getPreviousPlayers(u,c,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}nl(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,u=[],c=new Set,d=new Set,h=t.timelines.map(p=>{const g=p.element;c.add(g);const m=g[Gr];if(m&&m.removedBeforeQueried)return new Od(p.duration,p.delay);const v=g!==l,I=function rEe(n){const e=[];return Mz(n,e),e}((r.get(g)||Qwe).map(ge=>ge.getRealPlayer())).filter(ge=>!!ge.element&&ge.element===g),y=s.get(g),S=o.get(g),L=nz(0,this._normalizer,0,p.keyframes,y,S),H=this._buildPlayer(p,L,I);if(p.subTimeline&&i&&d.add(g),v){const ge=new ZM(e,a,g);ge.setRealPlayer(H),u.push(ge)}return H});u.forEach(p=>{Sr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Zwe(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),c.forEach(p=>qr(p,dz));const f=Co(h);return f.onDestroy(()=>{c.forEach(p=>uc(p,dz)),Ui(l,t.toStyles)}),d.forEach(p=>{Sr(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Od(e.duration,e.delay)}}class ZM{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Od,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>NM(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Sr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Oy(n){return n&&1===n.nodeType}function Sz(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Az(n,e,t,r,i){const s=[];t.forEach(l=>s.push(Sz(l)));const o=[];r.forEach((l,u)=>{const c=new Map;l.forEach(d=>{const h=e.computeStyle(u,d,i);c.set(d,h),(!h||0==h.length)&&(u[Gr]=Ywe,o.push(u))}),n.set(u,c)});let a=0;return t.forEach(l=>Sz(l,s[a++])),o}function xz(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const u=a.parentNode;return l=t.has(u)?u:i.has(u)?1:o(u),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function qr(n,e){n.classList?.add(e)}function uc(n,e){n.classList?.remove(e)}function nEe(n,e,t){Co(t).onDone(()=>n.processLeaveNode(e))}function Mz(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof S2?Mz(r.players,e):e.push(r)}}function kz(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class Fy{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Xwe(e,t,r),this._timelineEngine=new Gwe(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],c=HM(this._driver,s,l,[]);if(l.length)throw function jve(n,e){return new V(3404,!1)}();a=function Uwe(n,e,t){return new $we(n,e,t)}(i,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=rz(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=rz(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let oEe=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ui(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ui(this._element,this._initialStyles),this._endStyles&&(Ui(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(nl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(nl(this._element,this._endStyles),this._endStyles=null),Ui(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function e1(n){let e=null;return n.forEach((t,r)=>{(function aEe(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class Nz{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:_z(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class lEe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return az(e,t)}getParentElement(e){return FM(e)}query(e,t,r){return lz(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const u=new Map,c=o.filter(f=>f instanceof Nz);(function hwe(n,e){return 0===n||0===e})(r,i)&&c.forEach(f=>{f.currentSnapshot.forEach((p,g)=>u.set(g,p))});let d=function lwe(n){return n.length?n[0]instanceof Map?n:n.map(e=>hz(e)):[]}(t).map(f=>Io(f));d=function fwe(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,_z(n,a)))}}return e}(e,d,u);const h=function sEe(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=e1(e[0]),e.length>1&&(r=e1(e[e.length-1]))):e instanceof Map&&(t=e1(e)),t||r?new oEe(n,t,r):null}(e,d);return new Nz(e,d,l,h)}}let uEe=(()=>{class n extends b2{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Qr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?T2(t):t;return Pz(this._renderer,null,r,"register",[i]),new cEe(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(N(Xc),N(xt))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();class cEe extends class yne{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new dEe(this._id,e,t||{},this._renderer)}}class dEe{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Pz(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Pz(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const Rz="@.disabled";let hEe=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let c=this._rendererCache.get(s);return c||(c=new Oz("",s,this.engine),this._rendererCache.set(s,c)),c}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=c=>{Array.isArray(c)?c.forEach(l):this.engine.registerTrigger(o,a,t,c.name,c)};return r.data.animation.forEach(l),new fEe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(N(Xc),N(Fy),N(Ve))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();class Oz{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==Rz?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class fEe extends Oz{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Rz?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function pEe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function gEe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let mEe=(()=>{class n extends Fy{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(N(xt),N(LM),N(KM))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const Fz=[{provide:b2,useClass:uEe},{provide:KM,useFactory:function _Ee(){return new Fwe}},{provide:Fy,useClass:mEe},{provide:Xc,useFactory:function yEe(n,e,t){return new hEe(n,e,t)},deps:[cg,Fy,Ve]}],Lz=[{provide:LM,useFactory:()=>new lEe},{provide:qO,useValue:"BrowserAnimations"},...Fz],vEe=[{provide:LM,useClass:uz},{provide:qO,useValue:"NoopAnimations"},...Fz];let wEe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?vEe:Lz}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=St({type:n}),n.\u0275inj=bt({providers:Lz,imports:[eL]}),n})(),EEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=St({type:n,bootstrap:[Gge]}),n.\u0275inj=bt({imports:[eL,Hge,Kge,ou,J3,aae(()=>lae(oL_firebase)),vve(()=>wve()),cge(()=>pge()),$ne.forRoot(),wEe]}),n})();(function xY(){oF=!1})(),jX().bootstrapModule(EEe).catch(n=>console.error(n))}},We=>{We(We.s=776)}]);